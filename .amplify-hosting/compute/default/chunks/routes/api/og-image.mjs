import{d as o,g as t,c as e,s}from"../../_/nitro.mjs";import"node:http";import"node:https";import"vue";import"node:fs";import"node:url";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"node:path";const r=o((async o=>{const r=t(o).url;if(!r)throw e({statusCode:400,statusMessage:"Image URL is required"});try{const t=await $fetch(r,{method:"GET",responseType:"arrayBuffer"});return s(o,{"Content-Type":"image/jpeg","Cache-Control":"public, max-age=31536000, immutable","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, HEAD, OPTIONS","Access-Control-Allow-Headers":"*","X-Content-Type-Options":"nosniff"}),t}catch(o){throw console.error("Error proxying OG image:",o),e({statusCode:500,statusMessage:"Failed to fetch image"})}}));export{r as default};

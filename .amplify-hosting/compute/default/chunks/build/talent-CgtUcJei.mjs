import{useSSRContext as e,defineComponent as t,ref as a,computed as r,mergeProps as o,withCtx as s,unref as n,createVNode as l,createTextVNode as i,toDisplayString as m,openBlock as u,createBlock as d,createCommentVNode as c,withAsyncContext as p,watch as v,Fragment as f}from"vue";import{ssrRenderComponent as j,ssrInterpolate as g,ssrRenderAttrs as h}from"vue/server-renderer";import{_,a as y,V,b as T}from"./server.mjs";import{u as x}from"./useApps-hYo13Xt3.mjs";import{u as b}from"./useSnackMessage-PVLwAm7x.mjs";import{useRouter as C}from"vue-router";import{_ as S}from"./nuxt-link-CU98Qcmd.mjs";import{V as B}from"./VCard-CsohsM82.mjs";import{V as k}from"./VAvatar-JL8WKjry.mjs";import{V as w}from"./VImg-B2jcJjnn.mjs";import{a as D}from"./VChip-f_o2BAA4.mjs";import{Q as E,T as U}from"./QuickTalentSelection-DYzSZiSn.mjs";import{_ as R}from"./BaseContent-D2jufG_L.mjs";import{V as Y}from"./VContainer-By3q0af_.mjs";import{V as $}from"./VDivider-BmyMVZMt.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./index--K8ZrFMm.mjs";import"./useTalentCategories-DQov3s2P.mjs";import"./VAutocomplete-BqaBgOKW.mjs";import"./VSelect-BWLkvD3S.mjs";import"./VTextField-rd-VvEF8.mjs";import"./VCounter-BZE6l8kb.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./VList-CcwwrkQR.mjs";import"./VListItem-jTLuICGb.mjs";import"./ssrBoot-BtvJZs44.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./VMenu-BpdBiT5v.mjs";import"./VOverlay-ZKavbTei.mjs";import"./VCheckboxBtn-v4ZZzD80.mjs";import"./VSelectionControl-BvLhSUlq.mjs";import"./filter-BWdoXH_J.mjs";import"./SelectTalent-DshisEIU.mjs";import"./VDialog-DA9BdIfh.mjs";import"./VAlert-DneVUU3Q.mjs";import"./VForm-HRC00ryg.mjs";import"./VRow-rkX0LEXR.mjs";import"./VCol-CKxprC4g.mjs";import"./VTextarea-DkPaPTLI.mjs";import"./VSpacer-_gFExeVk.mjs";import"lodash/debounce.js";import"./BaseDialog-DsGYlnLZ.mjs";import"./EmptyStateCard-3UqWseqH.mjs";import"./VSkeletonLoader-CXOx9RZQ.mjs";import"./VSnackbar-zBX8NfdO.mjs";const L=t({__name:"TalentCurrentStatus",__ssrInlineRender:!0,emits:["change-talent"],setup(e,{emit:t}){const p=y(),v=a(!1),f=r((()=>{var e;return null==(e=p.user)?void 0:e.value}));return(e,t,a,r)=>{const p=S;t(j(B,o({class:"current-talent-status pa-4",elevation:"2"},r),{default:s(((e,t,a,r)=>{var o,h,_,y,x,b,C,S;if(!t)return[l("div",{class:"d-flex flex-column align-center text-center"},[l("div",{class:"status-header mb-6"},[l(V,{color:"primary",size:"48",icon:"mdi-account-star",class:"mb-2"}),l("h2",{class:"text-h5 font-weight-bold"},"Your Current Talent")]),(null==(x=n(f))?void 0:x.profile_photo)?(u(),d(k,{key:0,size:"120",class:"mb-4"},{default:s((()=>[l(w,{src:n(f).profile_photo,alt:n(f).display_name},null,8,["src","alt"])])),_:1})):c("",!0),l("div",{class:"talent-info mb-6"},[l("h3",{class:"text-h6 mb-2"},m(null==(b=n(f))?void 0:b.display_name),1),l(D,{color:"primary",variant:"tonal",size:"large",class:"mb-4"},{default:s((()=>{var e;return[i(m(null==(e=n(f))?void 0:e.talent),1)]})),_:1}),l("p",{class:"text-body-1 text-medium-emphasis mb-4"}," You're currently showcasing your talent as a "+m(null==(C=n(f))?void 0:C.talent),1),(null==(S=n(f))?void 0:S.username)?(u(),d(p,{key:0,to:`/${n(f).username}`,class:"text-decoration-none"},{default:s((()=>[l(T,{color:"primary",variant:"elevated","prepend-icon":"mdi-account-edit",loading:v.value},{default:s((()=>[i(" Edit Your Talent Profile ")])),_:1},8,["loading"])])),_:1},8,["to"])):c("",!0)])])];t(`<div class="d-flex flex-column align-center text-center" data-v-64c36a11${r}><div class="status-header mb-6" data-v-64c36a11${r}>`),t(j(V,{color:"primary",size:"48",icon:"mdi-account-star",class:"mb-2"},null,a,r)),t(`<h2 class="text-h5 font-weight-bold" data-v-64c36a11${r}>Your Current Talent</h2></div>`),(null==(o=n(f))?void 0:o.profile_photo)?t(j(k,{size:"120",class:"mb-4"},{default:s(((e,t,a,r)=>{if(!t)return[l(w,{src:n(f).profile_photo,alt:n(f).display_name},null,8,["src","alt"])];t(j(w,{src:n(f).profile_photo,alt:n(f).display_name},null,a,r))})),_:1},a,r)):t("\x3c!----\x3e"),t(`<div class="talent-info mb-6" data-v-64c36a11${r}><h3 class="text-h6 mb-2" data-v-64c36a11${r}>${g(null==(h=n(f))?void 0:h.display_name)}</h3>`),t(j(D,{color:"primary",variant:"tonal",size:"large",class:"mb-4"},{default:s(((e,t,a,r)=>{var o,s;if(!t)return[i(m(null==(s=n(f))?void 0:s.talent),1)];t(`${g(null==(o=n(f))?void 0:o.talent)}`)})),_:1},a,r)),t(`<p class="text-body-1 text-medium-emphasis mb-4" data-v-64c36a11${r}> You&#39;re currently showcasing your talent as a ${g(null==(_=n(f))?void 0:_.talent)}</p>`),(null==(y=n(f))?void 0:y.username)?t(j(p,{to:`/${n(f).username}`,class:"text-decoration-none"},{default:s(((e,t,a,r)=>{if(!t)return[l(T,{color:"primary",variant:"elevated","prepend-icon":"mdi-account-edit",loading:v.value},{default:s((()=>[i(" Edit Your Talent Profile ")])),_:1},8,["loading"])];t(j(T,{color:"primary",variant:"elevated","prepend-icon":"mdi-account-edit",loading:v.value},{default:s(((e,t,a,r)=>{if(!t)return[i(" Edit Your Talent Profile ")];t(" Edit Your Talent Profile ")})),_:1},a,r))})),_:1},a,r)):t("\x3c!----\x3e"),t("</div></div>")})),_:1},a))}}}),Z=L.setup;L.setup=(t,a)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/talent/TalentCurrentStatus.vue"),Z?Z(t,a):void 0};const A=_(L,[["__scopeId","data-v-64c36a11"]]),I=t({__name:"talent",__ssrInlineRender:!0,async setup(e){let t,o;const n=y(),i=x(),m=r((()=>{var e,t;return!!(null==(t=null==(e=n.user)?void 0:e.value)?void 0:t.talent)})),handleChangeTalent=async()=>{await confirm("Are you sure you want to change your talent?")&&await n.fetchUser()},handleTalentUpdated=async e=>{console.log("Talent updated:",e),await n.fetchUser()},c=C(),g=b(),handleRegistrationSuccess=e=>{g.success(e,{timeout:3e3}),setTimeout((()=>{c.push("/")}),3e3)},handleRegistrationError=e=>{g.error(e,{timeout:5e3})},_=a(null),handleQuickTalentRegistered=async e=>{console.log("Quick talent registered:",e),await n.fetchUser(),handleRegistrationSuccess(`Talent "${e.name}" registered successfully!`)},handleQuickTalentSelected=()=>{_.value&&_.value.resetForm()};[t,o]=p((()=>i.fetchTalaStageApp())),await t,o();const V=r((()=>i.talastageApp));return v((()=>V.value),(e=>{e&&(m.value,e.name)}),{immediate:!0}),(e,t,a,r)=>{t(`<div${h(r)} data-v-5813ad05>`),t(j(Y,{class:"pa-4"},{default:s(((e,t,a,r)=>{if(!t)return[m.value?(u(),d(R,{key:0,title:"Your Talent",subtitle:"Manage your current talent profile"},{content:s((()=>[l(A,{onChangeTalent:handleChangeTalent})])),_:1})):(u(),d(f,{key:1},[l(E,{onTalentRegistered:handleQuickTalentRegistered,onTalentSelected:handleQuickTalentSelected,onError:handleRegistrationError,class:"mb-6"}),l($,{class:"mb-6"}),l(U,{mode:"create","is-dialog-mode":!1,onTalentUpdated:handleTalentUpdated,onSuccess:handleRegistrationSuccess,onError:handleRegistrationError,ref_key:"talentRegisterForm",ref:_},null,512)],64))];m.value?t(j(R,{title:"Your Talent",subtitle:"Manage your current talent profile"},{content:s(((e,t,a,r)=>{if(!t)return[l(A,{onChangeTalent:handleChangeTalent})];t(j(A,{onChangeTalent:handleChangeTalent},null,a,r))})),_:1},a,r)):(t("\x3c!--[--\x3e"),t(j(E,{onTalentRegistered:handleQuickTalentRegistered,onTalentSelected:handleQuickTalentSelected,onError:handleRegistrationError,class:"mb-6"},null,a,r)),t(j($,{class:"mb-6"},null,a,r)),t(j(U,{mode:"create","is-dialog-mode":!1,onTalentUpdated:handleTalentUpdated,onSuccess:handleRegistrationSuccess,onError:handleRegistrationError,ref_key:"talentRegisterForm",ref:_},null,a,r)),t("\x3c!--]--\x3e"))})),_:1},a)),t("</div>")}}}),z=I.setup;I.setup=(t,a)=>{const r=e();return(r.modules||(r.modules=new Set)).add("pages/register/talent.vue"),z?z(t,a):void 0};const F=_(I,[["__scopeId","data-v-5813ad05"]]);export{F as default};

import{_ as e}from"./MediaThumbnail-jyEgcC54.mjs";import{_ as t}from"./UserAvatar-DFFlBvus.mjs";import{useSSRContext as a,defineComponent as o,mergeProps as r,unref as l,withCtx as s,createVNode as c,openBlock as n,createBlock as i,createCommentVNode as d,toDisplayString as p,computed as u,ref as _,Fragment as m,renderList as j,createTextVNode as v,renderSlot as f,withDirectives as y,vShow as g}from"vue";import{ssrRenderComponent as x,ssrInterpolate as h,ssrRenderAttrs as k,ssrRenderList as $,ssrRenderSlot as b,ssrRenderStyle as C}from"vue/server-renderer";import{_ as w,V,aA as L}from"./server.mjs";import{V as z}from"./VCard-CsohsM82.mjs";import{_ as P}from"./ProjectCardSkeleton-DMcYuKOy.mjs";import{_ as U}from"./ProjectCardCompact-C94E1iON.mjs";import{u as B}from"./index-8pAncyvV.mjs";import{V as E}from"./VContainer-By3q0af_.mjs";import{V as I}from"./VRow-rkX0LEXR.mjs";import{V as N}from"./VCol-CKxprC4g.mjs";const D=o({__name:"ProjectCard",__ssrInlineRender:!0,props:{project:{},loading:{type:Boolean},hasElevation:{type:Boolean}},setup(a){var o;const u=a,_=null==(o=u.hasElevation)||o,navigateToProject=()=>{L(`/watch/${u.project.access_uuid}`)};return(a,o,u,m)=>{const j=e,v=t;o(x(z,r({class:["project-card",{"no-elevation":!l(_)}],elevation:l(_)?10:0,loading:a.loading,onClick:navigateToProject},m),{default:s(((e,t,o,r)=>{var l,s;if(!t)return[c("div",{class:"project-card__thumbnail-container"},[c(j,{thumbnailUrl:a.project.thumbnail_url,videoUrl:a.project.video_url,showViews:!1,showDuration:!0,size:"2xl",class:"project-card__thumbnail"},null,8,["thumbnailUrl","videoUrl"]),c("div",{class:"project-card__play-overlay"},[c(V,{icon:"mdi-play-circle",size:"x-large",color:"white"})])]),c("div",{class:"project-card__wrapper"},[a.project.creator?(n(),i("div",{key:0,class:"project-card__avatar-container"},[c(v,{username:a.project.creator.username,profile_photo:a.project.creator.profile_photo,size:36,class:"project-card__avatar"},null,8,["username","profile_photo"])])):d("",!0),c("div",{class:"project-card__info-container"},[c("div",{class:"project-card__title-container"},[c("h3",{class:"project-card__title"},p(a.project.name),1)]),c("div",{class:"project-card__creator-container"},[c("span",{class:"project-card__creator-name"},p(null==(s=a.project.creator)?void 0:s.display_name),1)])])])];t(`<div class="project-card__thumbnail-container" data-v-9e597598${r}>`),t(x(j,{thumbnailUrl:a.project.thumbnail_url,videoUrl:a.project.video_url,showViews:!1,showDuration:!0,size:"2xl",class:"project-card__thumbnail"},null,o,r)),t(`<div class="project-card__play-overlay" data-v-9e597598${r}>`),t(x(V,{icon:"mdi-play-circle",size:"x-large",color:"white"},null,o,r)),t(`</div></div><div class="project-card__wrapper" data-v-9e597598${r}>`),a.project.creator?(t(`<div class="project-card__avatar-container" data-v-9e597598${r}>`),t(x(v,{username:a.project.creator.username,profile_photo:a.project.creator.profile_photo,size:36,class:"project-card__avatar"},null,o,r)),t("</div>")):t("\x3c!----\x3e"),t(`<div class="project-card__info-container" data-v-9e597598${r}><div class="project-card__title-container" data-v-9e597598${r}><h3 class="project-card__title" data-v-9e597598${r}>${h(a.project.name)}</h3></div><div class="project-card__creator-container" data-v-9e597598${r}><span class="project-card__creator-name" data-v-9e597598${r}>${h(null==(l=a.project.creator)?void 0:l.display_name)}</span></div></div></div>`)})),_:1},u))}}}),M=D.setup;D.setup=(e,t)=>{const o=a();return(o.modules||(o.modules=new Set)).add("components/project/ProjectCard.vue"),M?M(e,t):void 0};const R=w(D,[["__scopeId","data-v-9e597598"]]),A=o({__name:"ProjectGrid",__ssrInlineRender:!0,props:{projects:{},currentPage:{},lastPage:{},isLoading:{type:Boolean},title:{},variant:{},skeletonCount:{}},emits:["load-more"],setup(e,{emit:t}){const a=e,o=t,l=u((()=>"grid"===a.variant)),p=u((()=>a.currentPage<a.lastPage)),h=u((()=>void 0!==a.skeletonCount&&null!==a.skeletonCount?a.skeletonCount:l.value?9:6)),w=_(null);return B(w,(([e])=>{(null==e?void 0:e.isIntersecting)&&!a.isLoading&&p.value&&o("load-more")}),{threshold:.1,rootMargin:"100px"}),(e,t,a,o)=>{const u=R,_=P,L=U;t(`<div${k(r({class:"project-grid"},o))} data-v-623b1ca6>`),t(x(E,{fluid:"",class:"pa-0"},{default:s(((t,a,o,r)=>{if(!a)return[l.value?(n(),i(I,{key:0},{default:s((()=>[(n(!0),i(m,null,j(e.projects,(e=>(n(),i(N,{key:e.id,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s((()=>[c(u,{project:e,loading:!1},null,8,["project"])])),_:2},1024)))),128)),e.isLoading?(n(!0),i(m,{key:0},j(h.value,(e=>(n(),i(N,{key:`skeleton-${e}`,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s((()=>[c(_)])),_:2},1024)))),128)):d("",!0)])),_:1})):(n(),i(I,{key:1},{default:s((()=>[(n(!0),i(m,null,j(e.projects,(e=>(n(),i(N,{key:e.id,cols:"12",class:"pa-2"},{default:s((()=>[c(L,{project:e},null,8,["project"])])),_:2},1024)))),128)),e.isLoading?(n(!0),i(m,{key:0},j(h.value,(e=>(n(),i(N,{key:`skeleton-${e}`,cols:"12",class:"pa-2"},{default:s((()=>[c(_,{compact:""})])),_:2},1024)))),128)):d("",!0)])),_:1})),e.isLoading||0!==e.projects.length?d("",!0):(n(),i(I,{key:2},{default:s((()=>[c(N,{cols:"12",class:"text-center"},{default:s((()=>[f(e.$slots,"empty-state",{},(()=>[c(V,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[v(" mdi-folder-open-outline ")])),_:1}),c("p",{class:"text-body-1"},"No projects found.")]),!0)])),_:3})])),_:3})),y(c("div",{ref_key:"intersectionTarget",ref:w,class:"intersection-target"},null,512),[[g,p.value]])];l.value?a(x(I,null,{default:s(((t,a,o,r)=>{if(!a)return[(n(!0),i(m,null,j(e.projects,(e=>(n(),i(N,{key:e.id,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s((()=>[c(u,{project:e,loading:!1},null,8,["project"])])),_:2},1024)))),128)),e.isLoading?(n(!0),i(m,{key:0},j(h.value,(e=>(n(),i(N,{key:`skeleton-${e}`,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s((()=>[c(_)])),_:2},1024)))),128)):d("",!0)];a("\x3c!--[--\x3e"),$(e.projects,(e=>{a(x(N,{key:e.id,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(((t,a,o,r)=>{if(!a)return[c(u,{project:e,loading:!1},null,8,["project"])];a(x(u,{project:e,loading:!1},null,o,r))})),_:2},o,r))})),a("\x3c!--]--\x3e"),e.isLoading?(a("\x3c!--[--\x3e"),$(h.value,(e=>{a(x(N,{key:`skeleton-${e}`,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(((e,t,a,o)=>{if(!t)return[c(_)];t(x(_,null,null,a,o))})),_:2},o,r))})),a("\x3c!--]--\x3e")):a("\x3c!----\x3e")})),_:1},o,r)):a(x(I,null,{default:s(((t,a,o,r)=>{if(!a)return[(n(!0),i(m,null,j(e.projects,(e=>(n(),i(N,{key:e.id,cols:"12",class:"pa-2"},{default:s((()=>[c(L,{project:e},null,8,["project"])])),_:2},1024)))),128)),e.isLoading?(n(!0),i(m,{key:0},j(h.value,(e=>(n(),i(N,{key:`skeleton-${e}`,cols:"12",class:"pa-2"},{default:s((()=>[c(_,{compact:""})])),_:2},1024)))),128)):d("",!0)];a("\x3c!--[--\x3e"),$(e.projects,(e=>{a(x(N,{key:e.id,cols:"12",class:"pa-2"},{default:s(((t,a,o,r)=>{if(!a)return[c(L,{project:e},null,8,["project"])];a(x(L,{project:e},null,o,r))})),_:2},o,r))})),a("\x3c!--]--\x3e"),e.isLoading?(a("\x3c!--[--\x3e"),$(h.value,(e=>{a(x(N,{key:`skeleton-${e}`,cols:"12",class:"pa-2"},{default:s(((e,t,a,o)=>{if(!t)return[c(_,{compact:""})];t(x(_,{compact:""},null,a,o))})),_:2},o,r))})),a("\x3c!--]--\x3e")):a("\x3c!----\x3e")})),_:1},o,r)),e.isLoading||0!==e.projects.length?a("\x3c!----\x3e"):a(x(I,null,{default:s(((t,a,o,r)=>{if(!a)return[c(N,{cols:"12",class:"text-center"},{default:s((()=>[f(e.$slots,"empty-state",{},(()=>[c(V,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[v(" mdi-folder-open-outline ")])),_:1}),c("p",{class:"text-body-1"},"No projects found.")]),!0)])),_:3})];a(x(N,{cols:"12",class:"text-center"},{default:s(((t,a,o,r)=>{if(!a)return[f(e.$slots,"empty-state",{},(()=>[c(V,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[v(" mdi-folder-open-outline ")])),_:1}),c("p",{class:"text-body-1"},"No projects found.")]),!0)];b(e.$slots,"empty-state",{},(()=>{a(x(V,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s(((e,t,a,o)=>{if(!t)return[v(" mdi-folder-open-outline ")];t(" mdi-folder-open-outline ")})),_:1},o,r)),a(`<p class="text-body-1" data-v-623b1ca6${r}>No projects found.</p>`)}),a,o,r)})),_:3},o,r))})),_:3},o,r)),a(`<div style="${C(p.value?null:{display:"none"})}" class="intersection-target" data-v-623b1ca6${r}></div>`)})),_:3},a)),t("</div>")}}}),S=A.setup;A.setup=(e,t)=>{const o=a();return(o.modules||(o.modules=new Set)).add("components/project/ProjectGrid.vue"),S?S(e,t):void 0};const F=w(A,[["__scopeId","data-v-623b1ca6"]]);export{F as _};

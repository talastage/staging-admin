import{_ as e}from"./SelectCategory-Byss6mUZ.mjs";import{useSSRContext as a,defineComponent as t,ref as s,computed as l,mergeProps as o,withCtx as r,createTextVNode as i,toDisplayString as u,unref as m,createVNode as d,withAsyncContext as n}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as p,ssrInterpolate as f}from"vue/server-renderer";import{u as v}from"./categories-DQSZpS8e.mjs";import{u as g}from"./useSnackMessage-PVLwAm7x.mjs";import{_ as b,u as h,V as x,b as y,U as _,aP as V,f as w}from"./server.mjs";import{V as j}from"./VAlert-DneVUU3Q.mjs";import{V as k}from"./VForm-HRC00ryg.mjs";import{V as C}from"./VRow-rkX0LEXR.mjs";import{V as S}from"./VCol-CKxprC4g.mjs";import{V as U}from"./VTextarea-DkPaPTLI.mjs";import{V as q}from"./VDivider-BmyMVZMt.mjs";import{V as P}from"./VOverlay-ZKavbTei.mjs";import{u as R}from"./useSeo-Dl9beXFt.mjs";import{u as B}from"./useApps-hYo13Xt3.mjs";import{V as L}from"./VContainer-By3q0af_.mjs";import{V as $,a as T}from"./VCard-CsohsM82.mjs";import"./VSelect-BWLkvD3S.mjs";import"./VTextField-rd-VvEF8.mjs";import"./VCounter-BZE6l8kb.mjs";import"./index--K8ZrFMm.mjs";import"./VImg-B2jcJjnn.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./VList-CcwwrkQR.mjs";import"./VListItem-jTLuICGb.mjs";import"./VAvatar-JL8WKjry.mjs";import"./ssrBoot-BtvJZs44.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./VMenu-BpdBiT5v.mjs";import"./VCheckboxBtn-v4ZZzD80.mjs";import"./VSelectionControl-BvLhSUlq.mjs";import"./VChip-f_o2BAA4.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";const I=t({__name:"SendReportMessage",__ssrInlineRender:!0,setup(a){const{$axios:t}=h(),n=g(),b=v(),V=s(null),w=s(!1),R=s(!1),B=s(!1),L=s({}),$=s(""),T=s({category_id:null,message:""}),I=[e=>!!e||"Message is required",e=>e&&e.length>=10||"Message must be at least 10 characters"],D=l((()=>w.value&&T.value.category_id&&T.value.message.trim().length>=10&&!R.value)),M=l((()=>T.value.category_id?"Please provide as much detail as possible about your issue...":"Please select a category first")),clearErrors=()=>{L.value={},$.value=""},submitReport=async()=>{var e,a,s,l,o;if(D.value){R.value=!0,clearErrors();try{await t.post("/api/support/tickets",T.value),n.success("Your problem report has been submitted successfully"),B.value=!0}catch(t){console.error("Submit error:",null==(e=t.response)?void 0:e.data),(null==(s=null==(a=t.response)?void 0:a.data)?void 0:s.errors)?L.value=t.response.data.errors:(null==(o=null==(l=t.response)?void 0:l.data)?void 0:o.message)?$.value=t.response.data.message:$.value="An unexpected error occurred. Please try again.",n.error($.value||"Failed to submit report")}finally{R.value=!1}}};return(a,t,s,l)=>{const n=e;B.value?(t(`<div${c(o({class:"report-problem mx-auto text-center pa-6"},l))} data-v-2ce2239e><div class="mb-6" data-v-2ce2239e>`),t(p(x,{icon:"mdi-check-circle-outline",color:"success",size:"64",class:"mb-4"},null,s)),t('<h2 class="text-h5 mb-4" data-v-2ce2239e>Thank You for Reporting!</h2><p class="text-body-1" data-v-2ce2239e> We&#39;ve received your report and will get back to you as soon as possible. </p></div></div>')):(t(`<div${c(o({class:"report-problem mx-auto pa-6",style:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.1)"}},l))} data-v-2ce2239e><div class="text-h6 pb-0 mb-2" data-v-2ce2239e>Report a Problem</div><div class="text-body-2 mb-4" data-v-2ce2239e> Please fill out the form below and we&#39;ll respond as soon as we can. </div>`),$.value?t(p(j,{type:"error",variant:"tonal",closable:"",class:"mb-4","onClick:close":e=>$.value=""},{default:r(((e,a,t,s)=>{if(!a)return[i(u($.value),1)];a(`${f($.value)}`)})),_:1},s)):t("\x3c!----\x3e"),t(p(k,{ref_key:"form",ref:V,modelValue:w.value,"onUpdate:modelValue":e=>w.value=e,onSubmit:submitReport},{default:r(((e,a,t,s)=>{if(!a)return[d(C,null,{default:r((()=>[d(S,{cols:"12"},{default:r((()=>[d(n,{modelValue:T.value.category_id,"onUpdate:modelValue":e=>T.value.category_id=e,categories:m(b).categories,"is-loading":m(b).isLoading,"error-messages":L.value.category_id,label:"Category of the Problem",required:"",onChange:clearErrors},null,8,["modelValue","onUpdate:modelValue","categories","is-loading","error-messages"]),d("div",{class:"text-caption text-medium-emphasis mt-1"}," Select the category that best matches your issue ")])),_:1})])),_:1}),d(C,{class:"mt-4"},{default:r((()=>[d(S,{cols:"12"},{default:r((()=>[d(U,{modelValue:T.value.message,"onUpdate:modelValue":e=>T.value.message=e,label:"Describe your problem","error-messages":L.value.message,rules:I,variant:"outlined",maxlength:1e3,counter:!0,rows:"4","auto-grow":"",required:"",onInput:clearErrors,placeholder:M.value},null,8,["modelValue","onUpdate:modelValue","error-messages","placeholder"])])),_:1})])),_:1}),d(q,{class:"my-4"}),d("div",{class:"d-flex align-center"},[d("div",{class:"text-caption text-medium-emphasis flex-grow-1"}," * Required fields "),d(y,{color:"primary",size:"large",type:"submit",loading:R.value,disabled:!D.value},{default:r((()=>[i(" Submit Report ")])),_:1},8,["loading","disabled"])])];a(p(C,null,{default:r(((e,a,t,s)=>{if(!a)return[d(S,{cols:"12"},{default:r((()=>[d(n,{modelValue:T.value.category_id,"onUpdate:modelValue":e=>T.value.category_id=e,categories:m(b).categories,"is-loading":m(b).isLoading,"error-messages":L.value.category_id,label:"Category of the Problem",required:"",onChange:clearErrors},null,8,["modelValue","onUpdate:modelValue","categories","is-loading","error-messages"]),d("div",{class:"text-caption text-medium-emphasis mt-1"}," Select the category that best matches your issue ")])),_:1})];a(p(S,{cols:"12"},{default:r(((e,a,t,s)=>{if(!a)return[d(n,{modelValue:T.value.category_id,"onUpdate:modelValue":e=>T.value.category_id=e,categories:m(b).categories,"is-loading":m(b).isLoading,"error-messages":L.value.category_id,label:"Category of the Problem",required:"",onChange:clearErrors},null,8,["modelValue","onUpdate:modelValue","categories","is-loading","error-messages"]),d("div",{class:"text-caption text-medium-emphasis mt-1"}," Select the category that best matches your issue ")];a(p(n,{modelValue:T.value.category_id,"onUpdate:modelValue":e=>T.value.category_id=e,categories:m(b).categories,"is-loading":m(b).isLoading,"error-messages":L.value.category_id,label:"Category of the Problem",required:"",onChange:clearErrors},null,t,s)),a(`<div class="text-caption text-medium-emphasis mt-1" data-v-2ce2239e${s}> Select the category that best matches your issue </div>`)})),_:1},t,s))})),_:1},t,s)),a(p(C,{class:"mt-4"},{default:r(((e,a,t,s)=>{if(!a)return[d(S,{cols:"12"},{default:r((()=>[d(U,{modelValue:T.value.message,"onUpdate:modelValue":e=>T.value.message=e,label:"Describe your problem","error-messages":L.value.message,rules:I,variant:"outlined",maxlength:1e3,counter:!0,rows:"4","auto-grow":"",required:"",onInput:clearErrors,placeholder:M.value},null,8,["modelValue","onUpdate:modelValue","error-messages","placeholder"])])),_:1})];a(p(S,{cols:"12"},{default:r(((e,a,t,s)=>{if(!a)return[d(U,{modelValue:T.value.message,"onUpdate:modelValue":e=>T.value.message=e,label:"Describe your problem","error-messages":L.value.message,rules:I,variant:"outlined",maxlength:1e3,counter:!0,rows:"4","auto-grow":"",required:"",onInput:clearErrors,placeholder:M.value},null,8,["modelValue","onUpdate:modelValue","error-messages","placeholder"])];a(p(U,{modelValue:T.value.message,"onUpdate:modelValue":e=>T.value.message=e,label:"Describe your problem","error-messages":L.value.message,rules:I,variant:"outlined",maxlength:1e3,counter:!0,rows:"4","auto-grow":"",required:"",onInput:clearErrors,placeholder:M.value},null,t,s))})),_:1},t,s))})),_:1},t,s)),a(p(q,{class:"my-4"},null,t,s)),a(`<div class="d-flex align-center" data-v-2ce2239e${s}><div class="text-caption text-medium-emphasis flex-grow-1" data-v-2ce2239e${s}> * Required fields </div>`),a(p(y,{color:"primary",size:"large",type:"submit",loading:R.value,disabled:!D.value},{default:r(((e,a,t,s)=>{if(!a)return[i(" Submit Report ")];a(" Submit Report ")})),_:1},t,s)),a("</div>")})),_:1},s)),t(p(P,{modelValue:m(b).isLoading,"onUpdate:modelValue":e=>m(b).isLoading=e,class:"align-center justify-center",persistent:""},{default:r(((e,a,t,s)=>{if(!a)return[d(_,{indeterminate:"",color:"primary"})];a(p(_,{indeterminate:"",color:"primary"},null,t,s))})),_:1},s)),t("</div>"))}}}),D=I.setup;I.setup=(e,t)=>{const s=a();return(s.modules||(s.modules=new Set)).add("components/support/SendReportMessage.vue"),D?D(e,t):void 0};const M=b(I,[["__scopeId","data-v-2ce2239e"]]),Z=t({__name:"report",__ssrInlineRender:!0,async setup(e){var a,t,s,u,m;let c,f;const v=V(),g=l((()=>v.global.current.value.dark)),b=B();[c,f]=n((()=>b.fetchTalaStageApp())),await c,f();const h=l((()=>b.talastageApp));return R({title:`Report a Problem - ${(null==(a=h.value)?void 0:a.name)||"TalaStage"}`,description:(null==(t=h.value)?void 0:t.seo_description)||"Report any issues you are experiencing, and our team will address them as quickly as possible.",keywords:(null==(s=h.value)?void 0:s.meta_keywords)||"report, problem, feedback, support, help, assistance",image:(null==(u=h.value)?void 0:u.logo_url)||"/default-social-image.png",url:`${w().public.frontendUrl}/feedback/report`,type:"website",siteName:(null==(m=h.value)?void 0:m.name)||"TalaStage",twitterUsername:"@talastage"}),(e,a,t,s)=>{const l=M;a(p(L,o({class:"report-page py-8"},s),{default:r(((e,a,t,s)=>{if(!a)return[d(C,{class:"mb-8"},{default:r((()=>[d(S,{cols:"12",class:"text-center"},{default:r((()=>[d("div",{class:"d-flex align-center justify-center mb-4"},[d(x,{icon:"mdi-alert-circle-outline",color:"primary",size:"40",class:"mr-3"}),d("h1",{class:"text-h4 font-weight-medium mb-0"},"Report a Problem")]),d("p",{class:"text-body-1 text-medium-emphasis max-width-md mx-auto"}," We're here to help! Please let us know about any issues you're experiencing, and our team will address them as quickly as possible. ")])),_:1})])),_:1}),d(C,{justify:"center"},{default:r((()=>[d(S,{cols:"12",md:"10",lg:"8"},{default:r((()=>[d($,{class:"report-card",elevation:2,theme:g.value?"dark":"light"},{default:r((()=>[d(T,null,{default:r((()=>[d(l)])),_:1})])),_:1},8,["theme"])])),_:1})])),_:1}),d(C,{class:"mt-8",justify:"center"},{default:r((()=>[d(S,{cols:"12",md:"10",lg:"8"},{default:r((()=>[d(j,{color:"info",variant:"tonal",border:"start",class:"help-alert"},{prepend:r((()=>[d(x,{icon:"mdi-information"})])),default:r((()=>[d("div",{class:"d-flex flex-column"},[d("span",{class:"text-subtitle-1 font-weight-medium mb-1"}," Need immediate assistance? "),d("span",{class:"text-body-2"},[i(" Check our "),d(y,{variant:"text",to:"/help",class:"px-1"},{default:r((()=>[i("Help Center")])),_:1}),i(" for quick solutions to common problems. ")])])])),_:1})])),_:1})])),_:1})];a(p(C,{class:"mb-8"},{default:r(((e,a,t,s)=>{if(!a)return[d(S,{cols:"12",class:"text-center"},{default:r((()=>[d("div",{class:"d-flex align-center justify-center mb-4"},[d(x,{icon:"mdi-alert-circle-outline",color:"primary",size:"40",class:"mr-3"}),d("h1",{class:"text-h4 font-weight-medium mb-0"},"Report a Problem")]),d("p",{class:"text-body-1 text-medium-emphasis max-width-md mx-auto"}," We're here to help! Please let us know about any issues you're experiencing, and our team will address them as quickly as possible. ")])),_:1})];a(p(S,{cols:"12",class:"text-center"},{default:r(((e,a,t,s)=>{if(!a)return[d("div",{class:"d-flex align-center justify-center mb-4"},[d(x,{icon:"mdi-alert-circle-outline",color:"primary",size:"40",class:"mr-3"}),d("h1",{class:"text-h4 font-weight-medium mb-0"},"Report a Problem")]),d("p",{class:"text-body-1 text-medium-emphasis max-width-md mx-auto"}," We're here to help! Please let us know about any issues you're experiencing, and our team will address them as quickly as possible. ")];a(`<div class="d-flex align-center justify-center mb-4" data-v-5f2b986e${s}>`),a(p(x,{icon:"mdi-alert-circle-outline",color:"primary",size:"40",class:"mr-3"},null,t,s)),a(`<h1 class="text-h4 font-weight-medium mb-0" data-v-5f2b986e${s}>Report a Problem</h1></div><p class="text-body-1 text-medium-emphasis max-width-md mx-auto" data-v-5f2b986e${s}> We&#39;re here to help! Please let us know about any issues you&#39;re experiencing, and our team will address them as quickly as possible. </p>`)})),_:1},t,s))})),_:1},t,s)),a(p(C,{justify:"center"},{default:r(((e,a,t,s)=>{if(!a)return[d(S,{cols:"12",md:"10",lg:"8"},{default:r((()=>[d($,{class:"report-card",elevation:2,theme:g.value?"dark":"light"},{default:r((()=>[d(T,null,{default:r((()=>[d(l)])),_:1})])),_:1},8,["theme"])])),_:1})];a(p(S,{cols:"12",md:"10",lg:"8"},{default:r(((e,a,t,s)=>{if(!a)return[d($,{class:"report-card",elevation:2,theme:g.value?"dark":"light"},{default:r((()=>[d(T,null,{default:r((()=>[d(l)])),_:1})])),_:1},8,["theme"])];a(p($,{class:"report-card",elevation:2,theme:g.value?"dark":"light"},{default:r(((e,a,t,s)=>{if(!a)return[d(T,null,{default:r((()=>[d(l)])),_:1})];a(p(T,null,{default:r(((e,a,t,s)=>{if(!a)return[d(l)];a(p(l,null,null,t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s)),a(p(C,{class:"mt-8",justify:"center"},{default:r(((e,a,t,s)=>{if(!a)return[d(S,{cols:"12",md:"10",lg:"8"},{default:r((()=>[d(j,{color:"info",variant:"tonal",border:"start",class:"help-alert"},{prepend:r((()=>[d(x,{icon:"mdi-information"})])),default:r((()=>[d("div",{class:"d-flex flex-column"},[d("span",{class:"text-subtitle-1 font-weight-medium mb-1"}," Need immediate assistance? "),d("span",{class:"text-body-2"},[i(" Check our "),d(y,{variant:"text",to:"/help",class:"px-1"},{default:r((()=>[i("Help Center")])),_:1}),i(" for quick solutions to common problems. ")])])])),_:1})])),_:1})];a(p(S,{cols:"12",md:"10",lg:"8"},{default:r(((e,a,t,s)=>{if(!a)return[d(j,{color:"info",variant:"tonal",border:"start",class:"help-alert"},{prepend:r((()=>[d(x,{icon:"mdi-information"})])),default:r((()=>[d("div",{class:"d-flex flex-column"},[d("span",{class:"text-subtitle-1 font-weight-medium mb-1"}," Need immediate assistance? "),d("span",{class:"text-body-2"},[i(" Check our "),d(y,{variant:"text",to:"/help",class:"px-1"},{default:r((()=>[i("Help Center")])),_:1}),i(" for quick solutions to common problems. ")])])])),_:1})];a(p(j,{color:"info",variant:"tonal",border:"start",class:"help-alert"},{prepend:r(((e,a,t,s)=>{if(!a)return[d(x,{icon:"mdi-information"})];a(p(x,{icon:"mdi-information"},null,t,s))})),default:r(((e,a,t,s)=>{if(!a)return[d("div",{class:"d-flex flex-column"},[d("span",{class:"text-subtitle-1 font-weight-medium mb-1"}," Need immediate assistance? "),d("span",{class:"text-body-2"},[i(" Check our "),d(y,{variant:"text",to:"/help",class:"px-1"},{default:r((()=>[i("Help Center")])),_:1}),i(" for quick solutions to common problems. ")])])];a(`<div class="d-flex flex-column" data-v-5f2b986e${s}><span class="text-subtitle-1 font-weight-medium mb-1" data-v-5f2b986e${s}> Need immediate assistance? </span><span class="text-body-2" data-v-5f2b986e${s}> Check our `),a(p(y,{variant:"text",to:"/help",class:"px-1"},{default:r(((e,a,t,s)=>{if(!a)return[i("Help Center")];a("Help Center")})),_:1},t,s)),a(" for quick solutions to common problems. </span></div>")})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t))}}}),z=Z.setup;Z.setup=(e,t)=>{const s=a();return(s.modules||(s.modules=new Set)).add("pages/feedback/report.vue"),z?z(e,t):void 0};const A=b(Z,[["__scopeId","data-v-5f2b986e"]]);export{A as default};

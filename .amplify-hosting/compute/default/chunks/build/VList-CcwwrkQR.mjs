import{toRef as e,computed as t,createVNode as l,withDirectives as r,vShow as s,mergeProps as a,shallowRef as o,ref as n}from"vue";import{V as i}from"./index--K8ZrFMm.mjs";import{u,c,d as v,e as p,V as d,m,f}from"./VListItem-jTLuICGb.mjs";import{W as y,p as b,I as g,m as C,g as I,h,j as S,o as V,X as j,q as B,n as F,r as L,s as k,x,z as A,A as $,B as O,a0 as w,C as T,E as P,F as G,G as _,L as K,l as M,Y as Z,a1 as D,Z as E,$ as J}from"./server.mjs";import{u as q}from"./ssrBoot-BtvJZs44.mjs";import{M as z}from"./VImg-B2jcJjnn.mjs";import{V as H}from"./VDivider-BmyMVZMt.mjs";const U=y({name:"VListGroupActivator",setup(e,t){let{slots:l}=t;return u(),()=>{var e;return null==(e=l.default)?void 0:e.call(l)}}}),W=b({activeColor:String,baseColor:String,color:String,collapseIcon:{type:g,default:"$collapse"},expandIcon:{type:g,default:"$expand"},prependIcon:g,appendIcon:g,fluid:Boolean,subgroup:Boolean,title:String,value:null,...C(),...I()},"VListGroup"),X=h()({name:"VListGroup",props:W(),setup(a,o){let{slots:n}=o;const{isOpen:u,open:p,id:d}=c(e(a,"value"),!0),m=t((()=>`v-list-group--id-${String(d.value)}`)),f=v(),{isBooted:y}=q();function onClick(e){p(!u.value,e)}const b=t((()=>({onClick:onClick,class:"v-list-group__header",id:m.value}))),g=t((()=>u.value?a.collapseIcon:a.expandIcon)),C=t((()=>({VListItem:{active:u.value,activeColor:a.activeColor,baseColor:a.baseColor,color:a.color,prependIcon:a.prependIcon||a.subgroup&&g.value,appendIcon:a.appendIcon||!a.subgroup&&g.value,title:a.title,value:a.value}})));return S((()=>l(a.tag,{class:["v-list-group",{"v-list-group--prepend":null==f?void 0:f.hasPrepend.value,"v-list-group--fluid":a.fluid,"v-list-group--subgroup":a.subgroup,"v-list-group--open":u.value},a.class],style:a.style},{default:()=>[n.activator&&l(V,{defaults:C.value},{default:()=>[l(U,null,{default:()=>[n.activator({props:b.value,isOpen:u.value})]})]}),l(z,{transition:{component:i},disabled:!y.value},{default:()=>{var e;return[r(l("div",{class:"v-list-group__items",role:"group","aria-labelledby":m.value},[null==(e=n.default)?void 0:e.call(n)]),[[s,u.value]])]}})]}))),{}}}),Y=b({color:String,inset:Boolean,sticky:Boolean,title:String,...C(),...I()},"VListSubheader"),N=h()({name:"VListSubheader",props:Y(),setup(t,r){let{slots:s}=r;const{textColorClasses:a,textColorStyles:o}=j(e(t,"color"));return S((()=>{const e=!(!s.default&&!t.title);return l(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},a.value,t.class],style:[{textColorStyles:o},t.style]},{default:()=>{var r,a;return[e&&l("div",{class:"v-list-subheader__text"},[null!=(r=null==(a=s.default)?void 0:a.call(s))?r:t.title])]}})})),{}}}),Q=b({items:Array,returnObject:Boolean},"VListChildren"),R=h()({name:"VListChildren",props:Q(),setup(e,t){let{slots:r}=t;return p(),()=>{var t,s,o;return null!=(t=null==(s=r.default)?void 0:s.call(r))?t:null==(o=e.items)?void 0:o.map((t=>{var s,o,n,i;let{children:u,props:c,type:v,raw:p}=t;if("divider"===v)return null!=(s=null==(n=r.divider)?void 0:n.call(r,{props:c}))?s:l(H,c,null);if("subheader"===v)return null!=(o=null==(i=r.subheader)?void 0:i.call(r,{props:c}))?o:l(N,c,null);const m={subtitle:r.subtitle?e=>{var t;return null==(t=r.subtitle)?void 0:t.call(r,{...e,item:p})}:void 0,prepend:r.prepend?e=>{var t;return null==(t=r.prepend)?void 0:t.call(r,{...e,item:p})}:void 0,append:r.append?e=>{var t;return null==(t=r.append)?void 0:t.call(r,{...e,item:p})}:void 0,title:r.title?e=>{var t;return null==(t=r.title)?void 0:t.call(r,{...e,item:p})}:void 0},f=X.filterProps(c);return u?l(X,a({value:null==c?void 0:c.value},f),{activator:t=>{let{props:s}=t;const a={...c,...s,value:e.returnObject?p:c.value};return r.header?r.header({props:a}):l(d,a,m)},default:()=>l(R,{items:u},r)}):r.item?r.item({props:c}):l(d,a(c,{value:e.returnObject?p:c.value}),m)}))}}}),ee=b({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Z}},"list-items");function transformItem$1(e,t){var l;const r=E(t,e.itemTitle,t),s=E(t,e.itemValue,r),a=E(t,e.itemChildren),o={title:r,value:s,...!0===e.itemProps?"object"!=typeof t||null==t||Array.isArray(t)?void 0:"children"in t?J(t,["children"]):t:E(t,e.itemProps)};return{title:String(null!=(l=o.title)?l:""),value:o.value,props:o,children:Array.isArray(a)?transformItems$1(e,a):void 0,raw:t}}function transformItems$1(e,t){const l=[];for(const r of t)l.push(transformItem$1(e,r));return l}function useItems(e){const l=t((()=>transformItems$1(e,e.items))),r=t((()=>l.value.some((e=>null===e.value))));return{items:l,transformIn:function(t){return r.value||(t=t.filter((e=>null!==e))),t.map((t=>e.returnObject&&"string"==typeof t?transformItem$1(e,t):l.value.find((l=>e.valueComparator(t,l.value)))||transformItem$1(e,t)))},transformOut:function(t){return e.returnObject?t.map((e=>{let{raw:t}=e;return t})):t.map((e=>{let{value:t}=e;return t}))}}}function transformItem(e,t){const l=E(t,e.itemType,"item"),r=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}(t)?t:E(t,e.itemTitle),s=E(t,e.itemValue,void 0),a=E(t,e.itemChildren),o={title:r,value:s,...!0===e.itemProps?J(t,["children"]):E(t,e.itemProps)};return{type:l,title:o.title,value:o.value,props:o,children:"item"===l&&a?transformItems(e,a):void 0,raw:t}}function transformItems(e,t){const l=[];for(const r of t)l.push(transformItem(e,r));return l}const te=b({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...m({selectStrategy:"single-leaf",openStrategy:"list"}),...B(),...C(),...F(),...L(),...k(),itemType:{type:String,default:"type"},...ee(),...x(),...I(),...A(),...$({variant:"text"})},"VList"),le=h()({name:"VList",props:te(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(r,s){let{slots:a}=s;const{items:i}=function(e){return{items:t((()=>transformItems(e,e.items)))}}(r),{themeClasses:u}=O(r),{backgroundColorClasses:c,backgroundColorStyles:v}=w(e(r,"bgColor")),{borderClasses:d}=T(r),{densityClasses:m}=P(r),{dimensionStyles:y}=G(r),{elevationClasses:b}=_(r),{roundedClasses:g}=K(r),{open:C,select:I}=f(r),h=t((()=>r.lines?`v-list--${r.lines}-line`:void 0)),V=e(r,"activeColor"),j=e(r,"baseColor"),B=e(r,"color");p(),M({VListGroup:{activeColor:V,baseColor:j,color:B},VListItem:{activeClass:e(r,"activeClass"),activeColor:V,baseColor:j,color:B,density:e(r,"density"),disabled:e(r,"disabled"),lines:e(r,"lines"),nav:e(r,"nav"),slim:e(r,"slim"),variant:e(r,"variant")}});const F=o(!1),L=n();function onFocusin(e){F.value=!0}function onFocusout(e){F.value=!1}function onFocus(e){var t;F.value||e.relatedTarget&&(null==(t=L.value)?void 0:t.contains(e.relatedTarget))||focus()}function onKeydown(e){if(L.value){if("ArrowDown"===e.key)focus("next");else if("ArrowUp"===e.key)focus("prev");else if("Home"===e.key)focus("first");else{if("End"!==e.key)return;focus("last")}e.preventDefault()}}function focus(e){if(L.value)return D(L.value,e)}return S((()=>l(r.tag,{ref:L,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav},u.value,c.value,d.value,m.value,b.value,h.value,g.value,r.class],style:[v.value,y.value,r.style],tabindex:r.disabled||F.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:onFocusin,onFocusout:onFocusout,onFocus:onFocus,onKeydown:onKeydown},{default:()=>[l(R,{items:i.value,returnObject:r.returnObject},a)]}))),{open:C,select:I,focus:focus}}});export{le as V,N as a,ee as m,transformItem$1 as t,useItems as u};

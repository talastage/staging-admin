import{useSSRContext as e,defineComponent as r,computed as t,createVNode as a,resolveDynamicComponent as l,mergeProps as i,withCtx as s,openBlock as o,createBlock as u}from"vue";import{ssrRenderVNode as v,ssrRenderComponent as d}from"vue/server-renderer";import{V as h}from"./VAvatar-JL8WKjry.mjs";import{V as n}from"./VImg-B2jcJjnn.mjs";import{_ as p}from"./server.mjs";const f="/images/profile/default.png",m=r({__name:"UserAvatar",__ssrInlineRender:!0,props:{username:{default:""},profile_photo:{default:""},size:{default:"md"},disableLink:{type:Boolean,default:!1}},setup(e){const r=e,p=t((()=>{if("number"==typeof r.size)return r.size;return{xs:24,sm:32,md:48,lg:64,xl:80,"2xl":120,"3xl":160,"4xl":200,"5xl":240}[r.size]||48})),m=t((()=>r.profile_photo?(r.profile_photo.startsWith("/images"),r.profile_photo):f));return(e,r,t,c)=>{v(r,a(l(e.disableLink?"div":"NuxtLink"),i({to:e.disableLink?void 0:`/${e.username}`,class:["user-avatar-link",{disabled:e.disableLink}]},c),{default:s(((r,t,l,i)=>{if(!t)return[a("div",{class:"avatar-wrapper"},[a(h,{size:p.value,rounded:"50%"},{default:s((()=>[(o(),u(n,{key:m.value,src:m.value,alt:`${e.username||"User"} profile photo`,width:p.value,height:p.value,cover:"",error:f},{error:s((()=>[a(n,{src:f,width:p.value,height:p.value,cover:""},null,8,["width","height"])])),_:1},8,["src","alt","width","height"]))])),_:1},8,["size"])])];t(`<div class="avatar-wrapper" data-v-13f9f951${i}>`),t(d(h,{size:p.value,rounded:"50%"},{default:s(((r,t,l,i)=>{if(!t)return[(o(),u(n,{key:m.value,src:m.value,alt:`${e.username||"User"} profile photo`,width:p.value,height:p.value,cover:"",error:f},{error:s((()=>[a(n,{src:f,width:p.value,height:p.value,cover:""},null,8,["width","height"])])),_:1},8,["src","alt","width","height"]))];t(d(n,{key:m.value,src:m.value,alt:`${e.username||"User"} profile photo`,width:p.value,height:p.value,cover:"",error:f},{error:s(((e,r,t,l)=>{if(!r)return[a(n,{src:f,width:p.value,height:p.value,cover:""},null,8,["width","height"])];r(d(n,{src:f,width:p.value,height:p.value,cover:""},null,t,l))})),_:1},l,i))})),_:1},l,i)),t("</div>")})),_:1}),t)}}}),c=m.setup;m.setup=(r,t)=>{const a=e();return(a.modules||(a.modules=new Set)).add("components/user/UserAvatar.vue"),c?c(r,t):void 0};const _=p(m,[["__scopeId","data-v-13f9f951"]]);export{_};

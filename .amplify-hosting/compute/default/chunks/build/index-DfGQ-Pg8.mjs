import{getCurrentScope as e,onScopeDispose as t,unref as n,nextTick as o,getCurrentInstance as r,isRef as u}from"vue";function tryOnScopeDispose(n){return!!e()&&(t(n),!0)}function toValue(e){return"function"==typeof e?e():n(e)}"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const notNullish=e=>null!=e,i=Object.prototype.toString,isObject=e=>"[object Object]"===i.call(e),noop=()=>{};function createFilterWrapper(e,t){return function(...n){return new Promise(((o,r)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(o).catch(r)}))}}function increaseWithUnit(e,t){var n;if("number"==typeof e)return e+t;const o=(null==(n=e.match(/^-?[0-9]+\.?[0-9]*/))?void 0:n[0])||"",r=e.slice(o.length),u=Number.parseFloat(o)+t;return Number.isNaN(u)?e:u+r}function useDebounceFn(e,t=200,n={}){return createFilterWrapper(function(e,t={}){let n,o,r=noop;const _clearTimeout=e=>{clearTimeout(e),r(),r=noop};return u=>{const i=toValue(e),a=toValue(t.maxWait);return n&&_clearTimeout(n),i<=0||void 0!==a&&a<=0?(o&&(_clearTimeout(o),o=null),Promise.resolve(u())):new Promise(((e,c)=>{r=t.rejectOnCancel?c:e,a&&!o&&(o=setTimeout((()=>{n&&_clearTimeout(n),o=null,e(u())}),a)),n=setTimeout((()=>{o&&_clearTimeout(o),o=null,e(u())}),i)}))}}(t,n),e)}function useThrottleFn(e,t=200,n=!1,o=!0,r=!1){return createFilterWrapper(function(...e){let t,n,o,r,i,a,c=0,s=!0,l=noop;u(e[0])||"object"!=typeof e[0]?[o,r=!0,i=!0,a=!1]=e:({delay:o,trailing:r=!0,leading:i=!0,rejectOnCancel:a=!1}=e[0]);const clear=()=>{t&&(clearTimeout(t),t=void 0,l(),l=noop)};return e=>{const u=toValue(o),p=Date.now()-c,invoke2=()=>n=e();return clear(),u<=0?(c=Date.now(),invoke2()):(p>u&&(i||!s)?(c=Date.now(),invoke2()):r&&(n=new Promise(((e,n)=>{l=a?n:e,t=setTimeout((()=>{c=Date.now(),s=!0,e(invoke2()),clear()}),Math.max(0,u-p))}))),i||t||(t=setTimeout((()=>s=!0),u)),s=!1,n)}}(t,n,o,r),e)}function tryOnMounted(e,t=!0,n){r()||(t?e():o(e))}export{noop as a,tryOnScopeDispose as b,tryOnMounted as c,increaseWithUnit as d,useDebounceFn as e,isObject as i,notNullish as n,toValue as t,useThrottleFn as u};

import{_ as e}from"./CurrencyAmountInput-fkOX0XPq.mjs";import{useSSRContext as a,defineComponent as t,ref as l,computed as o,mergeProps as s,withCtx as i,createTextVNode as n,createVNode as r,toDisplayString as u,openBlock as d,createBlock as m,Fragment as c,renderList as p}from"vue";import{ssrRenderAttrs as v,ssrRenderComponent as f,ssrRenderList as g,ssrInterpolate as y}from"vue/server-renderer";import{u as h}from"./useWalletStore-C5It8oQZ.mjs";import{u as _}from"./useCurrencies-Dkc4Yzgg.mjs";import{u as b}from"./useSnackMessage-PVLwAm7x.mjs";import{_ as x,au as w,u as j,aL as V,a$ as $,V as S,b as k}from"./server.mjs";import{V as C}from"./VAvatar-JL8WKjry.mjs";import{V as I,a as z}from"./VCard-CsohsM82.mjs";import{u as A}from"./useApps-hYo13Xt3.mjs";import{u as F}from"./useSeo-Dl9beXFt.mjs";import"./VTextField-rd-VvEF8.mjs";import"./VCounter-BZE6l8kb.mjs";import"./index--K8ZrFMm.mjs";import"./VImg-B2jcJjnn.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"axios";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";const D=t({__name:"WalletDepositPage",__ssrInlineRender:!0,setup(a){const t=w(),x=b(),{$axios:A}=j();V();const F=h(),D=_(),{wallet:T}=$(F),P=l(null),U=l(!1),q=l([]);l("deposit"),l(null),o((()=>{var e,a;return(null==(a=null==(e=T.value)?void 0:e.data)?void 0:a.balance)||"0"}));const R=o((()=>null!==P.value&&P.value>0)),M=[{icon:"mdi-shield-check-outline",text:"Secure transaction with end-to-end encryption"},{icon:"mdi-cash-check",text:"Funds available immediately for in-app purchases"},{icon:"mdi-information-outline",text:"Transaction receipt will be sent to your email"}],amountValidation=e=>e?!(isNaN(e)||e<=0)||"Please enter a valid amount":"Amount is required",resetForm=()=>{P.value=null,q.value=[]},handleDeposit=async()=>{var e,a,l,o,s,i;if(R.value&&D.selectedCurrency)try{U.value=!0,q.value=[];const s={paying_amount:P.value,currency_id:D.selectedCurrency.id,payment_type:"deposit",payable_type:"App\\Models\\Wallet",payable_id:null==(a=null==(e=T.value)?void 0:e.data)?void 0:a.id},i=await A.post("/api/cart/items",s);if(!(null==(l=i.data)?void 0:l.success))throw new Error((null==(o=i.data)?void 0:o.message)||"Failed to process deposit");x.success("Deposit initiated successfully"),t.push("/checkout")}catch(e){console.error("Deposit error:",e);const a=(null==(i=null==(s=e.response)?void 0:s.data)?void 0:i.message)||"Failed to process deposit request";q.value=[a],x.error(a)}finally{U.value=!1}};return(a,t,l,o)=>{const h=e;t(`<div${v(s({class:"deposit-content"},o))} data-v-283a7f02><div class="deposit-header mb-4" data-v-283a7f02><div class="d-flex align-center" data-v-283a7f02>`),t(f(C,{size:"32",color:"primary",class:"mr-3"},{default:i(((e,a,t,l)=>{if(!a)return[r(S,{color:"white",size:"18"},{default:i((()=>[n("mdi-cash-plus")])),_:1})];a(f(S,{color:"white",size:"18"},{default:i(((e,a,t,l)=>{if(!a)return[n("mdi-cash-plus")];a("mdi-cash-plus")})),_:1},t,l))})),_:1},l)),t('<div data-v-283a7f02><h2 class="text-h5 font-weight-bold mb-0" data-v-283a7f02>Add Funds</h2><p class="text-caption text-medium-emphasis mb-0" data-v-283a7f02>Deposit money to your wallet</p></div></div></div>'),t(f(I,{class:"amount-card mb-4",elevation:"1",rounded:"lg"},{default:i(((e,a,t,l)=>{if(!a)return[r(z,{class:"pa-3"},{default:i((()=>[r("div",{class:"text-body-2 text-medium-emphasis mb-2"}," Amount to deposit "),r(h,{modelValue:P.value,"onUpdate:modelValue":e=>P.value=e,label:"0.00",rules:[amountValidation],required:"",disabled:U.value,loading:U.value,"error-messages":q.value,variant:"outlined",density:"compact",class:"deposit-amount-input"},null,8,["modelValue","onUpdate:modelValue","rules","disabled","loading","error-messages"])])),_:1})];a(f(z,{class:"pa-3"},{default:i(((e,a,t,l)=>{if(!a)return[r("div",{class:"text-body-2 text-medium-emphasis mb-2"}," Amount to deposit "),r(h,{modelValue:P.value,"onUpdate:modelValue":e=>P.value=e,label:"0.00",rules:[amountValidation],required:"",disabled:U.value,loading:U.value,"error-messages":q.value,variant:"outlined",density:"compact",class:"deposit-amount-input"},null,8,["modelValue","onUpdate:modelValue","rules","disabled","loading","error-messages"])];a(`<div class="text-body-2 text-medium-emphasis mb-2" data-v-283a7f02${l}> Amount to deposit </div>`),a(f(h,{modelValue:P.value,"onUpdate:modelValue":e=>P.value=e,label:"0.00",rules:[amountValidation],required:"",disabled:U.value,loading:U.value,"error-messages":q.value,variant:"outlined",density:"compact",class:"deposit-amount-input"},null,t,l))})),_:1},t,l))})),_:1},l)),t('<div class="action-buttons mb-4" data-v-283a7f02>'),t(f(k,{color:"primary",size:"large",loading:U.value,disabled:!R.value||U.value,onClick:handleDeposit,class:"deposit-button",block:"",rounded:"lg"},{default:i(((e,a,t,l)=>{if(!a)return[r(S,{class:"mr-2"},{default:i((()=>[n("mdi-cash-plus")])),_:1}),n(" Continue to Payment ")];a(f(S,{class:"mr-2"},{default:i(((e,a,t,l)=>{if(!a)return[n("mdi-cash-plus")];a("mdi-cash-plus")})),_:1},t,l)),a(" Continue to Payment ")})),_:1},l)),t(f(k,{color:"grey",variant:"outlined",disabled:U.value,onClick:resetForm,size:"small",class:"mt-2",block:"",rounded:"lg"},{default:i(((e,a,t,l)=>{if(!a)return[n(" Reset Amount ")];a(" Reset Amount ")})),_:1},l)),t("</div>"),t(f(I,{class:"info-card",elevation:"1",rounded:"lg"},{default:i(((e,a,t,l)=>{if(!a)return[r(z,{class:"pa-3"},{default:i((()=>[r("div",{class:"text-body-2 font-weight-medium mb-2 d-flex align-center"},[r(S,{size:"16",color:"primary",class:"mr-2"},{default:i((()=>[n("mdi-information-outline")])),_:1}),n(" Important Information ")]),r("div",{class:"info-list"},[(d(),m(c,null,p(M,((e,a)=>r("div",{key:a,class:"info-item d-flex align-center mb-1"},[r(S,{color:"success",size:"14",class:"mr-2"},{default:i((()=>[n(u(e.icon),1)])),_:2},1024),r("span",{class:"text-caption"},u(e.text),1)]))),64))])])),_:1})];a(f(z,{class:"pa-3"},{default:i(((e,a,t,l)=>{if(!a)return[r("div",{class:"text-body-2 font-weight-medium mb-2 d-flex align-center"},[r(S,{size:"16",color:"primary",class:"mr-2"},{default:i((()=>[n("mdi-information-outline")])),_:1}),n(" Important Information ")]),r("div",{class:"info-list"},[(d(),m(c,null,p(M,((e,a)=>r("div",{key:a,class:"info-item d-flex align-center mb-1"},[r(S,{color:"success",size:"14",class:"mr-2"},{default:i((()=>[n(u(e.icon),1)])),_:2},1024),r("span",{class:"text-caption"},u(e.text),1)]))),64))])];a(`<div class="text-body-2 font-weight-medium mb-2 d-flex align-center" data-v-283a7f02${l}>`),a(f(S,{size:"16",color:"primary",class:"mr-2"},{default:i(((e,a,t,l)=>{if(!a)return[n("mdi-information-outline")];a("mdi-information-outline")})),_:1},t,l)),a(` Important Information </div><div class="info-list" data-v-283a7f02${l}>\x3c!--[--\x3e`),g(M,((e,o)=>{a(`<div class="info-item d-flex align-center mb-1" data-v-283a7f02${l}>`),a(f(S,{color:"success",size:"14",class:"mr-2"},{default:i(((a,t,l,o)=>{if(!t)return[n(u(e.icon),1)];t(`${y(e.icon)}`)})),_:2},t,l)),a(`<span class="text-caption" data-v-283a7f02${l}>${y(e.text)}</span></div>`)})),a("\x3c!--]--\x3e</div>")})),_:1},t,l))})),_:1},l)),t("</div>")}}}),T=D.setup;D.setup=(e,t)=>{const l=a();return(l.modules||(l.modules=new Set)).add("views/wallet/WalletDepositPage.vue"),T?T(e,t):void 0};const P=x(D,[["__scopeId","data-v-283a7f02"]]),U=t({__name:"deposit",__ssrInlineRender:!0,setup(e){const a=A(),t=o((()=>a.talastageApp));return F({title:o((()=>{var e;return`Deposit Funds - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`})),description:o((()=>{var e;return`Securely deposit funds into your wallet on ${null==(e=t.value)?void 0:e.name}. Choose your preferred payment method and add funds to your account.`})),keywords:o((()=>{var e;return`wallet, deposit, fund wallet, payment, secure payment, ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`})),image:o((()=>{var e;return(null==(e=t.value)?void 0:e.logo_url)||"/default-social-image.png"})),type:"website",siteName:o((()=>{var e;return(null==(e=t.value)?void 0:e.name)||"TalaStage"})),url:o((()=>{var e;return`${(null==(e=t.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/deposit`})),canonical:o((()=>{var e;return`${(null==(e=t.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/deposit`})),openGraph:o((()=>{var e,a,l,o,s;return{title:`Deposit Funds - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`,description:`Securely deposit funds into your wallet on ${null==(a=t.value)?void 0:a.name}. Choose your preferred payment method and add funds to your account.`,url:`${(null==(l=t.value)?void 0:l.canonical_url)||"https://talastage.com"}/wallet/deposit`,image:(null==(o=t.value)?void 0:o.logo_url)||"/default-social-image.png",siteName:(null==(s=t.value)?void 0:s.name)||"TalaStage",type:"website"}})),twitter:o((()=>{var e,a,l;return{card:"summary_large_image",title:`Deposit Funds - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`,description:`Securely deposit funds into your wallet on ${null==(a=t.value)?void 0:a.name}. Choose your preferred payment method and add funds to your account.`,image:(null==(l=t.value)?void 0:l.logo_url)||"/default-social-image.png"}})),link:o((()=>{var e;return[{rel:"icon",href:(null==(e=t.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,a,t,l)=>{a(f(P,l,null,t))}}}),q=U.setup;U.setup=(e,t)=>{const l=a();return(l.modules||(l.modules=new Set)).add("pages/wallet/deposit.vue"),q?q(e,t):void 0};const R=x(U,[["__scopeId","data-v-8dec91f4"]]);export{R as default};

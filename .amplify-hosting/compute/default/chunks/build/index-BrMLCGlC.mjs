import{useSSRContext as e,defineComponent as l,computed as a,ref as t,mergeProps as o,withCtx as s,unref as i,createVNode as n,toDisplayString as r,createTextVNode as c,openBlock as d,createBlock as u,Fragment as m,renderList as p,TransitionGroup as v,withKeys as f}from"vue";import{ssrRenderAttrs as g,ssrRenderComponent as _,ssrInterpolate as h,ssrRenderList as C}from"vue/server-renderer";import{useRouter as y}from"vue-router";import{u as k}from"./useTalentCollectionStore-DtD71FA1.mjs";import{V as w}from"./VRow-rkX0LEXR.mjs";import{V as x}from"./VCol-CKxprC4g.mjs";import{b as V,V as b,_ as $}from"./server.mjs";import{V as j,d as T,b as z,e as S,a as F,c as U}from"./VCard-CsohsM82.mjs";import{V as N}from"./VImg-B2jcJjnn.mjs";import{V as B}from"./VDialog-DA9BdIfh.mjs";import{V as D}from"./VTextField-rd-VvEF8.mjs";import{V as K}from"./VSpacer-_gFExeVk.mjs";import{u as O}from"./useApps-hYo13Xt3.mjs";import{u as I}from"./useSeo-Dl9beXFt.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./VAvatar-JL8WKjry.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./VCounter-BZE6l8kb.mjs";import"./index--K8ZrFMm.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";const Y=l({__name:"TalentCollectionPage",__ssrInlineRender:!0,setup(e){const l=y(),$=k(),O=t(!1),I=t(!1),Y=t(""),M=t(""),R=a((()=>$.collections)),formatDate=e=>{const l=new Date(e),a=(new Date).getTime()-l.getTime(),t=Math.floor(a/6e4),o=Math.floor(t/60),s=Math.floor(o/24);return t<60?`${t}m ago`:o<24?`${o}h ago`:s<30?`${s}d ago`:l.toLocaleDateString()},createCollection=async()=>{if(Y.value.trim()){O.value=!0,M.value="";try{const e=await $.createCollection(Y.value.trim());I.value=!1,Y.value="",l.push(`/talents/collections/${e.id}`)}catch(e){M.value=e.message||"Failed to create collection"}finally{O.value=!1}}};return(e,l,a,t)=>{l(`<div${g(o({class:"collections-page pa-4"},t))} data-v-ca3217cd>`),l(_(w,{class:"mb-8",align:"center"},{default:s(((e,l,a,t)=>{if(!l)return[n(x,{cols:"12",sm:"8"},{default:s((()=>[n("div",{class:"header-content"},[n("h1",{class:"text-h4 font-weight-bold gradient-text"}," Your Collections "),n("p",{class:"text-subtitle-1 text-medium-emphasis mt-2"},r(i($).collections.length)+" collections · Organize your talents ",1)])])),_:1}),n(x,{cols:"12",sm:"4",class:"d-flex justify-end"},{default:s((()=>[n(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,elevation:"1",class:"create-btn"},{default:s((()=>[c(" New Collection ")])),_:1},8,["onClick"])])),_:1})];l(_(x,{cols:"12",sm:"8"},{default:s(((e,l,a,t)=>{if(!l)return[n("div",{class:"header-content"},[n("h1",{class:"text-h4 font-weight-bold gradient-text"}," Your Collections "),n("p",{class:"text-subtitle-1 text-medium-emphasis mt-2"},r(i($).collections.length)+" collections · Organize your talents ",1)])];l(`<div class="header-content" data-v-ca3217cd${t}><h1 class="text-h4 font-weight-bold gradient-text" data-v-ca3217cd${t}> Your Collections </h1><p class="text-subtitle-1 text-medium-emphasis mt-2" data-v-ca3217cd${t}>${h(i($).collections.length)} collections · Organize your talents </p></div>`)})),_:1},a,t)),l(_(x,{cols:"12",sm:"4",class:"d-flex justify-end"},{default:s(((e,l,a,t)=>{if(!l)return[n(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,elevation:"1",class:"create-btn"},{default:s((()=>[c(" New Collection ")])),_:1},8,["onClick"])];l(_(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,elevation:"1",class:"create-btn"},{default:s(((e,l,a,t)=>{if(!l)return[c(" New Collection ")];l(" New Collection ")})),_:1},a,t))})),_:1},a,t))})),_:1},a)),i($).isLoading?l(_(w,null,{default:s(((e,l,a,t)=>{if(!l)return[(d(),u(m,null,p(8,(e=>n(x,{key:e,cols:"12",sm:"6",md:"4",lg:"3"},{default:s((()=>[n("div",{class:"custom-skeleton"},[n("div",{class:"skeleton-preview animate-pulse"}),n("div",{class:"skeleton-content"},[n("div",{class:"skeleton-title animate-pulse"}),n("div",{class:"skeleton-subtitle animate-pulse"})])])])),_:2},1024))),64))];l("\x3c!--[--\x3e"),C(8,(e=>{l(_(x,{key:e,cols:"12",sm:"6",md:"4",lg:"3"},{default:s(((e,l,a,t)=>{if(!l)return[n("div",{class:"custom-skeleton"},[n("div",{class:"skeleton-preview animate-pulse"}),n("div",{class:"skeleton-content"},[n("div",{class:"skeleton-title animate-pulse"}),n("div",{class:"skeleton-subtitle animate-pulse"})])])];l(`<div class="custom-skeleton" data-v-ca3217cd${t}><div class="skeleton-preview animate-pulse" data-v-ca3217cd${t}></div><div class="skeleton-content" data-v-ca3217cd${t}><div class="skeleton-title animate-pulse" data-v-ca3217cd${t}></div><div class="skeleton-subtitle animate-pulse" data-v-ca3217cd${t}></div></div></div>`)})),_:2},a,t))})),l("\x3c!--]--\x3e")})),_:1},a)):R.value.length?l(_(w,null,{default:s(((e,l,a,t)=>{if(!l)return[(d(!0),u(m,null,p(R.value,(e=>(d(),u(x,{key:e.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:s((()=>[n(j,{to:`/talents/collections/${e.id}`,class:"collection-card",elevation:0,rounded:"lg"},{default:s((()=>{var l;return[n("div",{class:"collection-preview pa-2"},[(null==(l=e.preview_talents)?void 0:l.length)?(d(),u(v,{key:0,name:"preview",tag:"div",class:"preview-grid"},{default:s((()=>[(d(!0),u(m,null,p(e.preview_talents.slice(0,4),(e=>(d(),u(N,{key:e.id,src:e.profile_photo,alt:e.username,cover:"",class:"preview-image"},{placeholder:s((()=>[n("div",{class:"image-placeholder"})])),_:2},1032,["src","alt"])))),128))])),_:2},1024)):(d(),u(b,{key:1,size:"48",class:"placeholder-icon"},{default:s((()=>[c(" mdi-folder-outline ")])),_:1}))]),n(T,null,{default:s((()=>[n(z,{class:"collection-title"},{default:s((()=>[c(r(e.name),1)])),_:2},1024),n(S,{class:"collection-meta"},{default:s((()=>[c(r(e.talents_count)+" talents · "+r(formatDate(e.updated_at)),1)])),_:2},1024)])),_:2},1024)]})),_:2},1032,["to"])])),_:2},1024)))),128))];l("\x3c!--[--\x3e"),C(R.value,(e=>{l(_(x,{key:e.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:s(((l,a,t,o)=>{if(!a)return[n(j,{to:`/talents/collections/${e.id}`,class:"collection-card",elevation:0,rounded:"lg"},{default:s((()=>{var l;return[n("div",{class:"collection-preview pa-2"},[(null==(l=e.preview_talents)?void 0:l.length)?(d(),u(v,{key:0,name:"preview",tag:"div",class:"preview-grid"},{default:s((()=>[(d(!0),u(m,null,p(e.preview_talents.slice(0,4),(e=>(d(),u(N,{key:e.id,src:e.profile_photo,alt:e.username,cover:"",class:"preview-image"},{placeholder:s((()=>[n("div",{class:"image-placeholder"})])),_:2},1032,["src","alt"])))),128))])),_:2},1024)):(d(),u(b,{key:1,size:"48",class:"placeholder-icon"},{default:s((()=>[c(" mdi-folder-outline ")])),_:1}))]),n(T,null,{default:s((()=>[n(z,{class:"collection-title"},{default:s((()=>[c(r(e.name),1)])),_:2},1024),n(S,{class:"collection-meta"},{default:s((()=>[c(r(e.talents_count)+" talents · "+r(formatDate(e.updated_at)),1)])),_:2},1024)])),_:2},1024)]})),_:2},1032,["to"])];a(_(j,{to:`/talents/collections/${e.id}`,class:"collection-card",elevation:0,rounded:"lg"},{default:s(((l,a,t,o)=>{var i,f;if(!a)return[n("div",{class:"collection-preview pa-2"},[(null==(f=e.preview_talents)?void 0:f.length)?(d(),u(v,{key:0,name:"preview",tag:"div",class:"preview-grid"},{default:s((()=>[(d(!0),u(m,null,p(e.preview_talents.slice(0,4),(e=>(d(),u(N,{key:e.id,src:e.profile_photo,alt:e.username,cover:"",class:"preview-image"},{placeholder:s((()=>[n("div",{class:"image-placeholder"})])),_:2},1032,["src","alt"])))),128))])),_:2},1024)):(d(),u(b,{key:1,size:"48",class:"placeholder-icon"},{default:s((()=>[c(" mdi-folder-outline ")])),_:1}))]),n(T,null,{default:s((()=>[n(z,{class:"collection-title"},{default:s((()=>[c(r(e.name),1)])),_:2},1024),n(S,{class:"collection-meta"},{default:s((()=>[c(r(e.talents_count)+" talents · "+r(formatDate(e.updated_at)),1)])),_:2},1024)])),_:2},1024)];a(`<div class="collection-preview pa-2" data-v-ca3217cd${o}>`),(null==(i=e.preview_talents)?void 0:i.length)?(a(`<div${g({name:"preview",class:"preview-grid"})} data-v-ca3217cd>`),C(e.preview_talents.slice(0,4),(e=>{a(_(N,{key:e.id,src:e.profile_photo,alt:e.username,cover:"",class:"preview-image"},{placeholder:s(((e,l,a,t)=>{if(!l)return[n("div",{class:"image-placeholder"})];l(`<div class="image-placeholder" data-v-ca3217cd${t}></div>`)})),_:2},t,o))})),a("</div>")):a(_(b,{size:"48",class:"placeholder-icon"},{default:s(((e,l,a,t)=>{if(!l)return[c(" mdi-folder-outline ")];l(" mdi-folder-outline ")})),_:2},t,o)),a("</div>"),a(_(T,null,{default:s(((l,a,t,o)=>{if(!a)return[n(z,{class:"collection-title"},{default:s((()=>[c(r(e.name),1)])),_:2},1024),n(S,{class:"collection-meta"},{default:s((()=>[c(r(e.talents_count)+" talents · "+r(formatDate(e.updated_at)),1)])),_:2},1024)];a(_(z,{class:"collection-title"},{default:s(((l,a,t,o)=>{if(!a)return[c(r(e.name),1)];a(`${h(e.name)}`)})),_:2},t,o)),a(_(S,{class:"collection-meta"},{default:s(((l,a,t,o)=>{if(!a)return[c(r(e.talents_count)+" talents · "+r(formatDate(e.updated_at)),1)];a(`${h(e.talents_count)} talents · ${h(formatDate(e.updated_at))}`)})),_:2},t,o))})),_:2},t,o))})),_:2},t,o))})),_:2},a,t))})),l("\x3c!--]--\x3e")})),_:1},a)):l(_(w,{justify:"center",class:"py-12"},{default:s(((e,l,a,t)=>{if(!l)return[n(x,{cols:"12",sm:"8",md:"6",class:"text-center"},{default:s((()=>[n("div",{class:"empty-state"},[n(b,{size:"72",class:"empty-icon"},{default:s((()=>[c("mdi-folder-outline")])),_:1}),n("h3",{class:"text-h5 mt-6"},"Start Your First Collection"),n("p",{class:"text-medium-emphasis my-4"}," Create collections to organize and manage your favorite talents "),n(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,size:"large",class:"mt-4"},{default:s((()=>[c(" Create Collection ")])),_:1},8,["onClick"])])])),_:1})];l(_(x,{cols:"12",sm:"8",md:"6",class:"text-center"},{default:s(((e,l,a,t)=>{if(!l)return[n("div",{class:"empty-state"},[n(b,{size:"72",class:"empty-icon"},{default:s((()=>[c("mdi-folder-outline")])),_:1}),n("h3",{class:"text-h5 mt-6"},"Start Your First Collection"),n("p",{class:"text-medium-emphasis my-4"}," Create collections to organize and manage your favorite talents "),n(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,size:"large",class:"mt-4"},{default:s((()=>[c(" Create Collection ")])),_:1},8,["onClick"])])];l(`<div class="empty-state" data-v-ca3217cd${t}>`),l(_(b,{size:"72",class:"empty-icon"},{default:s(((e,l,a,t)=>{if(!l)return[c("mdi-folder-outline")];l("mdi-folder-outline")})),_:1},a,t)),l(`<h3 class="text-h5 mt-6" data-v-ca3217cd${t}>Start Your First Collection</h3><p class="text-medium-emphasis my-4" data-v-ca3217cd${t}> Create collections to organize and manage your favorite talents </p>`),l(_(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e=>I.value=!0,size:"large",class:"mt-4"},{default:s(((e,l,a,t)=>{if(!l)return[c(" Create Collection ")];l(" Create Collection ")})),_:1},a,t)),l("</div>")})),_:1},a,t))})),_:1},a)),l(_(B,{modelValue:I.value,"onUpdate:modelValue":e=>I.value=e,"max-width":"500"},{default:s(((e,l,a,t)=>{if(!l)return[n(j,{class:"dialog-card"},{default:s((()=>[n(z,{class:"pt-6 px-6"},{default:s((()=>[c("Create New Collection")])),_:1}),n(F,{class:"px-6 pt-4"},{default:s((()=>[n(D,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,label:"Collection name",variant:"outlined","error-messages":M.value,autofocus:"",onKeyup:f(createCollection,["enter"]),class:"collection-input"},null,8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1}),n(U,{class:"pa-6"},{default:s((()=>[n(K),n(V,{variant:"text",onClick:e=>I.value=!1},{default:s((()=>[c(" Cancel ")])),_:1},8,["onClick"]),n(V,{color:"primary",loading:O.value,disabled:!Y.value.trim(),onClick:createCollection},{default:s((()=>[c(" Create ")])),_:1},8,["loading","disabled"])])),_:1})])),_:1})];l(_(j,{class:"dialog-card"},{default:s(((e,l,a,t)=>{if(!l)return[n(z,{class:"pt-6 px-6"},{default:s((()=>[c("Create New Collection")])),_:1}),n(F,{class:"px-6 pt-4"},{default:s((()=>[n(D,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,label:"Collection name",variant:"outlined","error-messages":M.value,autofocus:"",onKeyup:f(createCollection,["enter"]),class:"collection-input"},null,8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1}),n(U,{class:"pa-6"},{default:s((()=>[n(K),n(V,{variant:"text",onClick:e=>I.value=!1},{default:s((()=>[c(" Cancel ")])),_:1},8,["onClick"]),n(V,{color:"primary",loading:O.value,disabled:!Y.value.trim(),onClick:createCollection},{default:s((()=>[c(" Create ")])),_:1},8,["loading","disabled"])])),_:1})];l(_(z,{class:"pt-6 px-6"},{default:s(((e,l,a,t)=>{if(!l)return[c("Create New Collection")];l("Create New Collection")})),_:1},a,t)),l(_(F,{class:"px-6 pt-4"},{default:s(((e,l,a,t)=>{if(!l)return[n(D,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,label:"Collection name",variant:"outlined","error-messages":M.value,autofocus:"",onKeyup:f(createCollection,["enter"]),class:"collection-input"},null,8,["modelValue","onUpdate:modelValue","error-messages"])];l(_(D,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,label:"Collection name",variant:"outlined","error-messages":M.value,autofocus:"",onKeyup:createCollection,class:"collection-input"},null,a,t))})),_:1},a,t)),l(_(U,{class:"pa-6"},{default:s(((e,l,a,t)=>{if(!l)return[n(K),n(V,{variant:"text",onClick:e=>I.value=!1},{default:s((()=>[c(" Cancel ")])),_:1},8,["onClick"]),n(V,{color:"primary",loading:O.value,disabled:!Y.value.trim(),onClick:createCollection},{default:s((()=>[c(" Create ")])),_:1},8,["loading","disabled"])];l(_(K,null,null,a,t)),l(_(V,{variant:"text",onClick:e=>I.value=!1},{default:s(((e,l,a,t)=>{if(!l)return[c(" Cancel ")];l(" Cancel ")})),_:1},a,t)),l(_(V,{color:"primary",loading:O.value,disabled:!Y.value.trim(),onClick:createCollection},{default:s(((e,l,a,t)=>{if(!l)return[c(" Create ")];l(" Create ")})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a)),l("</div>")}}}),M=Y.setup;Y.setup=(l,a)=>{const t=e();return(t.modules||(t.modules=new Set)).add("views/talents/TalentCollectionPage.vue"),M?M(l,a):void 0};const R=$(Y,[["__scopeId","data-v-ca3217cd"]]),A=l({__name:"index",__ssrInlineRender:!0,setup(e){const l=O(),t=a((()=>l.talastageApp));return I({title:a((()=>{var e;return`Talent Collections - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`})),description:a((()=>"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work.")),keywords:a((()=>"talent collections, organize talents, TalaStage")),image:a((()=>{var e;return(null==(e=t.value)?void 0:e.logo_url)||"https://talastage.com/social-card.png"})),type:"website",siteName:a((()=>{var e;return(null==(e=t.value)?void 0:e.name)||"TalaStage"})),url:a((()=>{var e;return(null==(e=t.value)?void 0:e.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"})),noIndex:!0,canonical:a((()=>{var e;return(null==(e=t.value)?void 0:e.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"})),openGraph:a((()=>{var e,l,a,o;return{title:`Talent Collections - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`,description:"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work.",url:(null==(l=t.value)?void 0:l.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections",image:(null==(a=t.value)?void 0:a.logo_url)||"https://talastage.com/social-card.png",siteName:(null==(o=t.value)?void 0:o.name)||"TalaStage",type:"website"}})),twitter:a((()=>{var e,l;return{card:"summary_large_image",title:`Talent Collections - ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`,description:"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work.",image:(null==(l=t.value)?void 0:l.logo_url)||"https://talastage.com/social-card.png"}})),link:a((()=>{var e;return[{rel:"icon",href:(null==(e=t.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,l,a,t)=>{const o=R;l(`<div${g(t)}>`),l(_(o,null,null,a)),l("</div>")}}}),X=A.setup;A.setup=(l,a)=>{const t=e();return(t.modules||(t.modules=new Set)).add("pages/talents/collections/index.vue"),X?X(l,a):void 0};export{A as default};

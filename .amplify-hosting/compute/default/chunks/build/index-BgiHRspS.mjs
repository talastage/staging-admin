import{_ as e}from"./ProjectPageHeader-iRx9USVm.mjs";import{_ as t}from"./AmountDisplayCard-DhqZb7_E.mjs";import{useSSRContext as a,defineComponent as r,computed as n,watch as s,mergeProps as i,unref as l,withCtx as c,createTextVNode as o,toDisplayString as d,createVNode as u,ref as m,openBlock as p,createBlock as y,Fragment as g,renderList as v,createCommentVNode as f}from"vue";import{ssrRenderComponent as x,ssrRenderAttrs as h,ssrInterpolate as _,ssrRenderList as b,ssrRenderStyle as w}from"vue/server-renderer";import{useRoute as j,useRouter as k}from"vue-router";import{a$ as $,b as E,V,u as z,aA as C,_ as I}from"./server.mjs";import{V as P}from"./VRow-rkX0LEXR.mjs";import{V as S}from"./VCol-CKxprC4g.mjs";import{a as L}from"./VChip-f_o2BAA4.mjs";import{_ as A}from"./BaseContent-D2jufG_L.mjs";import{u as R}from"./useDateFormatter-W2Hui1rv.mjs";import{u as M}from"./useCurrencyFormatter-Dfs2ioxk.mjs";import{V as U,a as D}from"./VCard-CsohsM82.mjs";import{V as B}from"./VAvatar-JL8WKjry.mjs";import{V as F}from"./VImg-B2jcJjnn.mjs";import{V as N}from"./VSpacer-_gFExeVk.mjs";import{u as G}from"./useInfiniteScroll-CumoSAIu.mjs";import{V as Z}from"./VContainer-By3q0af_.mjs";import{V as q}from"./VDivider-BmyMVZMt.mjs";import{V as K}from"./VListItem-jTLuICGb.mjs";import{V as T}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{V as Y}from"./VAlert-DneVUU3Q.mjs";import{u as H}from"./useProjectStore-ICfMYGpe.mjs";import{u as X}from"./useSeo-Dl9beXFt.mjs";import"./BaseCard-5i8D5k_7.mjs";import"./VTooltip-CE0EmfBU.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./index--K8ZrFMm.mjs";const J=r({__name:"InvestmentEarningsSummaryCards",__ssrInlineRender:!0,props:{summary:{}},setup(e){const a=e,r=k(),s=j(),parseAmount=e=>e?Number(e.replace(/,/g,"")):0,l=n((()=>s.params.access_uuid||"")),m=n((()=>{var e;return(null==(e=a.summary)?void 0:e.creator_id)||0})),navigateToWithdraw=async()=>{if(m.value&&l.value){const e=`/investments/earnings/projects/${l.value}/investor-details-${m.value}`;try{await C(e,{external:!1})}catch(t){r.push(e)}}else console.error("Missing required parameters for navigation")},navigateToInvestors=async()=>{if(l.value)try{await C(`/project/${l.value}/earnings/investors`,{external:!1})}catch(e){console.error("Navigation error:",e),r.push(`/project/${l.value}/earnings/investors`)}else console.error("Missing access UUID for navigation")};return(e,a,r,n)=>{const s=t;a(`<div${h(i({class:"summary-cards"},n))} data-v-b467a811>`),a(x(P,null,{default:c(((t,a,r,n)=>{if(!a)return[u(S,{cols:"12",sm:"6",md:"4"},{default:c((()=>[u(s,{title:"Viewing Earnings",amount:parseAmount(e.summary.project_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-eye",elevation:10},{footer:c((()=>[u("span",{class:"text-body-2 text-medium-emphasis"},[u(L,{size:"x-small",color:"primary",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.total_transactions)+" transactions ",1)])),_:1})])])),_:1},8,["amount","currency-symbol","currency-code"])])),_:1}),u(S,{cols:"12",sm:"6",md:"4"},{default:c((()=>[u(s,{title:"Creator Earnings",amount:parseAmount(e.summary.creator_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-star",variant:"primary",elevation:10},{footer:c((({variant:e})=>[u(E,{color:"primary"===e?"white":"primary",variant:"primary"===e?"tonal":"elevated",size:"small","prepend-icon":"mdi-bank-transfer",onClick:navigateToWithdraw,class:"earnings-btn"},{default:c((()=>[o(" My Earnings ")])),_:2},1032,["color","variant"])])),_:1},8,["amount","currency-symbol","currency-code"])])),_:1}),u(S,{cols:"12",sm:"6",md:"4"},{default:c((()=>[u(s,{title:"Investors Earnings",amount:parseAmount(e.summary.investors_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-group",elevation:10},{footer:c((()=>[u("div",{class:"d-flex align-center justify-space-between"},[u(L,{size:"x-small",color:"success",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.project_investors)+" investors ",1)])),_:1}),u(E,{color:"primary",variant:"text",size:"small",onClick:navigateToInvestors,class:"earnings-btn"},{default:c((()=>[o(" View All "),u(V,{end:""},{default:c((()=>[o("mdi-chevron-right")])),_:1})])),_:1})])])),_:1},8,["amount","currency-symbol","currency-code"])])),_:1})];a(x(S,{cols:"12",sm:"6",md:"4"},{default:c(((t,a,r,n)=>{if(!a)return[u(s,{title:"Viewing Earnings",amount:parseAmount(e.summary.project_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-eye",elevation:10},{footer:c((()=>[u("span",{class:"text-body-2 text-medium-emphasis"},[u(L,{size:"x-small",color:"primary",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.total_transactions)+" transactions ",1)])),_:1})])])),_:1},8,["amount","currency-symbol","currency-code"])];a(x(s,{title:"Viewing Earnings",amount:parseAmount(e.summary.project_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-eye",elevation:10},{footer:c(((t,a,r,n)=>{if(!a)return[u("span",{class:"text-body-2 text-medium-emphasis"},[u(L,{size:"x-small",color:"primary",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.total_transactions)+" transactions ",1)])),_:1})])];a(`<span class="text-body-2 text-medium-emphasis" data-v-b467a811${n}>`),a(x(L,{size:"x-small",color:"primary",variant:"flat",density:"compact",class:"earnings-chip"},{default:c(((t,a,r,n)=>{if(!a)return[o(d(e.summary.total_transactions)+" transactions ",1)];a(`${_(e.summary.total_transactions)} transactions `)})),_:1},r,n)),a("</span>")})),_:1},r,n))})),_:1},r,n)),a(x(S,{cols:"12",sm:"6",md:"4"},{default:c(((t,a,r,n)=>{if(!a)return[u(s,{title:"Creator Earnings",amount:parseAmount(e.summary.creator_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-star",variant:"primary",elevation:10},{footer:c((({variant:e})=>[u(E,{color:"primary"===e?"white":"primary",variant:"primary"===e?"tonal":"elevated",size:"small","prepend-icon":"mdi-bank-transfer",onClick:navigateToWithdraw,class:"earnings-btn"},{default:c((()=>[o(" My Earnings ")])),_:2},1032,["color","variant"])])),_:1},8,["amount","currency-symbol","currency-code"])];a(x(s,{title:"Creator Earnings",amount:parseAmount(e.summary.creator_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-star",variant:"primary",elevation:10},{footer:c((({variant:e},t,a,r)=>{if(!t)return[u(E,{color:"primary"===e?"white":"primary",variant:"primary"===e?"tonal":"elevated",size:"small","prepend-icon":"mdi-bank-transfer",onClick:navigateToWithdraw,class:"earnings-btn"},{default:c((()=>[o(" My Earnings ")])),_:2},1032,["color","variant"])];t(x(E,{color:"primary"===e?"white":"primary",variant:"primary"===e?"tonal":"elevated",size:"small","prepend-icon":"mdi-bank-transfer",onClick:navigateToWithdraw,class:"earnings-btn"},{default:c(((e,t,a,r)=>{if(!t)return[o(" My Earnings ")];t(" My Earnings ")})),_:2},a,r))})),_:1},r,n))})),_:1},r,n)),a(x(S,{cols:"12",sm:"6",md:"4"},{default:c(((t,a,r,n)=>{if(!a)return[u(s,{title:"Investors Earnings",amount:parseAmount(e.summary.investors_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-group",elevation:10},{footer:c((()=>[u("div",{class:"d-flex align-center justify-space-between"},[u(L,{size:"x-small",color:"success",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.project_investors)+" investors ",1)])),_:1}),u(E,{color:"primary",variant:"text",size:"small",onClick:navigateToInvestors,class:"earnings-btn"},{default:c((()=>[o(" View All "),u(V,{end:""},{default:c((()=>[o("mdi-chevron-right")])),_:1})])),_:1})])])),_:1},8,["amount","currency-symbol","currency-code"])];a(x(s,{title:"Investors Earnings",amount:parseAmount(e.summary.investors_total_earnings),"currency-symbol":e.summary.currency.symbol,"currency-code":e.summary.currency.code,icon:"mdi-account-group",elevation:10},{footer:c(((t,a,r,n)=>{if(!a)return[u("div",{class:"d-flex align-center justify-space-between"},[u(L,{size:"x-small",color:"success",variant:"flat",density:"compact",class:"earnings-chip"},{default:c((()=>[o(d(e.summary.project_investors)+" investors ",1)])),_:1}),u(E,{color:"primary",variant:"text",size:"small",onClick:navigateToInvestors,class:"earnings-btn"},{default:c((()=>[o(" View All "),u(V,{end:""},{default:c((()=>[o("mdi-chevron-right")])),_:1})])),_:1})])];a(`<div class="d-flex align-center justify-space-between" data-v-b467a811${n}>`),a(x(L,{size:"x-small",color:"success",variant:"flat",density:"compact",class:"earnings-chip"},{default:c(((t,a,r,n)=>{if(!a)return[o(d(e.summary.project_investors)+" investors ",1)];a(`${_(e.summary.project_investors)} investors `)})),_:1},r,n)),a(x(E,{color:"primary",variant:"text",size:"small",onClick:navigateToInvestors,class:"earnings-btn"},{default:c(((e,t,a,r)=>{if(!t)return[o(" View All "),u(V,{end:""},{default:c((()=>[o("mdi-chevron-right")])),_:1})];t(" View All "),t(x(V,{end:""},{default:c(((e,t,a,r)=>{if(!t)return[o("mdi-chevron-right")];t("mdi-chevron-right")})),_:1},a,r))})),_:1},r,n)),a("</div>")})),_:1},r,n))})),_:1},r,n))})),_:1},r)),a("</div>")}}}),O=J.setup;J.setup=(e,t)=>{const r=a();return(r.modules||(r.modules=new Set)).add("components/investment/InvestmentEarningsSummaryCards.vue"),O?O(e,t):void 0};const W=I(J,[["__scopeId","data-v-b467a811"]]),Q=r({__name:"ProjectEarningListItem",__ssrInlineRender:!0,props:{earning:{}},setup(e){const{formatRelativeDate:t}=R(),{currencyFormatter:a}=M(),formatAmount=(e,t)=>{const r="string"==typeof e?parseFloat(e):e;return a(r,t.symbol,t.code)},getTypeIcon=e=>{switch(e){case"project_watching":return"mdi-eye";case"tip":return"mdi-heart";default:return"mdi-cash"}},getTypeLabel=e=>{switch(e){case"project_watching":return"Project Watching";case"tip":return"Tip";default:return"Payment"}};return(e,a,r,n)=>{a(x(U,i({class:"earning-item",elevation:"2",rounded:"lg"},n),{default:c(((a,r,n,s)=>{if(!r)return[u(D,{class:"pa-4"},{default:c((()=>[u("div",{class:"d-flex align-center gap-4"},[u("div",{class:"d-flex align-center gap-3 flex-shrink-0"},[u(B,{size:"48"},{default:c((()=>[u(F,{src:e.earning.user.profile_photo,alt:e.earning.user.display_name},{error:c((()=>[u(V,{size:"24",color:"grey-lighten-1"},{default:c((()=>[o("mdi-account-circle")])),_:1})])),_:1},8,["src","alt"])])),_:1}),u("div",{class:"user-info"},[u("div",{class:"text-subtitle-1 font-weight-medium"},d(e.earning.user.display_name),1),u("div",{class:"d-flex align-center gap-1 text-caption text-grey-darken-1"},[u(V,{size:"12"},{default:c((()=>[o(d(getTypeIcon(e.earning.type)),1)])),_:1}),o(" "+d(getTypeLabel(e.earning.type))+" ",1),u("span",{class:"mx-1"},"•"),o(" "+d(l(t)(e.earning.created_at)),1)])])]),u(N),u("div",{class:"financial-breakdown text-right"},[u("div",{class:"net-amount mb-2"},[u("div",{class:"text-h6 font-weight-bold text-success"},d(formatAmount(e.earning.net_amount,e.earning.currency)),1),u("div",{class:"text-caption text-grey-darken-1"},"Net Earned")]),u("div",{class:"breakdown-details"},[u("div",{class:"d-flex justify-end align-center gap-2 text-body-2"},[u("span",{class:"text-grey-darken-2"},d(formatAmount(e.earning.amount,e.earning.currency)),1),u(V,{size:"12",color:"grey-darken-1"},{default:c((()=>[o("mdi-minus")])),_:1}),u("span",{class:"text-warning"},d(formatAmount(e.earning.app_service_fee,e.earning.currency)),1)]),u("div",{class:"text-caption text-grey mt-1"}," Gross - Service Fee ")])])])])),_:1})];r(x(D,{class:"pa-4"},{default:c(((a,r,n,s)=>{if(!r)return[u("div",{class:"d-flex align-center gap-4"},[u("div",{class:"d-flex align-center gap-3 flex-shrink-0"},[u(B,{size:"48"},{default:c((()=>[u(F,{src:e.earning.user.profile_photo,alt:e.earning.user.display_name},{error:c((()=>[u(V,{size:"24",color:"grey-lighten-1"},{default:c((()=>[o("mdi-account-circle")])),_:1})])),_:1},8,["src","alt"])])),_:1}),u("div",{class:"user-info"},[u("div",{class:"text-subtitle-1 font-weight-medium"},d(e.earning.user.display_name),1),u("div",{class:"d-flex align-center gap-1 text-caption text-grey-darken-1"},[u(V,{size:"12"},{default:c((()=>[o(d(getTypeIcon(e.earning.type)),1)])),_:1}),o(" "+d(getTypeLabel(e.earning.type))+" ",1),u("span",{class:"mx-1"},"•"),o(" "+d(l(t)(e.earning.created_at)),1)])])]),u(N),u("div",{class:"financial-breakdown text-right"},[u("div",{class:"net-amount mb-2"},[u("div",{class:"text-h6 font-weight-bold text-success"},d(formatAmount(e.earning.net_amount,e.earning.currency)),1),u("div",{class:"text-caption text-grey-darken-1"},"Net Earned")]),u("div",{class:"breakdown-details"},[u("div",{class:"d-flex justify-end align-center gap-2 text-body-2"},[u("span",{class:"text-grey-darken-2"},d(formatAmount(e.earning.amount,e.earning.currency)),1),u(V,{size:"12",color:"grey-darken-1"},{default:c((()=>[o("mdi-minus")])),_:1}),u("span",{class:"text-warning"},d(formatAmount(e.earning.app_service_fee,e.earning.currency)),1)]),u("div",{class:"text-caption text-grey mt-1"}," Gross - Service Fee ")])])])];r(`<div class="d-flex align-center gap-4" data-v-6913d982${s}><div class="d-flex align-center gap-3 flex-shrink-0" data-v-6913d982${s}>`),r(x(B,{size:"48"},{default:c(((t,a,r,n)=>{if(!a)return[u(F,{src:e.earning.user.profile_photo,alt:e.earning.user.display_name},{error:c((()=>[u(V,{size:"24",color:"grey-lighten-1"},{default:c((()=>[o("mdi-account-circle")])),_:1})])),_:1},8,["src","alt"])];a(x(F,{src:e.earning.user.profile_photo,alt:e.earning.user.display_name},{error:c(((e,t,a,r)=>{if(!t)return[u(V,{size:"24",color:"grey-lighten-1"},{default:c((()=>[o("mdi-account-circle")])),_:1})];t(x(V,{size:"24",color:"grey-lighten-1"},{default:c(((e,t,a,r)=>{if(!t)return[o("mdi-account-circle")];t("mdi-account-circle")})),_:1},a,r))})),_:1},r,n))})),_:1},n,s)),r(`<div class="user-info" data-v-6913d982${s}><div class="text-subtitle-1 font-weight-medium" data-v-6913d982${s}>${_(e.earning.user.display_name)}</div><div class="d-flex align-center gap-1 text-caption text-grey-darken-1" data-v-6913d982${s}>`),r(x(V,{size:"12"},{default:c(((t,a,r,n)=>{if(!a)return[o(d(getTypeIcon(e.earning.type)),1)];a(`${_(getTypeIcon(e.earning.type))}`)})),_:1},n,s)),r(` ${_(getTypeLabel(e.earning.type))} <span class="mx-1" data-v-6913d982${s}>•</span> ${_(l(t)(e.earning.created_at))}</div></div></div>`),r(x(N,null,null,n,s)),r(`<div class="financial-breakdown text-right" data-v-6913d982${s}><div class="net-amount mb-2" data-v-6913d982${s}><div class="text-h6 font-weight-bold text-success" data-v-6913d982${s}>${_(formatAmount(e.earning.net_amount,e.earning.currency))}</div><div class="text-caption text-grey-darken-1" data-v-6913d982${s}>Net Earned</div></div><div class="breakdown-details" data-v-6913d982${s}><div class="d-flex justify-end align-center gap-2 text-body-2" data-v-6913d982${s}><span class="text-grey-darken-2" data-v-6913d982${s}>${_(formatAmount(e.earning.amount,e.earning.currency))}</span>`),r(x(V,{size:"12",color:"grey-darken-1"},{default:c(((e,t,a,r)=>{if(!t)return[o("mdi-minus")];t("mdi-minus")})),_:1},n,s)),r(`<span class="text-warning" data-v-6913d982${s}>${_(formatAmount(e.earning.app_service_fee,e.earning.currency))}</span></div><div class="text-caption text-grey mt-1" data-v-6913d982${s}> Gross - Service Fee </div></div></div></div>`)})),_:1},n,s))})),_:1},r))}}}),ee=Q.setup;Q.setup=(e,t)=>{const r=a();return(r.modules||(r.modules=new Set)).add("components/earning/ProjectEarningListItem.vue"),ee?ee(e,t):void 0};const te=I(Q,[["__scopeId","data-v-6913d982"]]),ae=r({__name:"ProjectEarningsPage",__ssrInlineRender:!0,props:{project:{type:Object,required:!0},accessUuid:{type:String,required:!0},isProjectLoading:{type:Boolean,default:!1}},emits:["refresh-project"],setup(t,{emit:a}){const r=t,n=m(null),{$axios:i}=z(),fetchStatistics=async()=>{try{const{data:e}=await i.get(`/api/projects/${r.accessUuid}/earnings/statistics`);n.value=e}catch(e){console.error("Error fetching statistics:",e instanceof Error?e.message:"Unknown error")}},{items:h,isLoading:j,error:k,hasMore:$,refresh:V}=G((async e=>{const{data:t}=await i.get(`/api/projects/${r.accessUuid}/earnings`,{params:{page:e}});return t.data}),{threshold:200,throttle:300});return s((()=>r.accessUuid),(e=>{e&&(async()=>{await Promise.all([fetchStatistics()])})()})),(a,r,s,i)=>{const m=e,z=W,C=A,I=te;r(x(Z,i,{default:c(((e,a,r,s)=>{if(!a)return[u(m,{project:t.project,loading:t.isProjectLoading,subtitle:"Earnings & Revenue Analytics"},{actions:c((()=>[u(E,{icon:"mdi-refresh",variant:"text",size:"small",loading:l(j),onClick:l(V)},null,8,["loading","onClick"])])),bottom:c((()=>[u(q,{class:"mt-4"})])),_:1},8,["project","loading"]),n.value?(p(),y(z,{key:0,summary:n.value.summary,class:"mb-5"},null,8,["summary"])):f("",!0),u(C,{title:"Earnings History"},{content:c((()=>[u("div",{class:"earnings-list"},[l(h).length?(p(!0),y(g,{key:0},v(l(h),(e=>(p(),y(I,{key:e.id,earning:e},null,8,["earning"])))),128)):f("",!0),l(j)&&!l(h).length?(p(),y(g,{key:1},v(5,(e=>u("div",{key:e,class:"earning-item"},[u(K,null,{prepend:c((()=>[u(T,{type:"avatar",width:"40",height:"40"})])),append:c((()=>[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])])),default:c((()=>[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])])),_:1}),u(q)]))),64)):f("",!0),l(j)||l(k)||0!==l(h).length?f("",!0):(p(),y(Y,{key:2,type:"info",class:"ma-4"},{default:c((()=>[o(" No earnings found ")])),_:1})),l(k)?(p(),y(Y,{key:3,type:"error",class:"ma-4"},{default:c((()=>[o(d(l(k)),1)])),_:1})):f("",!0),l(j)&&l(h).length>0?(p(),y("div",{key:4,class:"earning-item"},[u(K,null,{prepend:c((()=>[u(T,{type:"avatar",width:"40",height:"40"})])),append:c((()=>[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])])),default:c((()=>[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])])),_:1}),u(q)])):f("",!0),!l(j)&&!l($)&&l(h).length>0?(p(),y(Y,{key:5,type:"info",class:"ma-4"},{default:c((()=>[o(" You've reached the end of the list ")])),_:1})):f("",!0)])])),_:1})];a(x(m,{project:t.project,loading:t.isProjectLoading,subtitle:"Earnings & Revenue Analytics"},{actions:c(((e,t,a,r)=>{if(!t)return[u(E,{icon:"mdi-refresh",variant:"text",size:"small",loading:l(j),onClick:l(V)},null,8,["loading","onClick"])];t(x(E,{icon:"mdi-refresh",variant:"text",size:"small",loading:l(j),onClick:l(V)},null,a,r))})),bottom:c(((e,t,a,r)=>{if(!t)return[u(q,{class:"mt-4"})];t(x(q,{class:"mt-4"},null,a,r))})),_:1},r,s)),n.value?a(x(z,{summary:n.value.summary,class:"mb-5"},null,r,s)):a("\x3c!----\x3e"),a(x(C,{title:"Earnings History"},{content:c(((e,t,a,r)=>{if(!t)return[u("div",{class:"earnings-list"},[l(h).length?(p(!0),y(g,{key:0},v(l(h),(e=>(p(),y(I,{key:e.id,earning:e},null,8,["earning"])))),128)):f("",!0),l(j)&&!l(h).length?(p(),y(g,{key:1},v(5,(e=>u("div",{key:e,class:"earning-item"},[u(K,null,{prepend:c((()=>[u(T,{type:"avatar",width:"40",height:"40"})])),append:c((()=>[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])])),default:c((()=>[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])])),_:1}),u(q)]))),64)):f("",!0),l(j)||l(k)||0!==l(h).length?f("",!0):(p(),y(Y,{key:2,type:"info",class:"ma-4"},{default:c((()=>[o(" No earnings found ")])),_:1})),l(k)?(p(),y(Y,{key:3,type:"error",class:"ma-4"},{default:c((()=>[o(d(l(k)),1)])),_:1})):f("",!0),l(j)&&l(h).length>0?(p(),y("div",{key:4,class:"earning-item"},[u(K,null,{prepend:c((()=>[u(T,{type:"avatar",width:"40",height:"40"})])),append:c((()=>[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])])),default:c((()=>[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])])),_:1}),u(q)])):f("",!0),!l(j)&&!l($)&&l(h).length>0?(p(),y(Y,{key:5,type:"info",class:"ma-4"},{default:c((()=>[o(" You've reached the end of the list ")])),_:1})):f("",!0)])];t(`<div class="earnings-list" data-v-246a0c0b${r}>`),l(h).length?(t("\x3c!--[--\x3e"),b(l(h),(e=>{t(x(I,{key:e.id,earning:e},null,a,r))})),t("\x3c!--]--\x3e")):t("\x3c!----\x3e"),l(j)&&!l(h).length?(t("\x3c!--[--\x3e"),b(5,(e=>{t(`<div class="earning-item" data-v-246a0c0b${r}>`),t(x(K,null,{prepend:c(((e,t,a,r)=>{if(!t)return[u(T,{type:"avatar",width:"40",height:"40"})];t(x(T,{type:"avatar",width:"40",height:"40"},null,a,r))})),append:c(((e,t,a,r)=>{if(!t)return[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])];t(`<div class="text-right" data-v-246a0c0b${r}>`),t(x(T,{type:"text",width:"80"},null,a,r)),t(x(T,{type:"text",width:"60"},null,a,r)),t("</div>")})),default:c(((e,t,a,r)=>{if(!t)return[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])];t(`<div class="d-flex flex-column" style="${w({gap:"4px",flex:"1"})}" data-v-246a0c0b${r}>`),t(x(T,{type:"text",width:"150"},null,a,r)),t(x(T,{type:"text",width:"100"},null,a,r)),t("</div>")})),_:2},a,r)),t(x(q,null,null,a,r)),t("</div>")})),t("\x3c!--]--\x3e")):t("\x3c!----\x3e"),l(j)||l(k)||0!==l(h).length?t("\x3c!----\x3e"):t(x(Y,{type:"info",class:"ma-4"},{default:c(((e,t,a,r)=>{if(!t)return[o(" No earnings found ")];t(" No earnings found ")})),_:1},a,r)),l(k)?t(x(Y,{type:"error",class:"ma-4"},{default:c(((e,t,a,r)=>{if(!t)return[o(d(l(k)),1)];t(`${_(l(k))}`)})),_:1},a,r)):t("\x3c!----\x3e"),l(j)&&l(h).length>0?(t(`<div class="earning-item" data-v-246a0c0b${r}>`),t(x(K,null,{prepend:c(((e,t,a,r)=>{if(!t)return[u(T,{type:"avatar",width:"40",height:"40"})];t(x(T,{type:"avatar",width:"40",height:"40"},null,a,r))})),append:c(((e,t,a,r)=>{if(!t)return[u("div",{class:"text-right"},[u(T,{type:"text",width:"80"}),u(T,{type:"text",width:"60"})])];t(`<div class="text-right" data-v-246a0c0b${r}>`),t(x(T,{type:"text",width:"80"},null,a,r)),t(x(T,{type:"text",width:"60"},null,a,r)),t("</div>")})),default:c(((e,t,a,r)=>{if(!t)return[u("div",{class:"d-flex flex-column",style:{gap:"4px",flex:"1"}},[u(T,{type:"text",width:"150"}),u(T,{type:"text",width:"100"})])];t(`<div class="d-flex flex-column" style="${w({gap:"4px",flex:"1"})}" data-v-246a0c0b${r}>`),t(x(T,{type:"text",width:"150"},null,a,r)),t(x(T,{type:"text",width:"100"},null,a,r)),t("</div>")})),_:1},a,r)),t(x(q,null,null,a,r)),t("</div>")):t("\x3c!----\x3e"),!l(j)&&!l($)&&l(h).length>0?t(x(Y,{type:"info",class:"ma-4"},{default:c(((e,t,a,r)=>{if(!t)return[o(" You've reached the end of the list ")];t(" You&#39;ve reached the end of the list ")})),_:1},a,r)):t("\x3c!----\x3e"),t("</div>")})),_:1},r,s))})),_:1},s))}}}),re=ae.setup;ae.setup=(e,t)=>{const r=a();return(r.modules||(r.modules=new Set)).add("views/earnings/project/ProjectEarningsPage.vue"),re?re(e,t):void 0};const ne=I(ae,[["__scopeId","data-v-246a0c0b"]]),se=r({__name:"index",__ssrInlineRender:!0,setup(e){const t=j(),a=H(),{project:r,error:c,isLoading:o}=$(a),d=n((()=>t.params.access_uuid)),u=n((()=>r.value?`${r.value.name} - Earnings & Revenue`:"Project Earnings")),m=n((()=>r.value?`View earnings and revenue analytics for ${r.value.name}`:"Project earnings and revenue analytics dashboard")),fetchProjectData=async()=>{d.value&&(await a.fetchProject(d.value),c.value&&console.error("Error fetching project:",c.value))};fetchProjectData();const{seo:p,updateSeo:y}=X({title:o.value?"Loading Project Earnings...":u.value,description:m.value,keywords:"project earnings, revenue analytics, financial data, project finance",type:"website",noIndex:!0});return s([r,o],(([e,t])=>{y({title:t?"Loading Project Earnings...":u.value,description:m.value})}),{immediate:!0}),(e,t,a,n)=>{t(x(ne,i({project:l(r),"access-uuid":d.value,"is-project-loading":l(o),onRefreshProject:fetchProjectData},n),null,a))}}}),ie=se.setup;se.setup=(e,t)=>{const r=a();return(r.modules||(r.modules=new Set)).add("pages/project/[access_uuid]/earnings/index.vue"),ie?ie(e,t):void 0};export{se as default};

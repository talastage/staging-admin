import{a as e}from"./TipDialog-DeBBt-gS.mjs";import{_ as t}from"./BaseHeader-CiSkdPXW.mjs";import{u as r,_ as a}from"./ProjectCreditGrid-ClNP8uGo.mjs";import{useSSRContext as o,defineComponent as s,computed as i,ref as l,watch as n,mergeProps as m,withCtx as u,createVNode as c,unref as p,createTextVNode as d,toDisplayString as v}from"vue";import{ssrRenderAttrs as g,ssrRenderComponent as j,ssrInterpolate as h}from"vue/server-renderer";import{useRoute as f}from"vue-router";import{u as w}from"./useProjectStore-ICfMYGpe.mjs";import{_,a$ as C,u as b}from"./server.mjs";import{u as D}from"./useInfiniteScroll-CumoSAIu.mjs";import{V as y}from"./VContainer-By3q0af_.mjs";import{V}from"./VAlert-DneVUU3Q.mjs";import{u as T}from"./useApps-hYo13Xt3.mjs";import{u as x}from"./useSeo-Dl9beXFt.mjs";import"./BaseDialog-DsGYlnLZ.mjs";import"./VDialog-DA9BdIfh.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./VImg-B2jcJjnn.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./VCard-CsohsM82.mjs";import"./VAvatar-JL8WKjry.mjs";import"./UserCard-DhDpEloc.mjs";import"./UserAvatar-DFFlBvus.mjs";import"./VListItem-jTLuICGb.mjs";import"./MediaThumbnail-jyEgcC54.mjs";import"hls.js";import"./useDateFormatter-W2Hui1rv.mjs";import"./VChip-f_o2BAA4.mjs";import"./index--K8ZrFMm.mjs";import"./VDivider-BmyMVZMt.mjs";import"./BaseTitle-CB_md7-d.mjs";import"./VRow-rkX0LEXR.mjs";import"./VCol-CKxprC4g.mjs";import"./VTextField-rd-VvEF8.mjs";import"./VCounter-BZE6l8kb.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";import"./BaseButton-BTGPFNw4.mjs";import"./useSnackMessage-PVLwAm7x.mjs";import"./useCurrencies-Dkc4Yzgg.mjs";import"./useCurrencyFormatter-Dfs2ioxk.mjs";import"./EmptyStateCard-3UqWseqH.mjs";import"./nuxt-link-CU98Qcmd.mjs";import"./TipButton-DzVv7844.mjs";import"./VSkeletonLoader-CXOx9RZQ.mjs";import"./VList-CcwwrkQR.mjs";import"./ssrBoot-BtvJZs44.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";const B=s({__name:"ProjectCastAndCrewPage",__ssrInlineRender:!0,setup(o){const s=f(),_=w(),T=r(),{isLoading:x,error:B}=C(_),S=i((()=>s.params.access_uuid));l(!1),i((()=>(void 0).location.href));const $=l(!1),k=l(!1),E=l(!0),I=l(1),P=l("grid"),A=i((()=>{const e=_.currentProject;return e?{...e,created_at:new Date(e.created_at).toLocaleString()}:null}));i((()=>T.categoryGroups)),i((()=>T.totalMembers));const handleTipComplete=e=>{console.log("Tip completed for user:",e.user.display_name)};return D((async e=>{if(k.value)return[];try{k.value=!0;const{data:t}=await b().$axios.get(`/guest/projects/${S.value}/credits`,{params:{page:e,per_page:10}});return E.value=t.meta.current_page<t.meta.last_page,I.value=t.meta.current_page,1===e?T.categoryGroups=t.data:T.mergeNewGroups(t.data),t.data.flatMap((e=>e.credits))}catch(e){return console.error("Error fetching credits:",e),[]}finally{k.value=!1}}),{threshold:200,throttle:300,initialLoadDelay:0}),n(S,(async e=>{e&&!A.value&&await _.fetchProject(e)})),(r,o,s,i)=>{const l=e,n=t,f=a;o(`<div${g(m({class:"project-credits-page"},i))} data-v-716fa9b7>`),A.value?o(j(y,{class:"px-0"},{default:u(((e,t,r,a)=>{if(!t)return[c(l,{project:A.value},null,8,["project"]),c(n,{title:"Cast and Crew",subtitle:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production."}),c(f,{"is-loading":$.value,"is-loading-more":k.value,"has-more":E.value,"show-tip-button":!0,"view-mode":P.value,onTipComplete:handleTipComplete},null,8,["is-loading","is-loading-more","has-more","view-mode"])];t(j(l,{project:A.value},null,r,a)),t(j(n,{title:"Cast and Crew",subtitle:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production."},null,r,a)),t(j(f,{"is-loading":$.value,"is-loading-more":k.value,"has-more":E.value,"show-tip-button":!0,"view-mode":P.value,onTipComplete:handleTipComplete},null,r,a))})),_:1},s)):p(B)?o(j(V,{type:"error",class:"ma-4"},{default:u(((e,t,r,a)=>{if(!t)return[d(v(p(B)),1)];t(`${h(p(B))}`)})),_:1},s)):o("\x3c!----\x3e"),o("</div>")}}}),S=B.setup;B.setup=(e,t)=>{const r=o();return(r.modules||(r.modules=new Set)).add("views/projects/ProjectCastAndCrewPage.vue"),S?S(e,t):void 0};const $=_(B,[["__scopeId","data-v-716fa9b7"]]),k=s({__name:"cast-crew",__ssrInlineRender:!0,setup(e){const t=T(),r=i((()=>t.talastageApp));return x({title:i((()=>{var e;return`Cast & Crew - ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`})),description:i((()=>"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.")),keywords:i((()=>{var e;return`cast, crew, actors, directors, production team, behind the scenes, filmmakers, talent, ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`})),image:i((()=>{var e;return(null==(e=r.value)?void 0:e.logo_url)||"/default-social-image.png"})),type:"website",siteName:i((()=>{var e;return(null==(e=r.value)?void 0:e.name)||"TalaStage"})),url:i((()=>{var e;return`${(null==(e=r.value)?void 0:e.canonical_url)||"https://talastage.com"}/project/cast-crew`})),canonical:i((()=>{var e;return`${(null==(e=r.value)?void 0:e.canonical_url)||"https://talastage.com"}/project/cast-crew`})),noIndex:!1,openGraph:i((()=>{var e,t,a,o;return{title:`Cast & Crew - ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",url:`${(null==(t=r.value)?void 0:t.canonical_url)||"https://talastage.com"}/project/cast-crew`,image:(null==(a=r.value)?void 0:a.logo_url)||"/default-social-image.png",type:"website",siteName:(null==(o=r.value)?void 0:o.name)||"TalaStage"}})),twitter:i((()=>{var e,t;return{card:"summary_large_image",title:`Cast & Crew - ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",image:(null==(t=r.value)?void 0:t.logo_url)||"/default-social-image.png"}})),link:i((()=>{var e,t;return[{rel:"icon",type:"image/png",href:(null==(e=r.value)?void 0:e.favicon_url)||"/favicon.png"},{rel:"canonical",href:`${(null==(t=r.value)?void 0:t.canonical_url)||"https://talastage.com"}/project/cast-crew`}]})),structuredDataFactory:()=>{var e,t,a,o,s;return{"@context":"https://schema.org","@type":"CreativeWork",name:`Cast & Crew - ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",url:`${(null==(t=r.value)?void 0:t.canonical_url)||"https://talastage.com"}/project/cast-crew`,image:(null==(a=r.value)?void 0:a.logo_url)||"/default-social-image.png",provider:{"@type":"Organization",name:(null==(o=r.value)?void 0:o.name)||"TalaStage",url:(null==(s=r.value)?void 0:s.canonical_url)||"https://talastage.com"}}}}),(e,t,r,a)=>{const o=$;t(`<div${g(a)} data-v-4c1c4f38>`),t(j(o,null,null,r)),t("</div>")}}}),E=k.setup;k.setup=(e,t)=>{const r=o();return(r.modules||(r.modules=new Set)).add("pages/project/[access_uuid]/cast-crew.vue"),E?E(e,t):void 0};const I=_(k,[["__scopeId","data-v-4c1c4f38"]]);export{I as default};

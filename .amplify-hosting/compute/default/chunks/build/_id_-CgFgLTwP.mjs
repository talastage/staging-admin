import{_ as e}from"./BaseContent-D2jufG_L.mjs";import{_ as a}from"./UserTalentCard-DkmnZIe8.mjs";import{_ as l}from"./FanButton-B8LLympe.mjs";import{_ as t}from"./ConfirmDeleteDialog-Bb7O4z7X.mjs";import{useSSRContext as n,defineComponent as o,computed as i,ref as r,mergeProps as s,withCtx as u,createTextVNode as d,createVNode as c,openBlock as m,createBlock as v,createCommentVNode as p,Fragment as f,renderList as g,withKeys as _}from"vue";import{ssrRenderAttrs as b,ssrRenderComponent as C,ssrRenderList as y}from"vue/server-renderer";import{useRoute as h}from"vue-router";import{u as V}from"./useTalentCollectionStore-DtD71FA1.mjs";import{b as k,V as x,aA as $,_ as j}from"./server.mjs";import{V as w}from"./VRow-rkX0LEXR.mjs";import{V as T}from"./VCol-CKxprC4g.mjs";import{V as D}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{V as S}from"./VSheet-CDtLFCXf.mjs";import{V as U}from"./VDialog-DA9BdIfh.mjs";import{V as F,b as B,a as R,c as z}from"./VCard-CsohsM82.mjs";import{V as K}from"./VTextField-rd-VvEF8.mjs";import{V as I}from"./VSpacer-_gFExeVk.mjs";import{u as L}from"./useApps-hYo13Xt3.mjs";import{u as X}from"./useSeo-Dl9beXFt.mjs";import"./VDivider-BmyMVZMt.mjs";import"./nuxt-link-CU98Qcmd.mjs";import"./VImg-B2jcJjnn.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./VAvatar-JL8WKjry.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./forwardRefs-BSTjJZPU.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./VCounter-BZE6l8kb.mjs";import"./index--K8ZrFMm.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";const Z=o({__name:"TalentCollectionDetailPage",__ssrInlineRender:!0,setup(n){h();const o=V(),j=r(null),L=r([]),X=r(!0),Z=r(!1),A=r(!1),M=r(!1),O=r(!1),E=r(""),J=r(""),Y=i((()=>{var e;return`Are you sure you want to delete "${null==(e=j.value)?void 0:e.name}"? This action cannot be undone.`})),updateCollection=async()=>{if(E.value.trim()){Z.value=!0,J.value="";try{await o.updateCollection(j.value.id,{name:E.value.trim()}),j.value.name=E.value.trim(),M.value=!1}catch(e){J.value=e.message||"Failed to update collection"}finally{Z.value=!1}}},deleteCollection=async()=>{var e;if((null==(e=j.value)?void 0:e.id)&&!A.value){A.value=!0;try{await o.deleteCollection(j.value.id)&&(O.value=!1,setTimeout((()=>{$("/talents/collections",{replace:!0,force:!0})}),300))}catch(e){console.error("Failed to delete collection:",e)}finally{A.value=!1}}},handleFanningUpdate=(e,a)=>{const l=L.value.find((a=>a.id===e));l&&(l.is_fanned_by_auth_user=a)};return(n,o,i,r)=>{var h;const V=e,$=a,P=l,G=t;o(`<div${b(s({class:"collection-page"},r))} data-v-c9bb395c>`),o(C(V,{title:(null==(h=j.value)?void 0:h.name)||"Loading...",subtitle:j.value?"Manage your saved talents":""},{action:u(((e,a,l,t)=>{if(!a)return[c("div",{class:"d-flex gap-2 flex-wrap"},[c(k,{variant:"text",to:"/talents/collections",class:"back-button","prepend-icon":"mdi-arrow-left"},{default:u((()=>[d(" Back to Collections ")])),_:1}),j.value?(m(),v(k,{key:0,"prepend-icon":"mdi-pencil",variant:"tonal",onClick:e=>M.value=!0},{default:u((()=>[d(" Rename ")])),_:1},8,["onClick"])):p("",!0),j.value?(m(),v(k,{key:1,color:"error",variant:"tonal","prepend-icon":"mdi-delete",onClick:e=>O.value=!0},{default:u((()=>[d(" Delete ")])),_:1},8,["onClick"])):p("",!0)])];a(`<div class="d-flex gap-2 flex-wrap" data-v-c9bb395c${t}>`),a(C(k,{variant:"text",to:"/talents/collections",class:"back-button","prepend-icon":"mdi-arrow-left"},{default:u(((e,a,l,t)=>{if(!a)return[d(" Back to Collections ")];a(" Back to Collections ")})),_:1},l,t)),j.value?a(C(k,{"prepend-icon":"mdi-pencil",variant:"tonal",onClick:e=>M.value=!0},{default:u(((e,a,l,t)=>{if(!a)return[d(" Rename ")];a(" Rename ")})),_:1},l,t)):a("\x3c!----\x3e"),j.value?a(C(k,{color:"error",variant:"tonal","prepend-icon":"mdi-delete",onClick:e=>O.value=!0},{default:u(((e,a,l,t)=>{if(!a)return[d(" Delete ")];a(" Delete ")})),_:1},l,t)):a("\x3c!----\x3e"),a("</div>")})),content:u(((e,a,l,t)=>{if(!a)return[c("div",{class:"page-content"},[X.value?(m(),v("div",{key:0,class:"loading-state"},[c(w,null,{default:u((()=>[(m(),v(f,null,g(4,(e=>c(T,{key:e,cols:"12",sm:"6",md:"4",lg:"3",class:"mb-6"},{default:u((()=>[c(D,{type:"image, card, actions"})])),_:2},1024))),64))])),_:1})])):L.value.length?(m(),v("div",{key:2,class:"talents-grid"},[c(w,null,{default:u((()=>[(m(!0),v(f,null,g(L.value,(e=>(m(),v(T,{key:e.id,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-column"},{default:u((()=>[c($,{user:e,size:"medium",class:"talent-card",elevation:"0"},{action:u((()=>[c(P,{username:e.username,"initial-fanning-state":e.is_fanned_by_auth_user,onFanningUpdated:a=>handleFanningUpdate(e.id,a)},null,8,["username","initial-fanning-state","onFanningUpdated"])])),_:2},1032,["user"])])),_:2},1024)))),128))])),_:1})])):(m(),v("div",{key:1,class:"empty-state"},[c(S,{class:"pa-16 rounded-lg",color:"surface-variant"},{default:u((()=>[c("div",{class:"text-center"},[c(x,{icon:"mdi-account-group-outline",size:"64",class:"mb-6",color:"medium-emphasis"}),c("h2",{class:"text-h5 mb-4"},"Start Your Collection"),c("p",{class:"text-body-1 text-medium-emphasis mb-8"}," Discover and add talented individuals to your collection "),c(k,{color:"primary",size:"large","prepend-icon":"mdi-plus",to:"/talents"},{default:u((()=>[d(" Browse Talents ")])),_:1})])])),_:1})]))])];a(`<div class="page-content" data-v-c9bb395c${t}>`),X.value?(a(`<div class="loading-state" data-v-c9bb395c${t}>`),a(C(w,null,{default:u(((e,a,l,t)=>{if(!a)return[(m(),v(f,null,g(4,(e=>c(T,{key:e,cols:"12",sm:"6",md:"4",lg:"3",class:"mb-6"},{default:u((()=>[c(D,{type:"image, card, actions"})])),_:2},1024))),64))];a("\x3c!--[--\x3e"),y(4,(e=>{a(C(T,{key:e,cols:"12",sm:"6",md:"4",lg:"3",class:"mb-6"},{default:u(((e,a,l,t)=>{if(!a)return[c(D,{type:"image, card, actions"})];a(C(D,{type:"image, card, actions"},null,l,t))})),_:2},l,t))})),a("\x3c!--]--\x3e")})),_:1},l,t)),a("</div>")):L.value.length?(a(`<div class="talents-grid" data-v-c9bb395c${t}>`),a(C(w,null,{default:u(((e,a,l,t)=>{if(!a)return[(m(!0),v(f,null,g(L.value,(e=>(m(),v(T,{key:e.id,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-column"},{default:u((()=>[c($,{user:e,size:"medium",class:"talent-card",elevation:"0"},{action:u((()=>[c(P,{username:e.username,"initial-fanning-state":e.is_fanned_by_auth_user,onFanningUpdated:a=>handleFanningUpdate(e.id,a)},null,8,["username","initial-fanning-state","onFanningUpdated"])])),_:2},1032,["user"])])),_:2},1024)))),128))];a("\x3c!--[--\x3e"),y(L.value,(e=>{a(C(T,{key:e.id,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-column"},{default:u(((a,l,t,n)=>{if(!l)return[c($,{user:e,size:"medium",class:"talent-card",elevation:"0"},{action:u((()=>[c(P,{username:e.username,"initial-fanning-state":e.is_fanned_by_auth_user,onFanningUpdated:a=>handleFanningUpdate(e.id,a)},null,8,["username","initial-fanning-state","onFanningUpdated"])])),_:2},1032,["user"])];l(C($,{user:e,size:"medium",class:"talent-card",elevation:"0"},{action:u(((a,l,t,n)=>{if(!l)return[c(P,{username:e.username,"initial-fanning-state":e.is_fanned_by_auth_user,onFanningUpdated:a=>handleFanningUpdate(e.id,a)},null,8,["username","initial-fanning-state","onFanningUpdated"])];l(C(P,{username:e.username,"initial-fanning-state":e.is_fanned_by_auth_user,onFanningUpdated:a=>handleFanningUpdate(e.id,a)},null,t,n))})),_:2},t,n))})),_:2},l,t))})),a("\x3c!--]--\x3e")})),_:1},l,t)),a("</div>")):(a(`<div class="empty-state" data-v-c9bb395c${t}>`),a(C(S,{class:"pa-16 rounded-lg",color:"surface-variant"},{default:u(((e,a,l,t)=>{if(!a)return[c("div",{class:"text-center"},[c(x,{icon:"mdi-account-group-outline",size:"64",class:"mb-6",color:"medium-emphasis"}),c("h2",{class:"text-h5 mb-4"},"Start Your Collection"),c("p",{class:"text-body-1 text-medium-emphasis mb-8"}," Discover and add talented individuals to your collection "),c(k,{color:"primary",size:"large","prepend-icon":"mdi-plus",to:"/talents"},{default:u((()=>[d(" Browse Talents ")])),_:1})])];a(`<div class="text-center" data-v-c9bb395c${t}>`),a(C(x,{icon:"mdi-account-group-outline",size:"64",class:"mb-6",color:"medium-emphasis"},null,l,t)),a(`<h2 class="text-h5 mb-4" data-v-c9bb395c${t}>Start Your Collection</h2><p class="text-body-1 text-medium-emphasis mb-8" data-v-c9bb395c${t}> Discover and add talented individuals to your collection </p>`),a(C(k,{color:"primary",size:"large","prepend-icon":"mdi-plus",to:"/talents"},{default:u(((e,a,l,t)=>{if(!a)return[d(" Browse Talents ")];a(" Browse Talents ")})),_:1},l,t)),a("</div>")})),_:1},l,t)),a("</div>")),a("</div>")})),_:1},i)),o(C(U,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,"max-width":"480"},{default:u(((e,a,l,t)=>{if(!a)return[c(F,{class:"dialog-card"},{default:u((()=>[c(B,{class:"dialog-title pa-6"},{default:u((()=>[d(" Rename Collection ")])),_:1}),c(R,{class:"dialog-content pa-6 pt-0"},{default:u((()=>[c(K,{modelValue:E.value,"onUpdate:modelValue":e=>E.value=e,label:"Collection name",variant:"outlined","error-messages":J.value,autofocus:"",onKeyup:_(updateCollection,["enter"])},null,8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1}),c(z,{class:"dialog-actions pa-6 pt-0"},{default:u((()=>{var e;return[c(I),c(k,{variant:"tonal",onClick:e=>M.value=!1},{default:u((()=>[d(" Cancel ")])),_:1},8,["onClick"]),c(k,{color:"primary",loading:Z.value,disabled:!E.value.trim()||E.value===(null==(e=j.value)?void 0:e.name),onClick:updateCollection},{default:u((()=>[d(" Save Changes ")])),_:1},8,["loading","disabled"])]})),_:1})])),_:1})];a(C(F,{class:"dialog-card"},{default:u(((e,a,l,t)=>{if(!a)return[c(B,{class:"dialog-title pa-6"},{default:u((()=>[d(" Rename Collection ")])),_:1}),c(R,{class:"dialog-content pa-6 pt-0"},{default:u((()=>[c(K,{modelValue:E.value,"onUpdate:modelValue":e=>E.value=e,label:"Collection name",variant:"outlined","error-messages":J.value,autofocus:"",onKeyup:_(updateCollection,["enter"])},null,8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1}),c(z,{class:"dialog-actions pa-6 pt-0"},{default:u((()=>{var e;return[c(I),c(k,{variant:"tonal",onClick:e=>M.value=!1},{default:u((()=>[d(" Cancel ")])),_:1},8,["onClick"]),c(k,{color:"primary",loading:Z.value,disabled:!E.value.trim()||E.value===(null==(e=j.value)?void 0:e.name),onClick:updateCollection},{default:u((()=>[d(" Save Changes ")])),_:1},8,["loading","disabled"])]})),_:1})];a(C(B,{class:"dialog-title pa-6"},{default:u(((e,a,l,t)=>{if(!a)return[d(" Rename Collection ")];a(" Rename Collection ")})),_:1},l,t)),a(C(R,{class:"dialog-content pa-6 pt-0"},{default:u(((e,a,l,t)=>{if(!a)return[c(K,{modelValue:E.value,"onUpdate:modelValue":e=>E.value=e,label:"Collection name",variant:"outlined","error-messages":J.value,autofocus:"",onKeyup:_(updateCollection,["enter"])},null,8,["modelValue","onUpdate:modelValue","error-messages"])];a(C(K,{modelValue:E.value,"onUpdate:modelValue":e=>E.value=e,label:"Collection name",variant:"outlined","error-messages":J.value,autofocus:"",onKeyup:updateCollection},null,l,t))})),_:1},l,t)),a(C(z,{class:"dialog-actions pa-6 pt-0"},{default:u(((e,a,l,t)=>{var n,o;if(!a)return[c(I),c(k,{variant:"tonal",onClick:e=>M.value=!1},{default:u((()=>[d(" Cancel ")])),_:1},8,["onClick"]),c(k,{color:"primary",loading:Z.value,disabled:!E.value.trim()||E.value===(null==(o=j.value)?void 0:o.name),onClick:updateCollection},{default:u((()=>[d(" Save Changes ")])),_:1},8,["loading","disabled"])];a(C(I,null,null,l,t)),a(C(k,{variant:"tonal",onClick:e=>M.value=!1},{default:u(((e,a,l,t)=>{if(!a)return[d(" Cancel ")];a(" Cancel ")})),_:1},l,t)),a(C(k,{color:"primary",loading:Z.value,disabled:!E.value.trim()||E.value===(null==(n=j.value)?void 0:n.name),onClick:updateCollection},{default:u(((e,a,l,t)=>{if(!a)return[d(" Save Changes ")];a(" Save Changes ")})),_:1},l,t))})),_:1},l,t))})),_:1},l,t))})),_:1},i)),o("<template data-v-c9bb395c>"),o(C(G,{"model-value":O.value,title:"Delete Collection",message:Y.value,loading:A.value,onConfirm:deleteCollection,onCancel:e=>O.value=!1},null,i)),o("</template></div>")}}}),A=Z.setup;Z.setup=(e,a)=>{const l=n();return(l.modules||(l.modules=new Set)).add("views/talents/TalentCollectionDetailPage.vue"),A?A(e,a):void 0};const M=j(Z,[["__scopeId","data-v-c9bb395c"]]),O=o({__name:"[id]",__ssrInlineRender:!0,setup(e){const a=L(),l=h(),t=i((()=>a.talastageApp)),n=i((()=>l.params.uuid));return X({title:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`Collection Details - ${n.value} - ${a}`:`Talent Collection Details - ${a}`})),description:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`View the detailed information for talent collection ${n.value} on ${a}.`:`View the detailed information for a talent collection on ${a}.`})),keywords:i((()=>{var e;return`talent collection, details, organize talents, view collection, ${(null==(e=t.value)?void 0:e.name)||"TalaStage"}`})),image:i((()=>{var e;return(null==(e=t.value)?void 0:e.logo_url)||"https://talastage.com/social-card.png"})),type:"website",siteName:i((()=>{var e;return(null==(e=t.value)?void 0:e.name)||"TalaStage"})),url:i((()=>{var e,a;return(null==(e=t.value)?void 0:e.canonical_url)&&n.value?`${t.value.canonical_url}/talents/collections/${n.value}`:(null==(a=t.value)?void 0:a.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"})),noIndex:!0,canonical:i((()=>{var e,a;return(null==(e=t.value)?void 0:e.canonical_url)&&n.value?`${t.value.canonical_url}/talents/collections/${n.value}`:(null==(a=t.value)?void 0:a.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"})),openGraph:i((()=>{var e,a;return{title:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`Collection Details - ${n.value} - ${a}`:`Talent Collection Details - ${a}`})).value,description:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`View the detailed information for talent collection ${n.value} on ${a}.`:`View the detailed information for a talent collection on ${a}.`})).value,url:i((()=>{var e,a;return(null==(e=t.value)?void 0:e.canonical_url)&&n.value?`${t.value.canonical_url}/talents/collections/${n.value}`:(null==(a=t.value)?void 0:a.canonical_url)?`${t.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"})).value,image:(null==(e=t.value)?void 0:e.logo_url)||"https://talastage.com/social-card.png",siteName:(null==(a=t.value)?void 0:a.name)||"TalaStage",type:"website"}})),twitter:i((()=>{var e;return{card:"summary_large_image",title:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`Collection Details - ${n.value} - ${a}`:`Talent Collection Details - ${a}`})).value,description:i((()=>{var e;const a=(null==(e=t.value)?void 0:e.name)||"TalaStage";return n.value?`View the detailed information for talent collection ${n.value} on ${a}.`:`View the detailed information for a talent collection on ${a}.`})).value,image:(null==(e=t.value)?void 0:e.logo_url)||"https://talastage.com/social-card.png"}})),link:i((()=>{var e;return[{rel:"icon",href:(null==(e=t.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,a,l,t)=>{const n=M;a(`<div${b(t)}>`),a(C(n,null,null,l)),a("</div>")}}}),E=O.setup;O.setup=(e,a)=>{const l=n();return(l.modules||(l.modules=new Set)).add("pages/talents/collections/[id].vue"),E?E(e,a):void 0};export{O as default};

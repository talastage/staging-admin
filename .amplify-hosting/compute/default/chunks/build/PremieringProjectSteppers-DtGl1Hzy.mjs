import{u as e,_ as a}from"./useWalletStatus-D0U60UmT.mjs";import{useSSRContext as l,defineComponent as i,ref as t,mergeProps as o,unref as s,withCtx as r,createTextVNode as n,toDisplayString as d,createVNode as c,openBlock as p,createBlock as u,createCommentVNode as m,withModifiers as v,computed as f,watch as g,Fragment as U,renderList as h,resolveDynamicComponent as y,KeepAlive as S,nextTick as k}from"vue";import{ssrRenderAttrs as _,ssrRenderSlot as C,ssrRenderComponent as z,ssrInterpolate as x,ssrRenderClass as b,ssrRenderList as V,ssrRenderVNode as $}from"vue/server-renderer";import{useRouter as F,useRoute as D}from"vue-router";import{u as w}from"./usePremieringMediaUpload-Pb41DpBw.mjs";import{A as q}from"./AlertMessage-Do7IDlzi.mjs";import{b as I,V as R,af as T,_ as M}from"./server.mjs";import{u as j}from"./useSnackMessage-PVLwAm7x.mjs";import{V as P,a as N,c as O}from"./VCard-CsohsM82.mjs";import{V as B,a as W}from"./VTabs-t8Cp0Axr.mjs";import{a as H}from"./VChip-f_o2BAA4.mjs";import{V as A,a as E}from"./VWindowItem-DjFGFGcX.mjs";import{V as L}from"./VDivider-BmyMVZMt.mjs";import{_ as Z}from"./PremieringProjectDetail-NBIIUvO8.mjs";import{u as G,a as X}from"./PremieringProjectSettings-CkVWizCB.mjs";import{_ as K}from"./AddProjectInvestors-4WgTDslN.mjs";import{_ as J}from"./AddProjectCredits-BZTs-XFv.mjs";import{V as Q,a as Y,b as ee}from"./VStepper-CbeSoOmZ.mjs";import{V as ae}from"./VSpacer-_gFExeVk.mjs";const le=i({__name:"FileDropZone",__ssrInlineRender:!0,emits:["drop","click"],setup(e,{emit:a}){const l=t(!1);return(e,a,i,t)=>{a(`<div${_(o({class:["file-drop-zone",{dragover:l.value}]},t))} data-v-0524649f>`),C(e.$slots,"default",{isDragOver:l.value},(()=>{a("<p data-v-0524649f>Drag and drop your video here or click to browse</p>")}),a,i),a("</div>")}}}),ie=le.setup;le.setup=(e,a)=>{const i=l();return(i.modules||(i.modules=new Set)).add("components/upload/FileDropZone.vue"),ie?ie(e,a):void 0};const te=M(le,[["__scopeId","data-v-0524649f"]]);const oe=i({__name:"VideoUploader",__ssrInlineRender:!0,props:{requirementsData:{}},emits:["upload-progress","upload-uploaded","upload-error","upload-cancelled"],setup(l,{emit:i}){const f=i,g=w(),U=e(),h=j(),y=F(),S=D(),{validateVideo:C,validationError:V,formatSize:$,formatTimeRemaining:M}=function(){const e=t(null);function getVideoMetadata(e){return new Promise(((a,l)=>{const i=(void 0).createElement("video");i.preload="metadata",i.onloadedmetadata=()=>{const e={duration:i.duration,width:i.videoWidth,height:i.videoHeight};(void 0).URL.revokeObjectURL(i.src),a(e)},i.onerror=()=>{l(new Error("Could not load video metadata"))},i.src=URL.createObjectURL(e)}))}function formatSize(e){if(0===e)return"0 B";const a=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,a)).toFixed(2))} ${["B","KB","MB","GB"][a]}`}function formatDuration(e){return e<60?`${Math.ceil(e)}s`:`${Math.floor(e/60)}m ${Math.ceil(e%60)}s`}function validateFileSize(e,a){return e<=a}function validateFormat(e,a){return a.some((a=>e.toLowerCase()===`video/${a.toLowerCase()}`))}function validateDuration(e,a){return e<=a}function parseResolution(e){const a=(null==e?void 0:e.toLowerCase())||"";if("4k"===a||"2160p"===a)return{maxWidth:4096,maxHeight:2160};if("1440p"===e)return{maxWidth:2560,maxHeight:1440};if("1080p"===e)return{maxWidth:1920,maxHeight:1080};if("720p"===e)return{maxWidth:1280,maxHeight:720};if("480p"===e)return{maxWidth:854,maxHeight:480};if("360p"===e)return{maxWidth:640,maxHeight:360};if("240p"===e)return{maxWidth:426,maxHeight:240};const l=e.match(/(\d+)p?/);if(l){const e=parseInt(l[1],10);return{maxWidth:Math.round(16*e/9),maxHeight:e}}return{maxWidth:0,maxHeight:0}}function validateResolution(e,a,l){const{maxWidth:i,maxHeight:t}=parseResolution(l);return e<=i&&a<=t}return{validateVideo:async function(a,l){if(e.value=null,l.maxFileSize&&!validateFileSize(a.size,l.maxFileSize))return e.value=`File size exceeds the maximum allowed (${formatSize(l.maxFileSize)}).`,{isValid:!1,error:e.value};if(l.allowedFormats&&l.allowedFormats.length>0&&!validateFormat(a.type,l.allowedFormats))return e.value=`Invalid file format. Only ${l.allowedFormats.join(", ")} videos are allowed.`,{isValid:!1,error:e.value};if(void 0!==l.maxDuration||void 0!==l.maxResolution)try{const i=await getVideoMetadata(a);if(void 0!==l.maxDuration&&!validateDuration(i.duration,l.maxDuration))return e.value=`Video duration exceeds the maximum allowed (${formatDuration(l.maxDuration)}).`,{isValid:!1,error:e.value};if(l.maxResolution&&!validateResolution(i.width,i.height,l.maxResolution))return e.value=`Video resolution (${i.width}x${i.height}) exceeds the maximum allowed (${l.maxResolution}).`,{isValid:!1,error:e.value}}catch(a){return e.value="Could not validate video metadata. Please try another file.",{isValid:!1,error:e.value}}return{isValid:!0,error:null}},validateFileSize:validateFileSize,validateFormat:validateFormat,validateDuration:validateDuration,validateResolution:validateResolution,parseResolution:parseResolution,validationError:e,getVideoDuration:function(e){return getVideoMetadata(e).then((e=>e.duration))},getVideoMetadata:getVideoMetadata,formatSize:formatSize,formatDuration:formatDuration,formatTimeRemaining:function(e){return e<60?`${Math.ceil(e)}s remaining`:`${Math.floor(e/60)}m ${Math.ceil(e%60)}s remaining`}}}(),O=t("main"),Z=t(null),G=t(null);function triggerFileInput(e){const a="main"===e?Z.value:G.value;null==a||a.click()}function onFileChange(e,a){var l,i;const t=null==(i=null==(l=e.target)?void 0:l.files)?void 0:i[0];t&&(clearValidationError(),handleFileSelected(t,a)),e.target.value=""}async function handleFileSelected(e,a){const l=await async function(e,a){var l,i,t,o,s;const r=(null==(l=U.requirements)?void 0:l.max_file_size)?1024*U.requirements.max_file_size*1024:void 0,n="main"===a?null==(i=U.requirements)?void 0:i.main_duration_limit:null==(t=U.requirements)?void 0:t.trailer_duration_limit,d=(null==(o=U.requirements)?void 0:o.encoding_format)?[U.requirements.encoding_format]:["MP4"],c=null==(s=U.requirements)?void 0:s.resolution_limit,{isValid:p,error:u}=await C(e,{maxFileSize:r,maxDuration:n,allowedFormats:d,maxResolution:c});return!p&&u&&h.error(u),p}(e,a);if(l){if("main"===a&&!g.project)try{await g.createProject({name:e.name,premiering_category_slug:S.params.premiering_category_slug,file_type:a})}catch(e){return void h.error(g.error||"Project creation error")}if("trailer"===a&&!g.project)return g.error="Please upload a main video first.",void h.error(g.error);f("upload-progress",a,0);try{await g.uploadFile(e,a),f("upload-uploaded",a)}catch(e){f("upload-error",a,e),h.error(g.error||"Upload error")}}}async function cancelUpload(e){g.cancelUpload(e),f("upload-cancelled",e),clearValidationError(),"main"===e&&Z.value?Z.value.value="":"trailer"===e&&G.value&&(G.value.value="");const a="main"===e?g.mainUpload:g.trailerUpload;a.isUploading=!1,a.processingStatus="pending",a.progress=0,a.fileName=null,a.fileSize=0,a.uploadedSize=0,a.error=null,await k()}function goToDepositPage(){y.push("/wallet/deposit")}function getStatusColor(e){switch(null==e?void 0:e.toLowerCase()){case"completed":return"success";case"processing":return"info";case"failed":return"error";case"cancelled":return"warning";default:return"primary"}}function clearValidationError(){V.value=null}return(e,l,i,t)=>{const f=a;l(`<div${_(o({class:"video-uploader-container"},t))} data-v-226979a3>`),s(g).error||s(V)?l(z(q,{message:s(V)||s(g).error,type:"error",visible:!0},null,i)):l("\x3c!----\x3e"),s(g).insufficientFunds?l(z(I,{color:"primary",class:"mb-4",onClick:goToDepositPage},{default:r(((e,a,l,i)=>{if(!a)return[n(" Top Up ")];a(" Top Up ")})),_:1},i)):l("\x3c!----\x3e"),l(z(P,{elevation:"10"},{default:r(((a,l,i,t)=>{if(!l)return[c(B,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,grow:"",class:"upload-tabs"},{default:r((()=>[c(W,{value:"main"},{default:r((()=>[c("div",{class:"tab-content"},[c("span",null,"Main Video"),s(g).mainUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).mainUpload.progress))+"% ",1)])),_:1})):m("",!0)])])),_:1}),c(W,{value:"trailer",disabled:!s(g).canUploadTrailer},{default:r((()=>[c("div",{class:"tab-content"},[c("span",null,"Trailer"),s(g).trailerUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).trailerUpload.progress))+"% ",1)])),_:1})):m("",!0)])])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"]),c(N,null,{default:r((()=>[c(A,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e},{default:r((()=>[c(E,{value:"main"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).mainUpload.processingStatus||s(g).mainUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).mainUpload.processingStatus&&"failed"!==s(g).mainUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("main"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).mainUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).mainUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).mainUpload.processingStatus?100:s(g).mainUpload.progress,color:"completed"===s(g).mainUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).mainUpload.uploadedSize))+" / "+d(s($)(s(g).mainUpload.fileSize)),1),s(g).mainUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).mainUpload.speed))+"/s ",1)):m("",!0),s(g).mainUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).mainUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).mainUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).mainUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"main"),onClick:()=>triggerFileInput("main")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"mainFileInput",ref:Z,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"main")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Main Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("main")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.main)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.main,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1}),c(E,{value:"trailer"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).trailerUpload.processingStatus||s(g).trailerUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).trailerUpload.processingStatus&&"failed"!==s(g).trailerUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("trailer"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).trailerUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).trailerUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).trailerUpload.processingStatus?100:s(g).trailerUpload.progress,color:"completed"===s(g).trailerUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).trailerUpload.uploadedSize))+" / "+d(s($)(s(g).trailerUpload.fileSize)),1),s(g).trailerUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).trailerUpload.speed))+"/s ",1)):m("",!0),s(g).trailerUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).trailerUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).trailerUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).trailerUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"trailer"),onClick:()=>triggerFileInput("trailer")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"trailerFileInput",ref:G,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"trailer")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Trailer Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("trailer")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.trailer)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.trailer,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})];l(z(B,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,grow:"",class:"upload-tabs"},{default:r(((e,a,l,i)=>{if(!a)return[c(W,{value:"main"},{default:r((()=>[c("div",{class:"tab-content"},[c("span",null,"Main Video"),s(g).mainUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).mainUpload.progress))+"% ",1)])),_:1})):m("",!0)])])),_:1}),c(W,{value:"trailer",disabled:!s(g).canUploadTrailer},{default:r((()=>[c("div",{class:"tab-content"},[c("span",null,"Trailer"),s(g).trailerUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).trailerUpload.progress))+"% ",1)])),_:1})):m("",!0)])])),_:1},8,["disabled"])];a(z(W,{value:"main"},{default:r(((e,a,l,i)=>{if(!a)return[c("div",{class:"tab-content"},[c("span",null,"Main Video"),s(g).mainUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).mainUpload.progress))+"% ",1)])),_:1})):m("",!0)])];a(`<div class="tab-content" data-v-226979a3${i}><span data-v-226979a3${i}>Main Video</span>`),s(g).mainUpload.isUploading?a(z(H,{size:"small",color:"primary",class:"ml-2"},{default:r(((e,a,l,i)=>{if(!a)return[n(d(Math.ceil(s(g).mainUpload.progress))+"% ",1)];a(`${x(Math.ceil(s(g).mainUpload.progress))}% `)})),_:1},l,i)):a("\x3c!----\x3e"),a("</div>")})),_:1},l,i)),a(z(W,{value:"trailer",disabled:!s(g).canUploadTrailer},{default:r(((e,a,l,i)=>{if(!a)return[c("div",{class:"tab-content"},[c("span",null,"Trailer"),s(g).trailerUpload.isUploading?(p(),u(H,{key:0,size:"small",color:"primary",class:"ml-2"},{default:r((()=>[n(d(Math.ceil(s(g).trailerUpload.progress))+"% ",1)])),_:1})):m("",!0)])];a(`<div class="tab-content" data-v-226979a3${i}><span data-v-226979a3${i}>Trailer</span>`),s(g).trailerUpload.isUploading?a(z(H,{size:"small",color:"primary",class:"ml-2"},{default:r(((e,a,l,i)=>{if(!a)return[n(d(Math.ceil(s(g).trailerUpload.progress))+"% ",1)];a(`${x(Math.ceil(s(g).trailerUpload.progress))}% `)})),_:1},l,i)):a("\x3c!----\x3e"),a("</div>")})),_:1},l,i))})),_:1},i,t)),l(z(N,null,{default:r(((a,l,i,t)=>{if(!l)return[c(A,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e},{default:r((()=>[c(E,{value:"main"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).mainUpload.processingStatus||s(g).mainUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).mainUpload.processingStatus&&"failed"!==s(g).mainUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("main"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).mainUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).mainUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).mainUpload.processingStatus?100:s(g).mainUpload.progress,color:"completed"===s(g).mainUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).mainUpload.uploadedSize))+" / "+d(s($)(s(g).mainUpload.fileSize)),1),s(g).mainUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).mainUpload.speed))+"/s ",1)):m("",!0),s(g).mainUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).mainUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).mainUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).mainUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"main"),onClick:()=>triggerFileInput("main")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"mainFileInput",ref:Z,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"main")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Main Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("main")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.main)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.main,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1}),c(E,{value:"trailer"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).trailerUpload.processingStatus||s(g).trailerUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).trailerUpload.processingStatus&&"failed"!==s(g).trailerUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("trailer"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).trailerUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).trailerUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).trailerUpload.processingStatus?100:s(g).trailerUpload.progress,color:"completed"===s(g).trailerUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).trailerUpload.uploadedSize))+" / "+d(s($)(s(g).trailerUpload.fileSize)),1),s(g).trailerUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).trailerUpload.speed))+"/s ",1)):m("",!0),s(g).trailerUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).trailerUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).trailerUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).trailerUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"trailer"),onClick:()=>triggerFileInput("trailer")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"trailerFileInput",ref:G,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"trailer")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Trailer Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("trailer")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.trailer)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.trailer,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])];l(z(A,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e},{default:r(((a,l,i,t)=>{if(!l)return[c(E,{value:"main"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).mainUpload.processingStatus||s(g).mainUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).mainUpload.processingStatus&&"failed"!==s(g).mainUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("main"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).mainUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).mainUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).mainUpload.processingStatus?100:s(g).mainUpload.progress,color:"completed"===s(g).mainUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).mainUpload.uploadedSize))+" / "+d(s($)(s(g).mainUpload.fileSize)),1),s(g).mainUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).mainUpload.speed))+"/s ",1)):m("",!0),s(g).mainUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).mainUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).mainUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).mainUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"main"),onClick:()=>triggerFileInput("main")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"mainFileInput",ref:Z,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"main")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Main Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("main")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.main)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.main,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1}),c(E,{value:"trailer"},{default:r((()=>{var a;return[c("div",{class:"upload-panel"},["pending"!==s(g).trailerUpload.processingStatus||s(g).trailerUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).trailerUpload.processingStatus&&"failed"!==s(g).trailerUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("trailer"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).trailerUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).trailerUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).trailerUpload.processingStatus?100:s(g).trailerUpload.progress,color:"completed"===s(g).trailerUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).trailerUpload.uploadedSize))+" / "+d(s($)(s(g).trailerUpload.fileSize)),1),s(g).trailerUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).trailerUpload.speed))+"/s ",1)):m("",!0),s(g).trailerUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).trailerUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).trailerUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).trailerUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"trailer"),onClick:()=>triggerFileInput("trailer")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"trailerFileInput",ref:G,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"trailer")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Trailer Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("trailer")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(a=e.requirementsData)?void 0:a.trailer)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.trailer,{class:"mt-2"}),null,16)])):m("",!0)]))])]})),_:1})];l(z(E,{value:"main"},{default:r(((a,l,i,t)=>{var U,h;if(!l)return[c("div",{class:"upload-panel"},["pending"!==s(g).mainUpload.processingStatus||s(g).mainUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).mainUpload.processingStatus&&"failed"!==s(g).mainUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("main"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).mainUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).mainUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).mainUpload.processingStatus?100:s(g).mainUpload.progress,color:"completed"===s(g).mainUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).mainUpload.uploadedSize))+" / "+d(s($)(s(g).mainUpload.fileSize)),1),s(g).mainUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).mainUpload.speed))+"/s ",1)):m("",!0),s(g).mainUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).mainUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).mainUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).mainUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"main"),onClick:()=>triggerFileInput("main")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"mainFileInput",ref:Z,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"main")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Main Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("main")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(h=e.requirementsData)?void 0:h.main)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.main,{class:"mt-2"}),null,16)])):m("",!0)]))])];l(`<div class="upload-panel" data-v-226979a3${t}>`),"pending"!==s(g).mainUpload.processingStatus||s(g).mainUpload.isUploading?(l(`<div class="upload-progress-state" data-v-226979a3${t}>`),"completed"!==s(g).mainUpload.processingStatus&&"failed"!==s(g).mainUpload.processingStatus?l(z(I,{variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("main"),class:"cancel-btn"},{default:r(((e,a,l,i)=>{if(!a)return[n(" Cancel ")];a(" Cancel ")})),_:1},i,t)):l("\x3c!----\x3e"),l(`<div class="progress-content" data-v-226979a3${t}><div class="compact-file-info" data-v-226979a3${t}><div class="file-header" data-v-226979a3${t}>`),l(z(R,{size:"small",icon:"mdi-video",class:"mr-2"},null,i,t)),l(`<span class="file-name text-truncate" data-v-226979a3${t}>${x(s(g).mainUpload.fileName)}</span></div><div class="file-meta" data-v-226979a3${t}>${x(s($)(s(g).mainUpload.fileSize))}</div></div><div class="progress-section" data-v-226979a3${t}>`),l(z(T,{"model-value":"completed"===s(g).mainUpload.processingStatus?100:s(g).mainUpload.progress,color:"completed"===s(g).mainUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,i,t)),l(`<div class="progress-stats pa-2" data-v-226979a3${t}><div class="upload-details" data-v-226979a3${t}><span data-v-226979a3${t}>${x(s($)(s(g).mainUpload.uploadedSize))} / ${x(s($)(s(g).mainUpload.fileSize))}</span>`),s(g).mainUpload.speed?l(`<span data-v-226979a3${t}>${x(s($)(s(g).mainUpload.speed))}/s </span>`):l("\x3c!----\x3e"),s(g).mainUpload.estimatedTimeRemaining?l(`<span data-v-226979a3${t}>${x(s(M)(s(g).mainUpload.estimatedTimeRemaining))}</span>`):l("\x3c!----\x3e"),l(`</div><div class="status-section" data-v-226979a3${t}>`),l(z(H,{color:getStatusColor(s(g).mainUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r(((e,a,l,i)=>{if(!a)return[n(d(s(g).mainUpload.processingStatus),1)];a(`${x(s(g).mainUpload.processingStatus)}`)})),_:1},i,t)),l("</div></div></div></div></div>")):(l(`<div class="upload-initial-state" data-v-226979a3${t}>`),l(z(te,{onDrop:e=>handleFileSelected(e,"main"),onClick:()=>triggerFileInput("main")},{default:r((({isDragOver:e},a,l,i)=>{if(!a)return[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"mainFileInput",ref:Z,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"main")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Main Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("main")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)];a(`<div class="${b([{"upload-zone--dragover":e},"upload-zone"])}" data-v-226979a3${i}><input type="file" accept="video/mp4" class="hidden-input" data-v-226979a3${i}><div class="upload-content" data-v-226979a3${i}>`),a(z(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"},null,l,i)),a(`<h3 class="upload-title" data-v-226979a3${i}>Upload Main Video</h3><p class="upload-description" data-v-226979a3${i}> Drag and drop your video here or click to browse </p>`),a(z(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:()=>triggerFileInput("main")},{default:r(((e,a,l,i)=>{if(!a)return[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")];a(z(R,{left:""},{default:r(((e,a,l,i)=>{if(!a)return[n("mdi-plus")];a("mdi-plus")})),_:2},l,i)),a(" Select Video ")})),_:2},l,i)),a("</div></div>")})),_:1},i,t)),(null==(U=e.requirementsData)?void 0:U.main)?(l(`<div class="requirements-section" data-v-226979a3${t}>`),l(z(L,{class:"my-4"},null,i,t)),l(`<h4 class="requirements-title" data-v-226979a3${t}>Upload Requirements</h4>`),l(z(f,o(e.requirementsData.main,{class:"mt-2"}),null,i,t)),l("</div>")):l("\x3c!----\x3e"),l("</div>")),l("</div>")})),_:1},i,t)),l(z(E,{value:"trailer"},{default:r(((a,l,i,t)=>{var U,h;if(!l)return[c("div",{class:"upload-panel"},["pending"!==s(g).trailerUpload.processingStatus||s(g).trailerUpload.isUploading?(p(),u("div",{key:1,class:"upload-progress-state"},["completed"!==s(g).trailerUpload.processingStatus&&"failed"!==s(g).trailerUpload.processingStatus?(p(),u(I,{key:0,variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("trailer"),class:"cancel-btn"},{default:r((()=>[n(" Cancel ")])),_:1},8,["onClick"])):m("",!0),c("div",{class:"progress-content"},[c("div",{class:"compact-file-info"},[c("div",{class:"file-header"},[c(R,{size:"small",icon:"mdi-video",class:"mr-2"}),c("span",{class:"file-name text-truncate"},d(s(g).trailerUpload.fileName),1)]),c("div",{class:"file-meta"},d(s($)(s(g).trailerUpload.fileSize)),1)]),c("div",{class:"progress-section"},[c(T,{"model-value":"completed"===s(g).trailerUpload.processingStatus?100:s(g).trailerUpload.progress,color:"completed"===s(g).trailerUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,8,["model-value","color"]),c("div",{class:"progress-stats pa-2"},[c("div",{class:"upload-details"},[c("span",null,d(s($)(s(g).trailerUpload.uploadedSize))+" / "+d(s($)(s(g).trailerUpload.fileSize)),1),s(g).trailerUpload.speed?(p(),u("span",{key:0},d(s($)(s(g).trailerUpload.speed))+"/s ",1)):m("",!0),s(g).trailerUpload.estimatedTimeRemaining?(p(),u("span",{key:1},d(s(M)(s(g).trailerUpload.estimatedTimeRemaining)),1)):m("",!0)]),c("div",{class:"status-section"},[c(H,{color:getStatusColor(s(g).trailerUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r((()=>[n(d(s(g).trailerUpload.processingStatus),1)])),_:1},8,["color"])])])])])])):(p(),u("div",{key:0,class:"upload-initial-state"},[c(te,{onDrop:e=>handleFileSelected(e,"trailer"),onClick:()=>triggerFileInput("trailer")},{default:r((({isDragOver:e})=>[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"trailerFileInput",ref:G,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"trailer")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Trailer Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("trailer")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)])),_:1},8,["onDrop","onClick"]),(null==(h=e.requirementsData)?void 0:h.trailer)?(p(),u("div",{key:0,class:"requirements-section"},[c(L,{class:"my-4"}),c("h4",{class:"requirements-title"},"Upload Requirements"),c(f,o(e.requirementsData.trailer,{class:"mt-2"}),null,16)])):m("",!0)]))])];l(`<div class="upload-panel" data-v-226979a3${t}>`),"pending"!==s(g).trailerUpload.processingStatus||s(g).trailerUpload.isUploading?(l(`<div class="upload-progress-state" data-v-226979a3${t}>`),"completed"!==s(g).trailerUpload.processingStatus&&"failed"!==s(g).trailerUpload.processingStatus?l(z(I,{variant:"outlined",color:"error",size:"small",onClick:()=>cancelUpload("trailer"),class:"cancel-btn"},{default:r(((e,a,l,i)=>{if(!a)return[n(" Cancel ")];a(" Cancel ")})),_:1},i,t)):l("\x3c!----\x3e"),l(`<div class="progress-content" data-v-226979a3${t}><div class="compact-file-info" data-v-226979a3${t}><div class="file-header" data-v-226979a3${t}>`),l(z(R,{size:"small",icon:"mdi-video",class:"mr-2"},null,i,t)),l(`<span class="file-name text-truncate" data-v-226979a3${t}>${x(s(g).trailerUpload.fileName)}</span></div><div class="file-meta" data-v-226979a3${t}>${x(s($)(s(g).trailerUpload.fileSize))}</div></div><div class="progress-section" data-v-226979a3${t}>`),l(z(T,{"model-value":"completed"===s(g).trailerUpload.processingStatus?100:s(g).trailerUpload.progress,color:"completed"===s(g).trailerUpload.processingStatus?"success":"primary",height:"6",rounded:"",striped:""},null,i,t)),l(`<div class="progress-stats pa-2" data-v-226979a3${t}><div class="upload-details" data-v-226979a3${t}><span data-v-226979a3${t}>${x(s($)(s(g).trailerUpload.uploadedSize))} / ${x(s($)(s(g).trailerUpload.fileSize))}</span>`),s(g).trailerUpload.speed?l(`<span data-v-226979a3${t}>${x(s($)(s(g).trailerUpload.speed))}/s </span>`):l("\x3c!----\x3e"),s(g).trailerUpload.estimatedTimeRemaining?l(`<span data-v-226979a3${t}>${x(s(M)(s(g).trailerUpload.estimatedTimeRemaining))}</span>`):l("\x3c!----\x3e"),l(`</div><div class="status-section" data-v-226979a3${t}>`),l(z(H,{color:getStatusColor(s(g).trailerUpload.processingStatus),size:"small",class:"text-capitalize ml-2"},{default:r(((e,a,l,i)=>{if(!a)return[n(d(s(g).trailerUpload.processingStatus),1)];a(`${x(s(g).trailerUpload.processingStatus)}`)})),_:1},i,t)),l("</div></div></div></div></div>")):(l(`<div class="upload-initial-state" data-v-226979a3${t}>`),l(z(te,{onDrop:e=>handleFileSelected(e,"trailer"),onClick:()=>triggerFileInput("trailer")},{default:r((({isDragOver:e},a,l,i)=>{if(!a)return[c("div",{class:["upload-zone",{"upload-zone--dragover":e}]},[c("input",{ref_key:"trailerFileInput",ref:G,type:"file",accept:"video/mp4",class:"hidden-input",onChange:e=>onFileChange(e,"trailer")},null,40,["onChange"]),c("div",{class:"upload-content"},[c(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"}),c("h3",{class:"upload-title"},"Upload Trailer Video"),c("p",{class:"upload-description"}," Drag and drop your video here or click to browse "),c(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:v((()=>triggerFileInput("trailer")),["stop"])},{default:r((()=>[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")])),_:1},8,["onClick"])])],2)];a(`<div class="${b([{"upload-zone--dragover":e},"upload-zone"])}" data-v-226979a3${i}><input type="file" accept="video/mp4" class="hidden-input" data-v-226979a3${i}><div class="upload-content" data-v-226979a3${i}>`),a(z(R,{icon:"mdi-cloud-upload",color:"primary",size:"large",class:"upload-icon mb-4"},null,l,i)),a(`<h3 class="upload-title" data-v-226979a3${i}>Upload Trailer Video</h3><p class="upload-description" data-v-226979a3${i}> Drag and drop your video here or click to browse </p>`),a(z(I,{color:"primary",class:"select-btn mt-4",elevation:"0",onClick:()=>triggerFileInput("trailer")},{default:r(((e,a,l,i)=>{if(!a)return[c(R,{left:""},{default:r((()=>[n("mdi-plus")])),_:1}),n(" Select Video ")];a(z(R,{left:""},{default:r(((e,a,l,i)=>{if(!a)return[n("mdi-plus")];a("mdi-plus")})),_:2},l,i)),a(" Select Video ")})),_:2},l,i)),a("</div></div>")})),_:1},i,t)),(null==(U=e.requirementsData)?void 0:U.trailer)?(l(`<div class="requirements-section" data-v-226979a3${t}>`),l(z(L,{class:"my-4"},null,i,t)),l(`<h4 class="requirements-title" data-v-226979a3${t}>Upload Requirements</h4>`),l(z(f,o(e.requirementsData.trailer,{class:"mt-2"}),null,i,t)),l("</div>")):l("\x3c!----\x3e"),l("</div>")),l("</div>")})),_:1},i,t))})),_:1},i,t))})),_:1},i,t))})),_:1},i)),l("</div>")}}}),se=oe.setup;oe.setup=(e,a)=>{const i=l();return(i.modules||(i.modules=new Set)).add("components/upload/VideoUploader.vue"),se?se(e,a):void 0};const re=M(oe,[["__scopeId","data-v-226979a3"]]),ne=i({__name:"PremieringProjectSteppers",__ssrInlineRender:!0,props:{modelValue:{},project:{},mode:{}},emits:["update:modelValue","finish","payment-failed"],setup(e,{emit:a}){const l=e,i=a,s=G(),v=t(null),k=t(!0),C=t(1),b=f((()=>[{value:1,title:"Project Details",icon:"mdi-file-document-outline",component:Z},{value:2,title:"Investors",icon:"mdi-account-group",component:K},{value:3,title:"Credits",icon:"mdi-format-list-text",component:J},{value:4,title:"Premiering Settings",icon:"mdi-cog",component:X}])),F=f((()=>null!==s.processingAction)),D=f((()=>1===l.modelValue)),w=f((()=>l.modelValue===b.value.length)),q=f((()=>{const e=b.value.find((e=>e.value===l.modelValue));return e?e.component:null})),T=f((()=>s.actionTitle)),M=f((()=>s.actionIcon)),j=f((()=>s.actionColor));function canNavigateToStep(e){return!F.value&&e<=C.value}function getStepIconColor(e){return l.modelValue===e?"primary":l.modelValue>e?"success":"grey"}function updateStep(e){canNavigateToStep(e)&&i("update:modelValue",e)}function previousStep(){D.value||F.value||i("update:modelValue",l.modelValue-1)}async function handleNext(){var e;if(!F.value)if(w.value){const a=v.value;if(!a)return;try{const t=a.getMissingRequiredFields();if(t.length>0)return a.missingFields=t,void(a.showMissingFieldsDialog=!0);null==(e=l.project)||e.access_uuid;switch(s.publishOption){case"schedule":await a.handleSchedule();break;case"draft":await a.handleDraft();break;default:await a.handlePremiereNow()}i("finish")}catch(e){console.error("Error in handleNext:",e)}}else{const e=l.modelValue+1;C.value=Math.max(C.value,e),i("update:modelValue",e)}}function handlePaymentFailed(e){i("payment-failed",e)}return g((()=>l.modelValue),(e=>{C.value=Math.max(C.value,e),k.value=!0}),{immediate:!0}),(e,a,l,i)=>{a(`<div${_(o({class:["stepper-wrapper",{processing:F.value}]},i))} data-v-ffaa6f83>`),a(z(P,{elevation:"10",class:"mb-4"},{default:r(((a,l,i,t)=>{if(!l)return[c(Q,{"model-value":e.modelValue,"alt-labels":"",density:"compact"},{default:r((()=>[c(Y,null,{default:r((()=>[(p(!0),u(U,null,h(b.value,((a,l)=>(p(),u(U,{key:a.value},[c(ee,{value:a.value,complete:e.modelValue>a.value,disabled:!canNavigateToStep(a.value),class:"compact-step"},{default:r((()=>[canNavigateToStep(a.value)?(p(),u("div",{key:0,class:"step-content clickable",onClick:e=>updateStep(a.value)},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)],8,["onClick"])):(p(),u("div",{key:1,class:"step-content"},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)]))])),_:2},1032,["value","complete","disabled"]),l<b.value.length-1?(p(),u(L,{key:0})):m("",!0)],64)))),128))])),_:1})])),_:1},8,["model-value"])];l(z(Q,{"model-value":e.modelValue,"alt-labels":"",density:"compact"},{default:r(((a,l,i,t)=>{if(!l)return[c(Y,null,{default:r((()=>[(p(!0),u(U,null,h(b.value,((a,l)=>(p(),u(U,{key:a.value},[c(ee,{value:a.value,complete:e.modelValue>a.value,disabled:!canNavigateToStep(a.value),class:"compact-step"},{default:r((()=>[canNavigateToStep(a.value)?(p(),u("div",{key:0,class:"step-content clickable",onClick:e=>updateStep(a.value)},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)],8,["onClick"])):(p(),u("div",{key:1,class:"step-content"},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)]))])),_:2},1032,["value","complete","disabled"]),l<b.value.length-1?(p(),u(L,{key:0})):m("",!0)],64)))),128))])),_:1})];l(z(Y,null,{default:r(((a,l,i,t)=>{if(!l)return[(p(!0),u(U,null,h(b.value,((a,l)=>(p(),u(U,{key:a.value},[c(ee,{value:a.value,complete:e.modelValue>a.value,disabled:!canNavigateToStep(a.value),class:"compact-step"},{default:r((()=>[canNavigateToStep(a.value)?(p(),u("div",{key:0,class:"step-content clickable",onClick:e=>updateStep(a.value)},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)],8,["onClick"])):(p(),u("div",{key:1,class:"step-content"},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)]))])),_:2},1032,["value","complete","disabled"]),l<b.value.length-1?(p(),u(L,{key:0})):m("",!0)],64)))),128))];l("\x3c!--[--\x3e"),V(b.value,((a,o)=>{l("\x3c!--[--\x3e"),l(z(ee,{value:a.value,complete:e.modelValue>a.value,disabled:!canNavigateToStep(a.value),class:"compact-step"},{default:r(((e,l,i,t)=>{if(!l)return[canNavigateToStep(a.value)?(p(),u("div",{key:0,class:"step-content clickable",onClick:e=>updateStep(a.value)},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)],8,["onClick"])):(p(),u("div",{key:1,class:"step-content"},[c(R,{size:"small",color:getStepIconColor(a.value)},{default:r((()=>[n(d(a.icon),1)])),_:2},1032,["color"]),c("div",{class:"text-caption"},d(a.title),1)]))];canNavigateToStep(a.value)?(l(`<div class="step-content clickable" data-v-ffaa6f83${t}>`),l(z(R,{size:"small",color:getStepIconColor(a.value)},{default:r(((e,l,i,t)=>{if(!l)return[n(d(a.icon),1)];l(`${x(a.icon)}`)})),_:2},i,t)),l(`<div class="text-caption" data-v-ffaa6f83${t}>${x(a.title)}</div></div>`)):(l(`<div class="step-content" data-v-ffaa6f83${t}>`),l(z(R,{size:"small",color:getStepIconColor(a.value)},{default:r(((e,l,i,t)=>{if(!l)return[n(d(a.icon),1)];l(`${x(a.icon)}`)})),_:2},i,t)),l(`<div class="text-caption" data-v-ffaa6f83${t}>${x(a.title)}</div></div>`))})),_:2},i,t)),o<b.value.length-1?l(z(L,null,null,i,t)):l("\x3c!----\x3e"),l("\x3c!--]--\x3e")})),l("\x3c!--]--\x3e")})),_:1},i,t))})),_:1},i,t))})),_:1},l)),a(z(P,{elevation:"10",class:"mb-4"},{default:r(((a,l,i,t)=>{if(!l)return[c(N,{class:"pa-4"},{default:r((()=>[(p(),u(S,null,[(p(),u(y(q.value),{ref_key:"componentRef",ref:v,project:e.project,onPaymentFailed:handlePaymentFailed},null,40,["project"]))],1024))])),_:1})];l(z(N,{class:"pa-4"},{default:r(((a,l,i,t)=>{if(!l)return[(p(),u(S,null,[(p(),u(y(q.value),{ref_key:"componentRef",ref:v,project:e.project,onPaymentFailed:handlePaymentFailed},null,40,["project"]))],1024))];l(""),$(l,c(y(q.value),{ref_key:"componentRef",ref:v,project:e.project,onPaymentFailed:handlePaymentFailed},null),i,t)})),_:1},i,t))})),_:1},l)),a(z(P,{elevation:"10"},{default:r(((e,a,l,i)=>{if(!a)return[c(O,{class:"d-flex justify-space-between pa-3"},{default:r((()=>[D.value?m("",!0):(p(),u(I,{key:0,variant:"text",density:"comfortable",disabled:F.value,onClick:previousStep},{default:r((()=>[c(R,{start:"",size:"small"},{default:r((()=>[n("mdi-arrow-left")])),_:1}),n(" Back ")])),_:1},8,["disabled"])),c(ae),c(I,{loading:F.value,disabled:F.value||!k.value,color:w.value?j.value:"primary",density:"comfortable",onClick:handleNext},{default:r((()=>[n(d(w.value?T.value:"Continue")+" ",1),c(R,{end:"",size:"small"},{default:r((()=>[n(d(w.value?M.value:"mdi-arrow-right"),1)])),_:1})])),_:1},8,["loading","disabled","color"])])),_:1})];a(z(O,{class:"d-flex justify-space-between pa-3"},{default:r(((e,a,l,i)=>{if(!a)return[D.value?m("",!0):(p(),u(I,{key:0,variant:"text",density:"comfortable",disabled:F.value,onClick:previousStep},{default:r((()=>[c(R,{start:"",size:"small"},{default:r((()=>[n("mdi-arrow-left")])),_:1}),n(" Back ")])),_:1},8,["disabled"])),c(ae),c(I,{loading:F.value,disabled:F.value||!k.value,color:w.value?j.value:"primary",density:"comfortable",onClick:handleNext},{default:r((()=>[n(d(w.value?T.value:"Continue")+" ",1),c(R,{end:"",size:"small"},{default:r((()=>[n(d(w.value?M.value:"mdi-arrow-right"),1)])),_:1})])),_:1},8,["loading","disabled","color"])];D.value?a("\x3c!----\x3e"):a(z(I,{variant:"text",density:"comfortable",disabled:F.value,onClick:previousStep},{default:r(((e,a,l,i)=>{if(!a)return[c(R,{start:"",size:"small"},{default:r((()=>[n("mdi-arrow-left")])),_:1}),n(" Back ")];a(z(R,{start:"",size:"small"},{default:r(((e,a,l,i)=>{if(!a)return[n("mdi-arrow-left")];a("mdi-arrow-left")})),_:1},l,i)),a(" Back ")})),_:1},l,i)),a(z(ae,null,null,l,i)),a(z(I,{loading:F.value,disabled:F.value||!k.value,color:w.value?j.value:"primary",density:"comfortable",onClick:handleNext},{default:r(((e,a,l,i)=>{if(!a)return[n(d(w.value?T.value:"Continue")+" ",1),c(R,{end:"",size:"small"},{default:r((()=>[n(d(w.value?M.value:"mdi-arrow-right"),1)])),_:1})];a(`${x(w.value?T.value:"Continue")} `),a(z(R,{end:"",size:"small"},{default:r(((e,a,l,i)=>{if(!a)return[n(d(w.value?M.value:"mdi-arrow-right"),1)];a(`${x(w.value?M.value:"mdi-arrow-right")}`)})),_:1},l,i))})),_:1},l,i))})),_:1},l,i))})),_:1},l)),a("</div>")}}}),de=ne.setup;ne.setup=(e,a)=>{const i=l();return(i.modules||(i.modules=new Set)).add("components/premiering/PremieringProjectSteppers.vue"),de?de(e,a):void 0};const ce=M(ne,[["__scopeId","data-v-ffaa6f83"]]);export{re as _,ce as a};

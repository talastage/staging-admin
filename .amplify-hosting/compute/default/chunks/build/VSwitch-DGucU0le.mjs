import{ref as e,computed as l,createVNode as a,mergeProps as o,Fragment as t}from"vue";import{d as s}from"./index--K8ZrFMm.mjs";import{m as i,u as n,V as u}from"./VInput-DRJS2l97.mjs";import{m as r,V as d}from"./VSelectionControl-BvLhSUlq.mjs";import{p as c,h as v,a2 as m,H as p,a3 as f,j as h,ac as g,V,N as k,U as y}from"./server.mjs";const C=c({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...i(),...r()},"VSwitch"),b=v()({name:"VSwitch",inheritAttrs:!1,props:C(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(i,r){let{attrs:c,slots:v}=r;const C=m(i,"indeterminate"),b=m(i,"modelValue"),{loaderClasses:w}=p(i),{isFocused:S,focus:B,blur:_}=n(i),j=e(),x=l((()=>"string"==typeof i.loading&&""!==i.loading?i.loading:i.color)),U=f(),D=l((()=>i.id||`switch-${U}`));function onChange(){C.value&&(C.value=!1)}function onTrackClick(e){var l,a;e.stopPropagation(),e.preventDefault(),null==(a=null==(l=j.value)?void 0:l.input)||a.click()}return h((()=>{const[e,l]=g(c),n=u.filterProps(i),r=d.filterProps(i);return a(u,o({class:["v-switch",{"v-switch--inset":i.inset},{"v-switch--indeterminate":C.value},w.value,i.class]},e,n,{modelValue:b.value,"onUpdate:modelValue":e=>b.value=e,id:D.value,focused:S.value,style:i.style}),{...v,default:e=>{let{id:n,messagesId:u,isDisabled:c,isReadonly:m,isValid:p}=e;return a(d,o({ref:j},r,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,onChange],id:n.value,"aria-describedby":u.value,type:"checkbox","aria-checked":C.value?"mixed":void 0,disabled:c.value,readonly:m.value,onFocus:B,onBlur:_},l),{...v,default:e=>{let{backgroundColorClasses:l,backgroundColorStyles:o}=e;return a("div",{class:["v-switch__track",...l.value],style:o.value,onClick:onTrackClick},null)},input:e=>{let{inputNode:l,icon:o,backgroundColorClasses:n,backgroundColorStyles:u}=e;return a(t,null,[l,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":o||i.loading},i.inset?void 0:n.value],style:i.inset?void 0:u.value},[a(s,null,{default:()=>[i.loading?a(k,{name:"v-switch",active:!0,color:!1===p.value?void 0:x.value},{default:e=>v.loader?v.loader(e):a(y,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):o&&a(V,{key:o,icon:o,size:"x-small"},null)]})])])}})}})})),{}}});export{b as V};

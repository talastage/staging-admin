import{_ as e}from"./BaseHeader-CiSkdPXW.mjs";import{_ as l}from"./ProjectCardCompact-C94E1iON.mjs";import{_ as t}from"./UserCard-DhDpEloc.mjs";import{_ as s}from"./EmptyStateCard-3UqWseqH.mjs";import{useSSRContext as a,defineComponent as r,computed as u,watch as o,withCtx as n,createTextVNode as c,toDisplayString as d,createVNode as i,openBlock as m,createBlock as p,Fragment as f,renderList as v,createCommentVNode as g}from"vue";import{ssrRenderAttrs as _,ssrRenderComponent as y,ssrInterpolate as h,ssrRenderList as j}from"vue/server-renderer";import{useRoute as x,useRouter as b}from"vue-router";import{u as $}from"./useSearchApp-B5ADG-h2.mjs";import{V as k}from"./VContainer-By3q0af_.mjs";import{V as w}from"./VAlert-DneVUU3Q.mjs";import{V as C}from"./VList-CcwwrkQR.mjs";import{V as R}from"./VListItem-jTLuICGb.mjs";import{V}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{V as S}from"./VSheet-CDtLFCXf.mjs";import{V as D}from"./VRow-rkX0LEXR.mjs";import{V as I}from"./VCol-CKxprC4g.mjs";import{c as T,_ as U}from"./server.mjs";import{u as q}from"./useApps-hYo13Xt3.mjs";import{u as F}from"./useSeo-Dl9beXFt.mjs";import"./MediaThumbnail-jyEgcC54.mjs";import"hls.js";import"./VImg-B2jcJjnn.mjs";import"./useDateFormatter-W2Hui1rv.mjs";import"./VCard-CsohsM82.mjs";import"./VAvatar-JL8WKjry.mjs";import"./UserAvatar-DFFlBvus.mjs";import"./index--K8ZrFMm.mjs";import"./ssrBoot-BtvJZs44.mjs";import"./VDivider-BmyMVZMt.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";const B=r({__name:"SearchResultsPage",__ssrInlineRender:!0,setup(a){const r=x(),_=b(),T=u((()=>r.query.search_query||"")),U=$();o(T,(async e=>{U.clearResults(),e.trim()&&await U.search(e,1)}),{immediate:!0});const q=u((()=>U.searchResults.projects.results)),F=u((()=>U.searchResults.users.results)),B=u((()=>U.loading)),A=u((()=>U.error)),L=u((()=>0===q.value.length&&0===F.value.length)),navigateToUserProfile=e=>{e&&e.username&&_.push(`/${e.username}`)},X=u((()=>T.value?`Search Results for '${T.value}'`:"Search Results"));return(a,r,u,o)=>{const _=e,x=l,b=t,$=s;r(y(k,o,{default:n(((e,l,t,s)=>{if(!l)return[i(_,{title:X.value,class:"mb-3"},null,8,["title"]),A.value?(m(),p(w,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:n((()=>[c(d(A.value),1)])),_:1})):g("",!0),q.value.length>0?(m(),p("section",{key:1,class:"mb-8"},[i("div",{class:"d-flex align-center justify-space-between mb-4"},[i("h2",null,"Projects ("+d(q.value.length)+")",1)]),i(C,null,{default:n((()=>[(m(!0),p(f,null,v(q.value,(e=>(m(),p(R,{key:e.id},{default:n((()=>[i(x,{project:e},null,8,["project"])])),_:2},1024)))),128))])),_:1})])):g("",!0),F.value.length>0?(m(),p("section",{key:2,class:"mb-8"},[i("div",{class:"d-flex align-center justify-space-between mb-4"},[i("h2",null,"Users ("+d(F.value.length)+")",1)]),i(C,null,{default:n((()=>[(m(!0),p(f,null,v(F.value,(e=>(m(),p(R,{key:e.id,onClick:l=>navigateToUserProfile(e)},{default:n((()=>[i(b,{user:e,layout:"compact"},null,8,["user"])])),_:2},1032,["onClick"])))),128))])),_:1})])):g("",!0),B.value?(m(),p(f,{key:3},[L.value?(m(),p(f,{key:0},[i("section",{class:"mb-8"},[i("div",{class:"d-flex align-center justify-space-between mb-4"},[i(V,{type:"text",width:"150",class:"mb-2"})]),i(S,{class:"px-2"},{default:n((()=>[i(D,null,{default:n((()=>[(m(),p(f,null,v(3,(e=>i(I,{cols:"12",key:`project-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(D,{"no-gutters":""},{default:n((()=>[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})])),_:1})]),i("section",{class:"mb-8"},[i("div",{class:"d-flex align-center justify-space-between mb-4"},[i(V,{type:"text",width:"120",class:"mb-2"})]),i(S,{class:"px-2"},{default:n((()=>[i(D,null,{default:n((()=>[(m(),p(f,null,v(4,(e=>i(I,{cols:"12",md:"6",key:`user-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg",elevation:0},{default:n((()=>[i(V,{type:"list-item-avatar-two-line",class:"rounded-lg"})])),_:1})])),_:2},1024))),64))])),_:1})])),_:1})])],64)):(m(),p("div",{key:1,class:"py-4"},[i(S,{class:"px-2"},{default:n((()=>[i(D,null,{default:n((()=>[i(I,{cols:"12"},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(V,{type:"article, actions",class:"mb-4 rounded-lg"})])),_:1})])),_:1})])),_:1})])),_:1})]))],64)):g("",!0),B.value||!L.value||A.value?g("",!0):(m(),p($,{key:4,title:"No Results Found",message:"Try different keywords or check your spelling."}))];l(y(_,{title:X.value,class:"mb-3"},null,t,s)),A.value?l(y(w,{type:"error",variant:"tonal",class:"mb-4"},{default:n(((e,l,t,s)=>{if(!l)return[c(d(A.value),1)];l(`${h(A.value)}`)})),_:1},t,s)):l("\x3c!----\x3e"),q.value.length>0?(l(`<section class="mb-8" data-v-4c4d5b48${s}><div class="d-flex align-center justify-space-between mb-4" data-v-4c4d5b48${s}><h2 data-v-4c4d5b48${s}>Projects (${h(q.value.length)})</h2></div>`),l(y(C,null,{default:n(((e,l,t,s)=>{if(!l)return[(m(!0),p(f,null,v(q.value,(e=>(m(),p(R,{key:e.id},{default:n((()=>[i(x,{project:e},null,8,["project"])])),_:2},1024)))),128))];l("\x3c!--[--\x3e"),j(q.value,(e=>{l(y(R,{key:e.id},{default:n(((l,t,s,a)=>{if(!t)return[i(x,{project:e},null,8,["project"])];t(y(x,{project:e},null,s,a))})),_:2},t,s))})),l("\x3c!--]--\x3e")})),_:1},t,s)),l("</section>")):l("\x3c!----\x3e"),F.value.length>0?(l(`<section class="mb-8" data-v-4c4d5b48${s}><div class="d-flex align-center justify-space-between mb-4" data-v-4c4d5b48${s}><h2 data-v-4c4d5b48${s}>Users (${h(F.value.length)})</h2></div>`),l(y(C,null,{default:n(((e,l,t,s)=>{if(!l)return[(m(!0),p(f,null,v(F.value,(e=>(m(),p(R,{key:e.id,onClick:l=>navigateToUserProfile(e)},{default:n((()=>[i(b,{user:e,layout:"compact"},null,8,["user"])])),_:2},1032,["onClick"])))),128))];l("\x3c!--[--\x3e"),j(F.value,(e=>{l(y(R,{key:e.id,onClick:l=>navigateToUserProfile(e)},{default:n(((l,t,s,a)=>{if(!t)return[i(b,{user:e,layout:"compact"},null,8,["user"])];t(y(b,{user:e,layout:"compact"},null,s,a))})),_:2},t,s))})),l("\x3c!--]--\x3e")})),_:1},t,s)),l("</section>")):l("\x3c!----\x3e"),B.value?(l("\x3c!--[--\x3e"),L.value?(l(`\x3c!--[--\x3e<section class="mb-8" data-v-4c4d5b48${s}><div class="d-flex align-center justify-space-between mb-4" data-v-4c4d5b48${s}>`),l(y(V,{type:"text",width:"150",class:"mb-2"},null,t,s)),l("</div>"),l(y(S,{class:"px-2"},{default:n(((e,l,t,s)=>{if(!l)return[i(D,null,{default:n((()=>[(m(),p(f,null,v(3,(e=>i(I,{cols:"12",key:`project-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(D,{"no-gutters":""},{default:n((()=>[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})];l(y(D,null,{default:n(((e,l,t,s)=>{if(!l)return[(m(),p(f,null,v(3,(e=>i(I,{cols:"12",key:`project-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(D,{"no-gutters":""},{default:n((()=>[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})])),_:1})])),_:1})])),_:2},1024))),64))];l("\x3c!--[--\x3e"),j(3,(e=>{l(y(I,{cols:"12",key:`project-${e}`},{default:n(((e,l,t,s)=>{if(!l)return[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(D,{"no-gutters":""},{default:n((()=>[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})])),_:1})])),_:1})];l(y(S,{class:"pa-3",rounded:"lg"},{default:n(((e,l,t,s)=>{if(!l)return[i(D,{"no-gutters":""},{default:n((()=>[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})])),_:1})];l(y(D,{"no-gutters":""},{default:n(((e,l,t,s)=>{if(!l)return[i(I,{cols:"12",sm:"4"},{default:n((()=>[i(V,{type:"image",height:"180",class:"rounded-lg"})])),_:1}),i(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n((()=>[i(V,{type:"article",class:"mt-2"})])),_:1})];l(y(I,{cols:"12",sm:"4"},{default:n(((e,l,t,s)=>{if(!l)return[i(V,{type:"image",height:"180",class:"rounded-lg"})];l(y(V,{type:"image",height:"180",class:"rounded-lg"},null,t,s))})),_:2},t,s)),l(y(I,{cols:"12",sm:"8",class:"pl-sm-4 pt-4 pt-sm-0"},{default:n(((e,l,t,s)=>{if(!l)return[i(V,{type:"article",class:"mt-2"})];l(y(V,{type:"article",class:"mt-2"},null,t,s))})),_:2},t,s))})),_:2},t,s))})),_:2},t,s))})),_:2},t,s))})),l("\x3c!--]--\x3e")})),_:1},t,s))})),_:1},t,s)),l(`</section><section class="mb-8" data-v-4c4d5b48${s}><div class="d-flex align-center justify-space-between mb-4" data-v-4c4d5b48${s}>`),l(y(V,{type:"text",width:"120",class:"mb-2"},null,t,s)),l("</div>"),l(y(S,{class:"px-2"},{default:n(((e,l,t,s)=>{if(!l)return[i(D,null,{default:n((()=>[(m(),p(f,null,v(4,(e=>i(I,{cols:"12",md:"6",key:`user-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg",elevation:0},{default:n((()=>[i(V,{type:"list-item-avatar-two-line",class:"rounded-lg"})])),_:1})])),_:2},1024))),64))])),_:1})];l(y(D,null,{default:n(((e,l,t,s)=>{if(!l)return[(m(),p(f,null,v(4,(e=>i(I,{cols:"12",md:"6",key:`user-${e}`},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg",elevation:0},{default:n((()=>[i(V,{type:"list-item-avatar-two-line",class:"rounded-lg"})])),_:1})])),_:2},1024))),64))];l("\x3c!--[--\x3e"),j(4,(e=>{l(y(I,{cols:"12",md:"6",key:`user-${e}`},{default:n(((e,l,t,s)=>{if(!l)return[i(S,{class:"pa-3",rounded:"lg",elevation:0},{default:n((()=>[i(V,{type:"list-item-avatar-two-line",class:"rounded-lg"})])),_:1})];l(y(S,{class:"pa-3",rounded:"lg",elevation:0},{default:n(((e,l,t,s)=>{if(!l)return[i(V,{type:"list-item-avatar-two-line",class:"rounded-lg"})];l(y(V,{type:"list-item-avatar-two-line",class:"rounded-lg"},null,t,s))})),_:2},t,s))})),_:2},t,s))})),l("\x3c!--]--\x3e")})),_:1},t,s))})),_:1},t,s)),l("</section>\x3c!--]--\x3e")):(l(`<div class="py-4" data-v-4c4d5b48${s}>`),l(y(S,{class:"px-2"},{default:n(((e,l,t,s)=>{if(!l)return[i(D,null,{default:n((()=>[i(I,{cols:"12"},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(V,{type:"article, actions",class:"mb-4 rounded-lg"})])),_:1})])),_:1})])),_:1})];l(y(D,null,{default:n(((e,l,t,s)=>{if(!l)return[i(I,{cols:"12"},{default:n((()=>[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(V,{type:"article, actions",class:"mb-4 rounded-lg"})])),_:1})])),_:1})];l(y(I,{cols:"12"},{default:n(((e,l,t,s)=>{if(!l)return[i(S,{class:"pa-3",rounded:"lg"},{default:n((()=>[i(V,{type:"article, actions",class:"mb-4 rounded-lg"})])),_:1})];l(y(S,{class:"pa-3",rounded:"lg"},{default:n(((e,l,t,s)=>{if(!l)return[i(V,{type:"article, actions",class:"mb-4 rounded-lg"})];l(y(V,{type:"article, actions",class:"mb-4 rounded-lg"},null,t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s)),l("</div>")),l("\x3c!--]--\x3e")):l("\x3c!----\x3e"),B.value||!L.value||A.value?l("\x3c!----\x3e"):l(y($,{title:"No Results Found",message:"Try different keywords or check your spelling."},null,t,s))})),_:1},u))}}}),A=B.setup;B.setup=(e,l)=>{const t=a();return(t.modules||(t.modules=new Set)).add("views/SearchResultsPage.vue"),A?A(e,l):void 0};const L=U(B,[["__scopeId","data-v-4c4d5b48"]]),X=r({__name:"search_results",__ssrInlineRender:!0,setup(e){const l=T(),t=u((()=>l.query.search_query||"")),s=q(),a=$(),r=u((()=>s.talastageApp)),o=u((()=>{var e,l;return t.value?`Search Results for '${t.value}' - ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`:`Search - ${(null==(l=r.value)?void 0:l.name)||"TalaStage"}`})),n=u((()=>{var e,l,s,u,o,n,c,d,i,m;if(!t.value)return`Search for talents and projects on ${(null==(e=r.value)?void 0:e.name)||"TalaStage"}`;return`Found ${((null==(s=null==(l=a.searchResults)?void 0:l.projects)?void 0:s.total)||0)+((null==(o=null==(u=a.searchResults)?void 0:u.users)?void 0:o.total)||0)} results for '${t.value}' - ${(null==(c=null==(n=a.searchResults)?void 0:n.users)?void 0:c.total)||0} talents and ${(null==(i=null==(d=a.searchResults)?void 0:d.projects)?void 0:i.total)||0} projects on ${(null==(m=r.value)?void 0:m.name)||"TalaStage"}`}));return F({title:o,description:n,keywords:u((()=>`search, results, talents, projects, opportunities, ${t.value}`)),ogTitle:o,ogDescription:n,ogImage:u((()=>{var e;return(null==(e=r.value)?void 0:e.logo_url)||"/default-social-image.png"})),ogUrl:u((()=>{var e;return`${(null==(e=r.value)?void 0:e.canonical_url)||"https://talastage.com"}/search-results${t.value?`?search_query=${encodeURIComponent(t.value)}`:""}`})),ogType:"website",twitterCard:"summary_large_image",twitterTitle:o,twitterDescription:n,twitterImage:u((()=>{var e;return(null==(e=r.value)?void 0:e.logo_url)||"/default-social-image.png"})),noIndex:!0,link:u((()=>[{rel:"canonical",href:u((()=>{var e;return`${(null==(e=r.value)?void 0:e.canonical_url)||"https://talastage.com"}/search-results${t.value?`?search_query=${encodeURIComponent(t.value)}`:""}`})).value}]))}),(e,l,t,s)=>{const a=L;l(`<div${_(s)}>`),l(y(a,null,null,t)),l("</div>")}}}),P=X.setup;X.setup=(e,l)=>{const t=a();return(t.modules||(t.modules=new Set)).add("pages/search_results.vue"),P?P(e,l):void 0};export{X as default};

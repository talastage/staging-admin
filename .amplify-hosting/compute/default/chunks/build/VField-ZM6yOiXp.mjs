import{createVNode as e,computed as l,ref as a,toRef as n,watch as i,mergeProps as r,withDirectives as o,vShow as s,Fragment as t}from"vue";import{p as d,m as v,h as u,j as f,I as p,a4 as c,t as y,x as b,z as g,B as m,H as C,L as _,i as I,a3 as h,a0 as k,X as B,Q as x,N as F,ag as S,aH as V}from"./server.mjs";import{d as $,b as P,u as j,e as L}from"./VInput-DRJS2l97.mjs";import{c as A}from"./index--K8ZrFMm.mjs";import{n as D,a as R,s as w}from"./easing-Bn3h-KUg.mjs";const M=d({floating:Boolean,...v()},"VFieldLabel"),H=u()({name:"VFieldLabel",props:M(),setup(l,a){let{slots:n}=a;return f((()=>e($,{class:["v-field-label",{"v-field-label--floating":l.floating},l.class],style:l.style,"aria-hidden":l.floating||void 0},n))),{}}}),K=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],q=d({appendInnerIcon:p,bgColor:String,clearable:Boolean,clearIcon:{type:p,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:p,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>K.includes(e)},"onClick:clear":c(),"onClick:appendInner":c(),"onClick:prependInner":c(),...v(),...y(),...b(),...g()},"VField"),z=u()({name:"VField",inheritAttrs:!1,props:{id:String,...P(),...q()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(d,v){let{attrs:u,emit:p,slots:c}=v;const{themeClasses:y}=m(d),{loaderClasses:b}=C(d),{focusClasses:g,isFocused:S,focus:V,blur:$}=j(d),{InputIcon:P}=L(d),{roundedClasses:M}=_(d),{rtlClasses:K}=I(),q=l((()=>d.dirty||d.active)),z=l((()=>!(d.singleLine||!d.label&&!c.label))),E=h(),J=l((()=>d.id||`input-${E}`)),N=l((()=>`${J.value}-messages`)),O=a(),Q=a(),U=a(),W=l((()=>["plain","underlined"].includes(d.variant))),{backgroundColorClasses:X,backgroundColorStyles:Z}=k(n(d,"bgColor")),{textColorClasses:G,textColorStyles:T}=B(l((()=>d.error||d.disabled?void 0:q.value&&S.value?d.color:d.baseColor)));i(q,(e=>{if(z.value){const l=O.value.$el,a=Q.value.$el;requestAnimationFrame((()=>{const n=D(l),i=a.getBoundingClientRect(),r=i.x-n.x,o=i.y-n.y-(n.height/2-i.height/2),s=i.width/.75,t=Math.abs(s-n.width)>1?{maxWidth:x(s)}:void 0,d=getComputedStyle(l),v=getComputedStyle(a),u=1e3*parseFloat(d.transitionDuration)||150,f=parseFloat(v.getPropertyValue("--v-field-label-scale")),p=v.getPropertyValue("color");l.style.visibility="visible",a.style.visibility="hidden",R(l,{transform:`translate(${r}px, ${o}px) scale(${f})`,color:p,...t},{duration:u,easing:w,direction:e?"normal":"reverse"}).finished.then((()=>{l.style.removeProperty("visibility"),a.style.removeProperty("visibility")}))}))}}),{flush:"post"});const Y=l((()=>({isActive:q,isFocused:S,controlRef:U,blur:$,focus:V})));function onClick(e){e.target!==(void 0).activeElement&&e.preventDefault()}return f((()=>{var l,a,n,i;const v="outlined"===d.variant,f=c["prepend-inner"]||d.prependInnerIcon,p=!(!d.clearable&&!c.clear),m=!!(c["append-inner"]||d.appendInnerIcon||p),label=()=>c.label?c.label({...Y.value,label:d.label,props:{for:J.value}}):d.label;return e("div",r({class:["v-field",{"v-field--active":q.value,"v-field--appended":m,"v-field--center-affix":null!=(l=d.centerAffix)?l:!W.value,"v-field--disabled":d.disabled,"v-field--dirty":d.dirty,"v-field--error":d.error,"v-field--flat":d.flat,"v-field--has-background":!!d.bgColor,"v-field--persistent-clear":d.persistentClear,"v-field--prepended":f,"v-field--reverse":d.reverse,"v-field--single-line":d.singleLine,"v-field--no-label":!label(),[`v-field--variant-${d.variant}`]:!0},y.value,X.value,g.value,b.value,M.value,K.value,d.class],style:[Z.value,d.style],onClick:onClick},u),[e("div",{class:"v-field__overlay"},null),e(F,{name:"v-field",active:!!d.loading,color:d.error?"error":"string"==typeof d.loading?d.loading:d.color},{default:c.loader}),f&&e("div",{key:"prepend",class:"v-field__prepend-inner"},[d.prependInnerIcon&&e(P,{key:"prepend-icon",name:"prependInner"},null),null==(a=c["prepend-inner"])?void 0:a.call(c,Y.value)]),e("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(d.variant)&&z.value&&e(H,{key:"floating-label",ref:Q,class:[G.value],floating:!0,for:J.value,style:T.value},{default:()=>[label()]}),e(H,{ref:O,for:J.value},{default:()=>[label()]}),null==(n=c.default)?void 0:n.call(c,{...Y.value,props:{id:J.value,class:"v-field__input","aria-describedby":N.value},focus:V,blur:$})]),p&&e(A,{key:"clear"},{default:()=>[o(e("div",{class:"v-field__clearable",onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},[c.clear?c.clear():e(P,{name:"clear"},null)]),[[s,d.dirty]])]}),m&&e("div",{key:"append",class:"v-field__append-inner"},[null==(i=c["append-inner"])?void 0:i.call(c,Y.value),d.appendInnerIcon&&e(P,{key:"append-icon",name:"appendInner"},null)]),e("div",{class:["v-field__outline",G.value],style:T.value},[v&&e(t,null,[e("div",{class:"v-field__outline__start"},null),z.value&&e("div",{class:"v-field__outline__notch"},[e(H,{ref:Q,floating:!0,for:J.value},{default:()=>[label()]})]),e("div",{class:"v-field__outline__end"},null)]),W.value&&z.value&&e(H,{ref:Q,floating:!0,for:J.value},{default:()=>[label()]})])])})),{controlRef:U}}});function filterFieldProps(e){const l=Object.keys(z.props).filter((e=>!S(e)&&"class"!==e&&"style"!==e));return V(e,l)}export{z as V,filterFieldProps as f,q as m};

import{ref as e}from"vue";function useInfiniteScroll(r,l={}){const a=e([]),u=e(!1),n=e(null),o=e(!0),v=e(1);return{items:a,isLoading:u,error:n,hasMore:o,reset:()=>{a.value=[],v.value=1,o.value=!0,u.value=!1,n.value=null},refresh:async()=>{v.value=1,a.value=[],u.value=!0,n.value=null;try{const e=await r(v.value);a.value=e,o.value=e.length>0,e.length>0&&v.value++}catch(e){n.value=e instanceof Error?e:new Error("An error occurred while refreshing items"),console.error("Error refreshing data:",n.value)}finally{u.value=!1}},loadMoreItems:async()=>{if(o.value&&!u.value){u.value=!0,n.value=null;try{const e=await r(v.value);e.length>0?(a.value=[...a.value,...e],v.value++):o.value=!1}catch(e){n.value=e instanceof Error?e:new Error("An error occurred while loading more items"),console.error("Infinite scroll error:",n.value)}finally{u.value=!1}}}}}export{useInfiniteScroll as u};

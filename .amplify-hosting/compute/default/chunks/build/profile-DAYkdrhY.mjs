import{bc as e,aA as r,a as t}from"./server.mjs";import"vue";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";import"vue/server-renderer";const o=[{title:"Premieres",tab:"projects",icon:"tabler-layout-grid",component:"UserProfileProjects",order:0},{title:"Investments",tab:"investments",icon:"tabler-handshake",component:"UserInvestments",requiresAuth:!0,ownerOnly:!0,order:1},{title:"Featured In",tab:"castings",icon:"tabler-award",component:"UserCredits",order:2},{title:"Watching",tab:"watching",icon:"tabler-eye",component:"UserWatching",requiresAuth:!0,order:3},{title:"Followers",tab:"followers",icon:"tabler-users",component:"UserFans",order:4},{title:"Following",tab:"following",icon:"tabler-star",component:"UserFanning",order:5}],n="projects",i=o.map((e=>e.tab)),s=e((e=>{if(!e.params.username)return console.warn("No username provided in profile route"),r("/");if(!e.params.tab)return r(`/${e.params.username}/${n}`);const s=e.params.tab;if(!i.includes(s))return console.warn(`Invalid profile tab: ${s}`),r(`/${e.params.username}/${n}`);const a=o.find((e=>e.tab===s));if(null==a?void 0:a.requiresAuth){if(!t().isLoggedIn)return r("/login",{query:{redirect:e.fullPath,message:"Please login to view this content"}})}}));export{s as default};

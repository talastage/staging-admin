import{useSSRContext as e,defineComponent as t,withCtx as a,createTextVNode as l,createVNode as r,toDisplayString as s,mergeProps as o,openBlock as n,createBlock as i,renderSlot as u,ref as d,computed as c,watch as v,createCommentVNode as p,unref as m,Fragment as f,renderList as h}from"vue";import{ssrRenderAttrs as _,ssrRenderComponent as g,ssrInterpolate as y,ssrRenderStyle as b,ssrRenderSlot as x,ssrRenderList as I}from"vue/server-renderer";import{V as j,d as k,b as C,a as w,c as S}from"./VCard-CsohsM82.mjs";import{d as V,u as $,af as U,V as P,b as E,U as A,_ as N}from"./server.mjs";import{V as D}from"./VRow-rkX0LEXR.mjs";import{V as z}from"./VCol-CKxprC4g.mjs";import{V as L}from"./VAvatar-JL8WKjry.mjs";import{_ as q}from"./BaseHeader-CiSkdPXW.mjs";import{_ as T}from"./EmptyStateCard-3UqWseqH.mjs";import{_ as M}from"./BaseCard-5i8D5k_7.mjs";import{_ as F}from"./PageAvatar-YzVemsBd.mjs";import{_ as B}from"./UserAvatar-DFFlBvus.mjs";import{_ as R}from"./StatusBadge-s-9yaW6G.mjs";import{u as W}from"./useDebounce-MF5_aaOF.mjs";import{V as O}from"./VAutocomplete-BqaBgOKW.mjs";import{V as X,a as Y}from"./VListItem-jTLuICGb.mjs";import{V as G}from"./VImg-B2jcJjnn.mjs";import{a as K}from"./VChip-f_o2BAA4.mjs";import{V as H}from"./VDialog-DA9BdIfh.mjs";import{V as J}from"./VSpacer-_gFExeVk.mjs";import{V as Q}from"./VSnackbar-zBX8NfdO.mjs";import{V as Z}from"./VAlert-DneVUU3Q.mjs";import{V as ee}from"./VDivider-BmyMVZMt.mjs";import{V as te,a as ae}from"./VWindowItem-DjFGFGcX.mjs";import{V as le}from"./VTextField-rd-VvEF8.mjs";import{_ as re}from"./ConfirmDeleteDialog-Bb7O4z7X.mjs";import{u as se}from"./useSnackMessage-PVLwAm7x.mjs";import{u as oe}from"./useInfiniteScroll-CumoSAIu.mjs";import{V as ne}from"./VContainer-By3q0af_.mjs";import{V as ie}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{V as ue}from"./VTooltip-CE0EmfBU.mjs";const de=t({__name:"ProjectInvestorSharePercentageTracker",__ssrInlineRender:!0,props:{stats:{}},setup:e=>(e,t,o,n)=>{t(`<div${_(n)} data-v-99942dd1>`),t(g(j,{elevation:"10",class:"mb-4"},{default:a(((t,o,n,i)=>{if(!o)return[r(k,null,{default:a((()=>[r(C,{class:"text-h6"},{default:a((()=>[l(" Project Investors Share Distribution ")])),_:1}),r("div",{class:"mt-4"},[r("div",{class:"d-flex justify-space-between mb-1"},[r("span",{class:"text-caption"},"Creator Share"),r("span",{class:"text-caption"},"Investor Share")]),r("div",{class:"progress-container"},[r(U,{"model-value":e.stats.creator_shares,height:"24",color:"primary",rounded:""},{default:a((()=>[r("strong",null,s(e.stats.creator_shares)+"%",1)])),_:1},8,["model-value"]),r("div",{class:"investor-share-overlay",style:{width:`${e.stats.investor_shares}%`}},[r("strong",null,s(e.stats.investor_shares)+"%",1)],4)])])])),_:1})];o(g(k,null,{default:a(((t,o,n,i)=>{if(!o)return[r(C,{class:"text-h6"},{default:a((()=>[l(" Project Investors Share Distribution ")])),_:1}),r("div",{class:"mt-4"},[r("div",{class:"d-flex justify-space-between mb-1"},[r("span",{class:"text-caption"},"Creator Share"),r("span",{class:"text-caption"},"Investor Share")]),r("div",{class:"progress-container"},[r(U,{"model-value":e.stats.creator_shares,height:"24",color:"primary",rounded:""},{default:a((()=>[r("strong",null,s(e.stats.creator_shares)+"%",1)])),_:1},8,["model-value"]),r("div",{class:"investor-share-overlay",style:{width:`${e.stats.investor_shares}%`}},[r("strong",null,s(e.stats.investor_shares)+"%",1)],4)])])];o(g(C,{class:"text-h6"},{default:a(((e,t,a,r)=>{if(!t)return[l(" Project Investors Share Distribution ")];t(" Project Investors Share Distribution ")})),_:1},n,i)),o(`<div class="mt-4" data-v-99942dd1${i}><div class="d-flex justify-space-between mb-1" data-v-99942dd1${i}><span class="text-caption" data-v-99942dd1${i}>Creator Share</span><span class="text-caption" data-v-99942dd1${i}>Investor Share</span></div><div class="progress-container" data-v-99942dd1${i}>`),o(g(U,{"model-value":e.stats.creator_shares,height:"24",color:"primary",rounded:""},{default:a(((t,a,l,o)=>{if(!a)return[r("strong",null,s(e.stats.creator_shares)+"%",1)];a(`<strong data-v-99942dd1${o}>${y(e.stats.creator_shares)}%</strong>`)})),_:1},n,i)),o(`<div class="investor-share-overlay" style="${b({width:`${e.stats.investor_shares}%`})}" data-v-99942dd1${i}><strong data-v-99942dd1${i}>${y(e.stats.investor_shares)}%</strong></div></div></div>`)})),_:1},n,i))})),_:1},o)),t(g(D,null,{default:a(((t,o,n,i)=>{if(!o)return[r(z,{cols:"12",sm:"4"},{default:a((()=>[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"primary",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-star"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Creator Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.creator_shares)+"%",1)])),_:1})])),_:1})])),_:1})])),_:1}),r(z,{cols:"12",sm:"4"},{default:a((()=>[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"success",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-group"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Investor Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.investor_shares)+"%",1)])),_:1})])),_:1})])),_:1})])),_:1}),r(z,{cols:"12",sm:"4"},{default:a((()=>[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"info",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-multiple"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Total Investors "),r("div",{class:"text-h5 mt-2"},s(e.stats.total_investors),1)])),_:1})])),_:1})])),_:1})])),_:1})];o(g(z,{cols:"12",sm:"4"},{default:a(((t,o,n,i)=>{if(!o)return[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"primary",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-star"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Creator Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.creator_shares)+"%",1)])),_:1})])),_:1})])),_:1})];o(g(j,{elevation:"10",class:"stat-card"},{default:a(((t,o,n,i)=>{if(!o)return[r(k,null,{prepend:a((()=>[r(L,{color:"primary",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-star"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Creator Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.creator_shares)+"%",1)])),_:1})])),_:1})];o(g(k,null,{prepend:a(((e,t,l,s)=>{if(!t)return[r(L,{color:"primary",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-star"})])),_:1})];t(g(L,{color:"primary",variant:"tonal"},{default:a(((e,t,a,l)=>{if(!t)return[r(P,{icon:"mdi-account-star"})];t(g(P,{icon:"mdi-account-star"},null,a,l))})),_:1},l,s))})),default:a(((t,o,n,i)=>{if(!o)return[r(C,null,{default:a((()=>[l(" Creator Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.creator_shares)+"%",1)])),_:1})];o(g(C,null,{default:a(((t,a,o,n)=>{if(!a)return[l(" Creator Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.creator_shares)+"%",1)];a(` Creator Shares <div class="text-h5 mt-2" data-v-99942dd1${n}>${y(e.stats.creator_shares)}%</div>`)})),_:1},n,i))})),_:1},n,i))})),_:1},n,i))})),_:1},n,i)),o(g(z,{cols:"12",sm:"4"},{default:a(((t,o,n,i)=>{if(!o)return[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"success",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-group"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Investor Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.investor_shares)+"%",1)])),_:1})])),_:1})])),_:1})];o(g(j,{elevation:"10",class:"stat-card"},{default:a(((t,o,n,i)=>{if(!o)return[r(k,null,{prepend:a((()=>[r(L,{color:"success",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-group"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Investor Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.investor_shares)+"%",1)])),_:1})])),_:1})];o(g(k,null,{prepend:a(((e,t,l,s)=>{if(!t)return[r(L,{color:"success",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-group"})])),_:1})];t(g(L,{color:"success",variant:"tonal"},{default:a(((e,t,a,l)=>{if(!t)return[r(P,{icon:"mdi-account-group"})];t(g(P,{icon:"mdi-account-group"},null,a,l))})),_:1},l,s))})),default:a(((t,o,n,i)=>{if(!o)return[r(C,null,{default:a((()=>[l(" Investor Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.investor_shares)+"%",1)])),_:1})];o(g(C,null,{default:a(((t,a,o,n)=>{if(!a)return[l(" Investor Shares "),r("div",{class:"text-h5 mt-2"},s(e.stats.investor_shares)+"%",1)];a(` Investor Shares <div class="text-h5 mt-2" data-v-99942dd1${n}>${y(e.stats.investor_shares)}%</div>`)})),_:1},n,i))})),_:1},n,i))})),_:1},n,i))})),_:1},n,i)),o(g(z,{cols:"12",sm:"4"},{default:a(((t,o,n,i)=>{if(!o)return[r(j,{elevation:"10",class:"stat-card"},{default:a((()=>[r(k,null,{prepend:a((()=>[r(L,{color:"info",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-multiple"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Total Investors "),r("div",{class:"text-h5 mt-2"},s(e.stats.total_investors),1)])),_:1})])),_:1})])),_:1})];o(g(j,{elevation:"10",class:"stat-card"},{default:a(((t,o,n,i)=>{if(!o)return[r(k,null,{prepend:a((()=>[r(L,{color:"info",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-multiple"})])),_:1})])),default:a((()=>[r(C,null,{default:a((()=>[l(" Total Investors "),r("div",{class:"text-h5 mt-2"},s(e.stats.total_investors),1)])),_:1})])),_:1})];o(g(k,null,{prepend:a(((e,t,l,s)=>{if(!t)return[r(L,{color:"info",variant:"tonal"},{default:a((()=>[r(P,{icon:"mdi-account-multiple"})])),_:1})];t(g(L,{color:"info",variant:"tonal"},{default:a(((e,t,a,l)=>{if(!t)return[r(P,{icon:"mdi-account-multiple"})];t(g(P,{icon:"mdi-account-multiple"},null,a,l))})),_:1},l,s))})),default:a(((t,o,n,i)=>{if(!o)return[r(C,null,{default:a((()=>[l(" Total Investors "),r("div",{class:"text-h5 mt-2"},s(e.stats.total_investors),1)])),_:1})];o(g(C,null,{default:a(((t,a,o,n)=>{if(!a)return[l(" Total Investors "),r("div",{class:"text-h5 mt-2"},s(e.stats.total_investors),1)];a(` Total Investors <div class="text-h5 mt-2" data-v-99942dd1${n}>${y(e.stats.total_investors)}</div>`)})),_:1},n,i))})),_:1},n,i))})),_:1},n,i))})),_:1},n,i))})),_:1},o)),t("</div>")}}),ce=de.setup;de.setup=(t,a)=>{const l=e();return(l.modules||(l.modules=new Set)).add("components/project/ProjectInvestorSharePercentageTracker.vue"),ce?ce(t,a):void 0};const ve=N(de,[["__scopeId","data-v-99942dd1"]]),pe=t({__name:"ProjectInvestorCard",__ssrInlineRender:!0,props:{investor:{}},setup(e){const formatPercentage=e=>e.toFixed(2);return(e,t,d,c)=>{const v=M,p=F,m=B,f=R;e.investor?t(g(v,o({class:"project-investor-card"},c),{default:a(((t,o,d,c)=>{var v,h,_,b,I,j,k,C;if(!o)return[r("div",{class:"project-investor-card__content"},[r("div",{class:"project-investor-card__profile"},[e.investor.investorable_type.endsWith("Page")&&null!==e.investor.investorable?(n(),i(p,{key:0,page:e.investor.investorable,size:"lg",class:"project-investor-card__avatar"},null,8,["page"])):e.investor.investorable_type.endsWith("User")&&null!==e.investor.investorable?(n(),i(m,{key:1,username:e.investor.investorable.username||"",profile_photo:e.investor.investorable.profile_photo||"",size:"lg",class:"project-investor-card__avatar"},null,8,["username","profile_photo"])):(n(),i("div",{key:2,class:"missing-investorable"},[r("p",null,"Unknown or missing investor data")])),r("div",{class:"project-investor-card__info"},[r("h3",{class:"text-h6 font-weight-medium mb-1"},s((null==(I=e.investor.investorable)?void 0:I.display_name)||(null==(j=e.investor.investorable)?void 0:j.name)||"N/A"),1),r("span",{class:"text-subtitle-2 text-medium-emphasis d-flex align-center"},[r(P,{size:"small",class:"mr-1"},{default:a((()=>[l("mdi-at")])),_:1}),l(" "+s((null==(k=e.investor.investorable)?void 0:k.username)||(null==(C=e.investor.investorable)?void 0:C.slug)||"N/A"),1)])])]),r("div",{class:"project-investor-card__details"},[r("div",{class:"project-investor-card__share"},[r("div",{class:"share-percentage"},[r("span",{class:"text-h5 font-weight-bold"},s(formatPercentage(e.investor.share_percentage)),1),r("span",{class:"text-subtitle-1 text-medium-emphasis"},"%")]),r("span",{class:"text-caption text-medium-emphasis"}," Share Percentage ")]),r(f,{status:e.investor.status,class:"project-investor-card__status"},null,8,["status"])]),r("div",{class:"project-investor-card__actions"},[u(e.$slots,"actions",{},void 0,!0)])])];o(`<div class="project-investor-card__content" data-v-a90a04d4${c}><div class="project-investor-card__profile" data-v-a90a04d4${c}>`),e.investor.investorable_type.endsWith("Page")&&null!==e.investor.investorable?o(g(p,{page:e.investor.investorable,size:"lg",class:"project-investor-card__avatar"},null,d,c)):e.investor.investorable_type.endsWith("User")&&null!==e.investor.investorable?o(g(m,{username:e.investor.investorable.username||"",profile_photo:e.investor.investorable.profile_photo||"",size:"lg",class:"project-investor-card__avatar"},null,d,c)):o(`<div class="missing-investorable" data-v-a90a04d4${c}><p data-v-a90a04d4${c}>Unknown or missing investor data</p></div>`),o(`<div class="project-investor-card__info" data-v-a90a04d4${c}><h3 class="text-h6 font-weight-medium mb-1" data-v-a90a04d4${c}>${y((null==(v=e.investor.investorable)?void 0:v.display_name)||(null==(h=e.investor.investorable)?void 0:h.name)||"N/A")}</h3><span class="text-subtitle-2 text-medium-emphasis d-flex align-center" data-v-a90a04d4${c}>`),o(g(P,{size:"small",class:"mr-1"},{default:a(((e,t,a,r)=>{if(!t)return[l("mdi-at")];t("mdi-at")})),_:1},d,c)),o(` ${y((null==(_=e.investor.investorable)?void 0:_.username)||(null==(b=e.investor.investorable)?void 0:b.slug)||"N/A")}</span></div></div><div class="project-investor-card__details" data-v-a90a04d4${c}><div class="project-investor-card__share" data-v-a90a04d4${c}><div class="share-percentage" data-v-a90a04d4${c}><span class="text-h5 font-weight-bold" data-v-a90a04d4${c}>${y(formatPercentage(e.investor.share_percentage))}</span><span class="text-subtitle-1 text-medium-emphasis" data-v-a90a04d4${c}>%</span></div><span class="text-caption text-medium-emphasis" data-v-a90a04d4${c}> Share Percentage </span></div>`),o(g(f,{status:e.investor.status,class:"project-investor-card__status"},null,d,c)),o(`</div><div class="project-investor-card__actions" data-v-a90a04d4${c}>`),x(e.$slots,"actions",{},null,o,d,c),o("</div></div>")})),_:3},d)):t("\x3c!----\x3e")}}}),me=pe.setup;pe.setup=(t,a)=>{const l=e();return(l.modules||(l.modules=new Set)).add("components/project/ProjectInvestorCard.vue"),me?me(t,a):void 0};const fe=N(pe,[["__scopeId","data-v-a90a04d4"]]),he={__name:"InvestorSearch",__ssrInlineRender:!0,props:{placeholder:{type:String,default:"Search for investors by name"},minSearchLength:{type:Number,default:2},debounceMs:{type:Number,default:300},filterType:{type:String,default:null,validator:e=>null===e||["user","page"].includes(e)}},emits:["user-selected","page-selected","item-selected"],setup(e,{emit:t}){const n=e,i=t,{$axios:u}=$(),{debounce:c}=W(),p=d(""),f=d([]),h=d(null),_=d(!1),b=d(!1),x=d(!1),I=d(""),k=d(!1),V=c((async e=>{var t,a;if(p.value=e,!e||e.trim().length<n.minSearchLength)return f.value=[],void(k.value=!1);try{_.value=!0,k.value=!0;const t=await u.get("/api/search/investors",{params:{query:e.trim(),limit:10,type:n.filterType}});f.value=t.data.data||[],k.value&&0===f.value.length&&e.trim().length>=n.minSearchLength&&!b.value?b.value=!0:f.value.length>0&&(b.value=!1)}catch(e){console.error("Search error:",e),I.value=(null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"An error occurred while searching",x.value=!0,f.value=[]}finally{_.value=!1}}),n.debounceMs,"search"),onItemSelected=e=>{e&&("user"===e.type?i("user-selected",e):i("page-selected",e),i("item-selected",e),setTimeout((()=>{h.value=null,p.value="",k.value=!1}),100))},clearSearch=()=>{p.value="",f.value=[],h.value=null,k.value=!1,b.value=!1},getItemAvatar=e=>"user"===e.type?e.profile_photo||"/default-avatar.png":e.avatar_url||"/default-avatar.png",getItemTitle=e=>"user"===e.type?e.name||e.display_name||e.username:e.name||e.display_name||"",getItemSubtitle=e=>"user"===e.type?`@${e.username}`:`@${e.slug}`;return v(p,(e=>{e&&""!==e.trim()||(f.value=[],b.value=!1)})),(t,n,i,u)=>{n(g(j,o({class:"investor-search",flat:""},u),{default:a(((t,n,i,u)=>{if(!n)return[r(w,null,{default:a((()=>[r(O,{modelValue:h.value,"onUpdate:modelValue":[e=>h.value=e,onItemSelected],loading:_.value,items:f.value,"search-input":p.value,"onUpdate:search":m(V),placeholder:e.placeholder,"prepend-inner-icon":"mdi-magnify","item-title":"name","item-value":"id","return-object":"","hide-details":"",variant:"outlined",density:"comfortable",clearable:"","no-filter":"","onClick:clear":clearSearch},{"no-data":a((()=>[r(X,null,{default:a((()=>[r(Y,null,{default:a((()=>[l(s(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search"),1)])),_:1})])),_:1})])),item:a((({item:e,props:t})=>[r(X,o(t,{title:getItemTitle(e.raw),subtitle:getItemSubtitle(e.raw)}),{prepend:a((()=>[r(L,{size:"36",color:"grey-lighten-3"},{default:a((()=>[r(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,8,["src","alt"])])),_:2},1024)])),append:a((()=>[r(K,{size:"small",color:"user"===e.raw.type?"primary":"secondary","text-color":"white",class:"ml-2"},{default:a((()=>[l(s("user"===e.raw.type?"User":"Page"),1)])),_:2},1032,["color"])])),_:2},1040,["title","subtitle"])])),_:1},8,["modelValue","onUpdate:modelValue","loading","items","search-input","onUpdate:search","placeholder"])])),_:1}),r(H,{modelValue:b.value,"onUpdate:modelValue":e=>b.value=e,"max-width":"300"},{default:a((()=>[r(j,null,{default:a((()=>[r(C,{class:"text-h6"},{default:a((()=>[l("No Results Found")])),_:1}),r(w,null,{default:a((()=>[l(" No investors found matching your search criteria. ")])),_:1}),r(S,null,{default:a((()=>[r(J),r(E,{color:"primary",onClick:e=>b.value=!1},{default:a((()=>[l(" Close ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),r(Q,{modelValue:x.value,"onUpdate:modelValue":e=>x.value=e,color:"error",timeout:3e3},{default:a((()=>[l(s(I.value),1)])),_:1},8,["modelValue","onUpdate:modelValue"])];n(g(w,null,{default:a(((t,n,i,u)=>{if(!n)return[r(O,{modelValue:h.value,"onUpdate:modelValue":[e=>h.value=e,onItemSelected],loading:_.value,items:f.value,"search-input":p.value,"onUpdate:search":m(V),placeholder:e.placeholder,"prepend-inner-icon":"mdi-magnify","item-title":"name","item-value":"id","return-object":"","hide-details":"",variant:"outlined",density:"comfortable",clearable:"","no-filter":"","onClick:clear":clearSearch},{"no-data":a((()=>[r(X,null,{default:a((()=>[r(Y,null,{default:a((()=>[l(s(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search"),1)])),_:1})])),_:1})])),item:a((({item:e,props:t})=>[r(X,o(t,{title:getItemTitle(e.raw),subtitle:getItemSubtitle(e.raw)}),{prepend:a((()=>[r(L,{size:"36",color:"grey-lighten-3"},{default:a((()=>[r(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,8,["src","alt"])])),_:2},1024)])),append:a((()=>[r(K,{size:"small",color:"user"===e.raw.type?"primary":"secondary","text-color":"white",class:"ml-2"},{default:a((()=>[l(s("user"===e.raw.type?"User":"Page"),1)])),_:2},1032,["color"])])),_:2},1040,["title","subtitle"])])),_:1},8,["modelValue","onUpdate:modelValue","loading","items","search-input","onUpdate:search","placeholder"])];n(g(O,{modelValue:h.value,"onUpdate:modelValue":[e=>h.value=e,onItemSelected],loading:_.value,items:f.value,"search-input":p.value,"onUpdate:search":m(V),placeholder:e.placeholder,"prepend-inner-icon":"mdi-magnify","item-title":"name","item-value":"id","return-object":"","hide-details":"",variant:"outlined",density:"comfortable",clearable:"","no-filter":"","onClick:clear":clearSearch},{"no-data":a(((t,o,n,i)=>{if(!o)return[r(X,null,{default:a((()=>[r(Y,null,{default:a((()=>[l(s(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search"),1)])),_:1})])),_:1})];o(g(X,null,{default:a(((t,o,n,i)=>{if(!o)return[r(Y,null,{default:a((()=>[l(s(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search"),1)])),_:1})];o(g(Y,null,{default:a(((t,a,r,o)=>{if(!a)return[l(s(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search"),1)];a(`${y(e.minSearchLength?`Type at least ${e.minSearchLength} characters to search`:"Start typing to search")}`)})),_:1},n,i))})),_:1},n,i))})),item:a((({item:e,props:t},n,i,u)=>{if(!n)return[r(X,o(t,{title:getItemTitle(e.raw),subtitle:getItemSubtitle(e.raw)}),{prepend:a((()=>[r(L,{size:"36",color:"grey-lighten-3"},{default:a((()=>[r(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,8,["src","alt"])])),_:2},1024)])),append:a((()=>[r(K,{size:"small",color:"user"===e.raw.type?"primary":"secondary","text-color":"white",class:"ml-2"},{default:a((()=>[l(s("user"===e.raw.type?"User":"Page"),1)])),_:2},1032,["color"])])),_:2},1040,["title","subtitle"])];n(g(X,o(t,{title:getItemTitle(e.raw),subtitle:getItemSubtitle(e.raw)}),{prepend:a(((t,l,s,o)=>{if(!l)return[r(L,{size:"36",color:"grey-lighten-3"},{default:a((()=>[r(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,8,["src","alt"])])),_:2},1024)];l(g(L,{size:"36",color:"grey-lighten-3"},{default:a(((t,a,l,s)=>{if(!a)return[r(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,8,["src","alt"])];a(g(G,{src:getItemAvatar(e.raw),alt:getItemTitle(e.raw)},null,l,s))})),_:2},s,o))})),append:a(((t,o,n,i)=>{if(!o)return[r(K,{size:"small",color:"user"===e.raw.type?"primary":"secondary","text-color":"white",class:"ml-2"},{default:a((()=>[l(s("user"===e.raw.type?"User":"Page"),1)])),_:2},1032,["color"])];o(g(K,{size:"small",color:"user"===e.raw.type?"primary":"secondary","text-color":"white",class:"ml-2"},{default:a(((t,a,r,o)=>{if(!a)return[l(s("user"===e.raw.type?"User":"Page"),1)];a(`${y("user"===e.raw.type?"User":"Page")}`)})),_:2},n,i))})),_:2},i,u))})),_:1},i,u))})),_:1},i,u)),n(g(H,{modelValue:b.value,"onUpdate:modelValue":e=>b.value=e,"max-width":"300"},{default:a(((e,t,s,o)=>{if(!t)return[r(j,null,{default:a((()=>[r(C,{class:"text-h6"},{default:a((()=>[l("No Results Found")])),_:1}),r(w,null,{default:a((()=>[l(" No investors found matching your search criteria. ")])),_:1}),r(S,null,{default:a((()=>[r(J),r(E,{color:"primary",onClick:e=>b.value=!1},{default:a((()=>[l(" Close ")])),_:1},8,["onClick"])])),_:1})])),_:1})];t(g(j,null,{default:a(((e,t,s,o)=>{if(!t)return[r(C,{class:"text-h6"},{default:a((()=>[l("No Results Found")])),_:1}),r(w,null,{default:a((()=>[l(" No investors found matching your search criteria. ")])),_:1}),r(S,null,{default:a((()=>[r(J),r(E,{color:"primary",onClick:e=>b.value=!1},{default:a((()=>[l(" Close ")])),_:1},8,["onClick"])])),_:1})];t(g(C,{class:"text-h6"},{default:a(((e,t,a,r)=>{if(!t)return[l("No Results Found")];t("No Results Found")})),_:1},s,o)),t(g(w,null,{default:a(((e,t,a,r)=>{if(!t)return[l(" No investors found matching your search criteria. ")];t(" No investors found matching your search criteria. ")})),_:1},s,o)),t(g(S,null,{default:a(((e,t,s,o)=>{if(!t)return[r(J),r(E,{color:"primary",onClick:e=>b.value=!1},{default:a((()=>[l(" Close ")])),_:1},8,["onClick"])];t(g(J,null,null,s,o)),t(g(E,{color:"primary",onClick:e=>b.value=!1},{default:a(((e,t,a,r)=>{if(!t)return[l(" Close ")];t(" Close ")})),_:1},s,o))})),_:1},s,o))})),_:1},s,o))})),_:1},i,u)),n(g(Q,{modelValue:x.value,"onUpdate:modelValue":e=>x.value=e,color:"error",timeout:3e3},{default:a(((e,t,a,r)=>{if(!t)return[l(s(I.value),1)];t(`${y(I.value)}`)})),_:1},i,u))})),_:1},i))}}},_e=he.setup;he.setup=(t,a)=>{const l=e();return(l.modules||(l.modules=new Set)).add("components/investor/InvestorSearch.vue"),_e?_e(t,a):void 0};const ge=N(he,[["__scopeId","data-v-ad070cbe"]]),ye=V("projectInvestors",{state:()=>({projectInvestors:[],stats:null,meta:null,isLoading:!1,error:null}),getters:{hasMore:e=>!!e.meta&&e.meta.current_page<e.meta.last_page},actions:{async fetchProjectInvestors(e,t=1,a=15){var l,r,s,o;this.isLoading=1===t,this.error=null;try{const{$axios:n}=$(),i=await n.get(`/api/projects/${e}/project_investors`,{params:{page:t,per_page:a}});this.projectInvestors=1===t?i.data.data:[...this.projectInvestors,...i.data.data];const u=null!=(l=null==(s=i.data.meta)?void 0:s.total)?l:0,d=null!=(r=null==(o=i.data.meta)?void 0:o.pages)?r:1;this.meta={total:u,pages:d,current_page:t,last_page:d},i.data.stats&&(this.stats=i.data.stats)}catch(e){throw this.error=this.extractErrorMessage(e),console.error(e),e}finally{this.isLoading=!1}},async createProjectInvestor(e,t){this.isLoading=!0,this.error=null;try{const{$axios:a}=$(),l=await a.post(`/api/projects/${e}/project_investors`,t),r=l.data.data;return this.projectInvestors.push(r),this.meta&&"number"==typeof this.meta.total&&this.meta.total++,l.data.stats&&(this.stats=l.data.stats),l.data}catch(e){throw console.error("Error creating project investor:",e),this.error=this.extractErrorMessage(e),e}finally{this.isLoading=!1}},async updateProjectInvestor(e,t,a){this.isLoading=!0,this.error=null;try{const{$axios:l}=$(),r=await l.put(`/api/projects/${e}/project_investors/${t}`,a),s=r.data.data,o=this.projectInvestors.findIndex((e=>e.id===t));return-1!==o&&(this.projectInvestors[o]={...this.projectInvestors[o],...s}),r.data.stats&&(this.stats=r.data.stats),r.data}catch(e){throw console.error("Error updating project investor:",e),this.error=this.extractErrorMessage(e),e}finally{this.isLoading=!1}},async deleteProjectInvestor(e,t){this.isLoading=!0,this.error=null;try{if(!e||!t)throw new Error("Missing required parameters");const{$axios:a}=$();await a.delete(`/api/projects/${e}/project_investors/${t}`),this.projectInvestors=this.projectInvestors.filter((e=>e.id!==t)),this.meta&&"number"==typeof this.meta.total&&this.meta.total--;try{const t=await a.get(`/api/projects/${e}/project_investors/stats`);t.data.stats&&(this.stats=t.data.stats)}catch(e){console.warn("Could not fetch updated stats",e)}}catch(e){throw console.error("Error deleting project investor:",e),this.error=this.extractErrorMessage(e),e}finally{this.isLoading=!1}},extractErrorMessage(e){let t="Failed to complete the operation. Please try again.";if(!e.response)return t;const a=e.response.data;if(a.message)return a.message;if(a.errors&&"object"==typeof a.errors){const e=Object.keys(a.errors)[0];if(e&&Array.isArray(a.errors[e])&&a.errors[e][0])return a.errors[e][0]}return t},resetState(){this.projectInvestors=[],this.stats=null,this.meta=null,this.isLoading=!1,this.error=null}}}),be=t({__name:"AddProjectInvestorDialog",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},accessUuid:{},editingInvestor:{}},emits:["update:modelValue","investor-added","investor-updated"],setup(e,{emit:t}){const u=e,m=t,f=ye(),h=d(1),_=d(null),b=d(0),x=d(!1),I=d(""),k=d(""),V=c({get:()=>u.modelValue,set:e=>m("update:modelValue",e)}),$=c((()=>!!u.editingInvestor)),U=c((()=>{var e,t;if(!_.value)return!1;const a=Number(b.value);if(isNaN(a)||a<=0||a>100)return!1;if($.value&&u.editingInvestor){return parseFloat(a.toFixed(2))!==parseFloat(u.editingInvestor.share_percentage.toFixed(2))||(null==(e=_.value)?void 0:e.id)!==(null==(t=u.editingInvestor.investorable)?void 0:t.id)}return!0})),A=[e=>""!==e||"Equity percentage is required",e=>{const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"Please enter a valid number":t>0&&t<=100||"Equity must be between 0.01 and 100%"}];function getInvestorableName(){return _.value?"user"===_.value.type?_.value.name||_.value.display_name||"":_.value.name||"":""}function getInitials(e){return e?e.split(" ").map((e=>e[0])).join("").toUpperCase().slice(0,2):""}function handleInvestorableSelected(e){_.value={...e},h.value=2}function clearErrors(){k.value="",I.value=""}async function confirmInvestor(){var e;if(U.value&&_.value){x.value=!0,clearErrors();try{const t=Number(b.value),a="user"===_.value.type?"App\\Models\\User":"App\\Models\\Page",l=parseFloat(t.toFixed(2));if(isNaN(l)||l<=0||l>100)return void(I.value="Please enter a valid equity percentage between 0.01 and 100");$.value&&u.editingInvestor?(await f.updateProjectInvestor(u.accessUuid,u.editingInvestor.id,{share_percentage:l,..._.value.id!==(null==(e=u.editingInvestor.investorable)?void 0:e.id)?{investorable_type:a,investorable_id:_.value.id}:{}}),m("investor-updated")):(await f.createProjectInvestor(u.accessUuid,{investorable_type:a,investorable_id:_.value.id,share_percentage:l}),m("investor-added")),closeDialog()}catch(e){!function(e){var t;clearErrors();const a=null==(t=e.response)?void 0:t.data;if(a)if(a.errors){const e=a.errors,t=[];e.share_percentage&&(I.value=e.share_percentage[0],t.push(`Equity: ${e.share_percentage[0]}`)),e.investorable_id&&t.push(e.investorable_id[0]),e.investorable_type&&t.push(e.investorable_type[0]);const l=Object.entries(e).filter((([e])=>!["share_percentage","investorable_id","investorable_type"].includes(e))).map((([e,t])=>`${e}: ${t[0]}`));l.length>0&&t.push(...l),t.length>0&&(k.value=t.join(". "))}else a.message&&(k.value=a.message);k.value||I.value||(k.value="An error occurred. Please try again.")}(e)}finally{x.value=!1}}}function closeDialog(){V.value=!1,resetForm()}function resetForm(){h.value=1,_.value=null,b.value=0,clearErrors(),x.value=!1}return v((()=>u.modelValue),(e=>{if(e&&u.editingInvestor){const e=u.editingInvestor.investorable_type.toLowerCase().includes("user")?"user":"page";_.value={...u.editingInvestor.investorable,type:e},b.value=Number(u.editingInvestor.share_percentage),h.value=2}else e||resetForm()})),v((()=>u.editingInvestor),(e=>{if(e){const t=e.investorable_type.toLowerCase().includes("user")?"user":"page";_.value={...e.investorable,type:t},b.value=Number(e.share_percentage),h.value=2}}),{immediate:!0}),(e,t,u,d)=>{const c=ge;t(g(H,o({modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,"max-width":"600px",persistent:""},d),{default:a(((e,t,o,u)=>{if(!t)return[r(j,null,{default:a((()=>[r(C,{class:"d-flex justify-space-between align-center pa-4"},{default:a((()=>[r("div",null,[r("h2",{class:"text-h5 mb-1"},s($.value?"Edit Investor":"Add Investor"),1),r("p",{class:"text-body-2 text-grey mb-0"},s($.value?"Modify this investor's share in your project":"Add a new investor to your project"),1)]),r(E,{icon:"",variant:"text",onClick:closeDialog},{default:a((()=>[r(P,null,{default:a((()=>[l("mdi-close")])),_:1})])),_:1})])),_:1}),k.value?(n(),i(Z,{key:0,type:"error",variant:"tonal",closable:"",class:"mx-4 mt-2","onClick:close":e=>k.value=""},{default:a((()=>[l(s(k.value),1)])),_:1},8,["onClick:close"])):p("",!0),r(ee),r(w,{class:"pa-4"},{default:a((()=>[r(te,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e},{default:a((()=>[r(ae,{value:1},{default:a((()=>[r("div",{class:"mb-4"},[r("h3",{class:"text-h6 mb-2"},"Search Investor"),r("p",{class:"text-body-2 text-grey-darken-1"}," Search for an investor to add to your project. ")]),r(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected})])),_:1}),r(ae,{value:2},{default:a((()=>[r("div",{class:"mb-6"},[r("h3",{class:"text-h6 mb-2"},"Set Investor Equity"),r("p",{class:"text-body-2 text-grey-darken-1"}," Define the equity percentage for this investor. They will receive this percentage of project earnings. ")]),r(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a((()=>{var e,t,o;return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(e=_.value)?void 0:e.slug)||(null==(t=_.value)?void 0:t.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(o=_.value)?void 0:o.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])]})),_:1}),r(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a((()=>[r("span",{class:"text-grey"},"%")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1}),r(ee),r(S,{class:"pa-4"},{default:a((()=>[2===h.value?(n(),i(E,{key:0,variant:"outlined",onClick:e=>h.value=1,class:"mr-2"},{default:a((()=>[l(" Back ")])),_:1},8,["onClick"])):p("",!0),r(J),2===h.value?(n(),i(E,{key:1,color:"primary",loading:x.value,disabled:!U.value||x.value,onClick:confirmInvestor},{default:a((()=>[l(s($.value?"Update Investor":"Add Investor"),1)])),_:1},8,["loading","disabled"])):p("",!0)])),_:1})])),_:1})];t(g(j,null,{default:a(((e,t,o,u)=>{if(!t)return[r(C,{class:"d-flex justify-space-between align-center pa-4"},{default:a((()=>[r("div",null,[r("h2",{class:"text-h5 mb-1"},s($.value?"Edit Investor":"Add Investor"),1),r("p",{class:"text-body-2 text-grey mb-0"},s($.value?"Modify this investor's share in your project":"Add a new investor to your project"),1)]),r(E,{icon:"",variant:"text",onClick:closeDialog},{default:a((()=>[r(P,null,{default:a((()=>[l("mdi-close")])),_:1})])),_:1})])),_:1}),k.value?(n(),i(Z,{key:0,type:"error",variant:"tonal",closable:"",class:"mx-4 mt-2","onClick:close":e=>k.value=""},{default:a((()=>[l(s(k.value),1)])),_:1},8,["onClick:close"])):p("",!0),r(ee),r(w,{class:"pa-4"},{default:a((()=>[r(te,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e},{default:a((()=>[r(ae,{value:1},{default:a((()=>[r("div",{class:"mb-4"},[r("h3",{class:"text-h6 mb-2"},"Search Investor"),r("p",{class:"text-body-2 text-grey-darken-1"}," Search for an investor to add to your project. ")]),r(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected})])),_:1}),r(ae,{value:2},{default:a((()=>[r("div",{class:"mb-6"},[r("h3",{class:"text-h6 mb-2"},"Set Investor Equity"),r("p",{class:"text-body-2 text-grey-darken-1"}," Define the equity percentage for this investor. They will receive this percentage of project earnings. ")]),r(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a((()=>{var e,t,o;return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(e=_.value)?void 0:e.slug)||(null==(t=_.value)?void 0:t.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(o=_.value)?void 0:o.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])]})),_:1}),r(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a((()=>[r("span",{class:"text-grey"},"%")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1}),r(ee),r(S,{class:"pa-4"},{default:a((()=>[2===h.value?(n(),i(E,{key:0,variant:"outlined",onClick:e=>h.value=1,class:"mr-2"},{default:a((()=>[l(" Back ")])),_:1},8,["onClick"])):p("",!0),r(J),2===h.value?(n(),i(E,{key:1,color:"primary",loading:x.value,disabled:!U.value||x.value,onClick:confirmInvestor},{default:a((()=>[l(s($.value?"Update Investor":"Add Investor"),1)])),_:1},8,["loading","disabled"])):p("",!0)])),_:1})];t(g(C,{class:"d-flex justify-space-between align-center pa-4"},{default:a(((e,t,o,n)=>{if(!t)return[r("div",null,[r("h2",{class:"text-h5 mb-1"},s($.value?"Edit Investor":"Add Investor"),1),r("p",{class:"text-body-2 text-grey mb-0"},s($.value?"Modify this investor's share in your project":"Add a new investor to your project"),1)]),r(E,{icon:"",variant:"text",onClick:closeDialog},{default:a((()=>[r(P,null,{default:a((()=>[l("mdi-close")])),_:1})])),_:1})];t(`<div data-v-b2c15a68${n}><h2 class="text-h5 mb-1" data-v-b2c15a68${n}>${y($.value?"Edit Investor":"Add Investor")}</h2><p class="text-body-2 text-grey mb-0" data-v-b2c15a68${n}>${y($.value?"Modify this investor's share in your project":"Add a new investor to your project")}</p></div>`),t(g(E,{icon:"",variant:"text",onClick:closeDialog},{default:a(((e,t,s,o)=>{if(!t)return[r(P,null,{default:a((()=>[l("mdi-close")])),_:1})];t(g(P,null,{default:a(((e,t,a,r)=>{if(!t)return[l("mdi-close")];t("mdi-close")})),_:1},s,o))})),_:1},o,n))})),_:1},o,u)),k.value?t(g(Z,{type:"error",variant:"tonal",closable:"",class:"mx-4 mt-2","onClick:close":e=>k.value=""},{default:a(((e,t,a,r)=>{if(!t)return[l(s(k.value),1)];t(`${y(k.value)}`)})),_:1},o,u)):t("\x3c!----\x3e"),t(g(ee,null,null,o,u)),t(g(w,{class:"pa-4"},{default:a(((e,t,o,u)=>{if(!t)return[r(te,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e},{default:a((()=>[r(ae,{value:1},{default:a((()=>[r("div",{class:"mb-4"},[r("h3",{class:"text-h6 mb-2"},"Search Investor"),r("p",{class:"text-body-2 text-grey-darken-1"}," Search for an investor to add to your project. ")]),r(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected})])),_:1}),r(ae,{value:2},{default:a((()=>[r("div",{class:"mb-6"},[r("h3",{class:"text-h6 mb-2"},"Set Investor Equity"),r("p",{class:"text-body-2 text-grey-darken-1"}," Define the equity percentage for this investor. They will receive this percentage of project earnings. ")]),r(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a((()=>{var e,t,o;return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(e=_.value)?void 0:e.slug)||(null==(t=_.value)?void 0:t.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(o=_.value)?void 0:o.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])]})),_:1}),r(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a((()=>[r("span",{class:"text-grey"},"%")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])];t(g(te,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e},{default:a(((e,t,o,u)=>{if(!t)return[r(ae,{value:1},{default:a((()=>[r("div",{class:"mb-4"},[r("h3",{class:"text-h6 mb-2"},"Search Investor"),r("p",{class:"text-body-2 text-grey-darken-1"}," Search for an investor to add to your project. ")]),r(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected})])),_:1}),r(ae,{value:2},{default:a((()=>[r("div",{class:"mb-6"},[r("h3",{class:"text-h6 mb-2"},"Set Investor Equity"),r("p",{class:"text-body-2 text-grey-darken-1"}," Define the equity percentage for this investor. They will receive this percentage of project earnings. ")]),r(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a((()=>{var e,t,o;return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(e=_.value)?void 0:e.slug)||(null==(t=_.value)?void 0:t.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(o=_.value)?void 0:o.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])]})),_:1}),r(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a((()=>[r("span",{class:"text-grey"},"%")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"])])),_:1})];t(g(ae,{value:1},{default:a(((e,t,a,l)=>{if(!t)return[r("div",{class:"mb-4"},[r("h3",{class:"text-h6 mb-2"},"Search Investor"),r("p",{class:"text-body-2 text-grey-darken-1"}," Search for an investor to add to your project. ")]),r(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected})];t(`<div class="mb-4" data-v-b2c15a68${l}><h3 class="text-h6 mb-2" data-v-b2c15a68${l}>Search Investor</h3><p class="text-body-2 text-grey-darken-1" data-v-b2c15a68${l}> Search for an investor to add to your project. </p></div>`),t(g(c,{"min-search-length":2,"debounce-ms":300,onUserSelected:handleInvestorableSelected,onPageSelected:handleInvestorableSelected},null,a,l))})),_:1},o,u)),t(g(ae,{value:2},{default:a(((e,t,o,u)=>{if(!t)return[r("div",{class:"mb-6"},[r("h3",{class:"text-h6 mb-2"},"Set Investor Equity"),r("p",{class:"text-body-2 text-grey-darken-1"}," Define the equity percentage for this investor. They will receive this percentage of project earnings. ")]),r(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a((()=>{var e,t,o;return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(e=_.value)?void 0:e.slug)||(null==(t=_.value)?void 0:t.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(o=_.value)?void 0:o.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])]})),_:1}),r(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a((()=>[r("span",{class:"text-grey"},"%")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"])];t(`<div class="mb-6" data-v-b2c15a68${u}><h3 class="text-h6 mb-2" data-v-b2c15a68${u}>Set Investor Equity</h3><p class="text-body-2 text-grey-darken-1" data-v-b2c15a68${u}> Define the equity percentage for this investor. They will receive this percentage of project earnings. </p></div>`),t(g(j,{variant:"outlined",class:"mb-6 pa-3"},{default:a(((e,t,o,u)=>{var d,c,v,p,m,f;if(!t)return[r("div",{class:"d-flex align-center"},[r(L,{size:"40",color:"primary",class:"mr-3"},{default:a((()=>{var e,t,a,l;return[(null==(e=_.value)?void 0:e.avatar_url)||(null==(t=_.value)?void 0:t.profile_photo)?(n(),i(G,{key:0,src:(null==(a=_.value)?void 0:a.avatar_url)||(null==(l=_.value)?void 0:l.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))]})),_:1}),r("div",null,[r("div",{class:"text-subtitle-1 font-weight-medium"},s(getInvestorableName()),1),r("div",{class:"text-caption text-grey"}," @"+s((null==(p=_.value)?void 0:p.slug)||(null==(m=_.value)?void 0:m.username)),1),r("div",{class:"text-caption text-primary"},s("user"===(null==(f=_.value)?void 0:f.type)?"User":"Page"),1)]),r(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a((()=>[l(" Change ")])),_:1},8,["onClick"])])];t(`<div class="d-flex align-center" data-v-b2c15a68${u}>`),t(g(L,{size:"40",color:"primary",class:"mr-3"},{default:a(((e,t,a,l)=>{var r,o,u,d,c,v,p,m;if(!t)return[(null==(c=_.value)?void 0:c.avatar_url)||(null==(v=_.value)?void 0:v.profile_photo)?(n(),i(G,{key:0,src:(null==(p=_.value)?void 0:p.avatar_url)||(null==(m=_.value)?void 0:m.profile_photo),alt:getInvestorableName()},null,8,["src","alt"])):(n(),i("span",{key:1,class:"text-h6 white--text"},s(getInitials(getInvestorableName())),1))];(null==(r=_.value)?void 0:r.avatar_url)||(null==(o=_.value)?void 0:o.profile_photo)?t(g(G,{src:(null==(u=_.value)?void 0:u.avatar_url)||(null==(d=_.value)?void 0:d.profile_photo),alt:getInvestorableName()},null,a,l)):t(`<span class="text-h6 white--text" data-v-b2c15a68${l}>${y(getInitials(getInvestorableName()))}</span>`)})),_:1},o,u)),t(`<div data-v-b2c15a68${u}><div class="text-subtitle-1 font-weight-medium" data-v-b2c15a68${u}>${y(getInvestorableName())}</div><div class="text-caption text-grey" data-v-b2c15a68${u}> @${y((null==(d=_.value)?void 0:d.slug)||(null==(c=_.value)?void 0:c.username))}</div><div class="text-caption text-primary" data-v-b2c15a68${u}>${y("user"===(null==(v=_.value)?void 0:v.type)?"User":"Page")}</div></div>`),t(g(E,{variant:"text",color:"primary",class:"ml-auto",onClick:e=>h.value=1},{default:a(((e,t,a,r)=>{if(!t)return[l(" Change ")];t(" Change ")})),_:1},o,u)),t("</div>")})),_:1},o,u)),t(g(le,{modelValue:b.value,"onUpdate:modelValue":[e=>b.value=e,clearErrors],modelModifiers:{number:!0},label:"Equity Percentage",type:"number",min:"0",max:"100",step:"0.01",rules:A,required:"",variant:"outlined","error-messages":I.value,hint:"Enter the percentage of project earnings this investor will receive","persistent-hint":"",class:"mb-2"},{append:a(((e,t,a,l)=>{if(!t)return[r("span",{class:"text-grey"},"%")];t(`<span class="text-grey" data-v-b2c15a68${l}>%</span>`)})),_:1},o,u))})),_:1},o,u))})),_:1},o,u))})),_:1},o,u)),t(g(ee,null,null,o,u)),t(g(S,{class:"pa-4"},{default:a(((e,t,o,u)=>{if(!t)return[2===h.value?(n(),i(E,{key:0,variant:"outlined",onClick:e=>h.value=1,class:"mr-2"},{default:a((()=>[l(" Back ")])),_:1},8,["onClick"])):p("",!0),r(J),2===h.value?(n(),i(E,{key:1,color:"primary",loading:x.value,disabled:!U.value||x.value,onClick:confirmInvestor},{default:a((()=>[l(s($.value?"Update Investor":"Add Investor"),1)])),_:1},8,["loading","disabled"])):p("",!0)];2===h.value?t(g(E,{variant:"outlined",onClick:e=>h.value=1,class:"mr-2"},{default:a(((e,t,a,r)=>{if(!t)return[l(" Back ")];t(" Back ")})),_:1},o,u)):t("\x3c!----\x3e"),t(g(J,null,null,o,u)),2===h.value?t(g(E,{color:"primary",loading:x.value,disabled:!U.value||x.value,onClick:confirmInvestor},{default:a(((e,t,a,r)=>{if(!t)return[l(s($.value?"Update Investor":"Add Investor"),1)];t(`${y($.value?"Update Investor":"Add Investor")}`)})),_:1},o,u)):t("\x3c!----\x3e")})),_:1},o,u))})),_:1},o,u))})),_:1},u))}}}),xe=be.setup;be.setup=(t,a)=>{const l=e();return(l.modules||(l.modules=new Set)).add("components/investor/AddProjectInvestorDialog.vue"),xe?xe(t,a):void 0};const Ie=N(be,[["__scopeId","data-v-b2c15a68"]]),je=t({__name:"AddProjectInvestors",__ssrInlineRender:!0,props:{project:{}},setup(e){const t=e,s=ye(),u=se(),v=c((()=>s.stats||{creator_shares:100,investor_shares:0,total_investors:0})),y=d(!1),b=d(!1),x=d(null),j=d(null),k=d(!1);const{items:C,isLoading:w,hasMore:S,refresh:V}=oe((async function(e){var a;if(!(null==(a=t.project)?void 0:a.access_uuid))return[];const l=s.projectInvestors.length;return await s.fetchProjectInvestors(t.project.access_uuid,e,10),s.projectInvestors.slice(l)}),{initialLoadDelay:0}),$=c((()=>C.value)),U=c((()=>0===$.value.length&&!w.value)),P=c((()=>{var e,t,a;const l=null==(e=j.value)?void 0:e.investorable;if(!l)return"Remove Investor";let r;return r=((null==(a=null==(t=j.value)?void 0:t.investorable_type)?void 0:a.toLowerCase())||"").includes("user")?l.name||l.display_name||l.username||"Investor":l.display_name||l.name||l.slug||"Investor",`Remove ${r}`})),N=c((()=>{var e,t,a;const l=null==(e=j.value)?void 0:e.investorable;if(!l)return"Are you sure you want to remove this investor from the project?";let r;return r=((null==(a=null==(t=j.value)?void 0:t.investorable_type)?void 0:a.toLowerCase())||"").includes("user")?l.name||l.display_name||l.username||"this investor":l.display_name||l.name||l.slug||"this investor",`Are you sure you want to remove ${r} from the project?`}));function openAddInvestorDialog(){x.value=null,y.value=!0}function openEditInvestorDialog(e){x.value=e,y.value=!0}function confirmDeleteInvestor(e){j.value=e,b.value=!0}function cancelDelete(){b.value=!1,j.value=null}function handleInvestorAdded(){u.success("Project investor added successfully."),s.resetState(),V()}function handleInvestorUpdated(){u.success("Project investor updated successfully."),s.resetState(),V()}async function deleteInvestor(){var e;if(j.value&&(null==(e=t.project)?void 0:e.access_uuid)){k.value=!0;try{const e=j.value.id;if(!e)return void u.error("Invalid investor information. Please try again.");await s.deleteProjectInvestor(t.project.access_uuid,e),u.success("Project investor removed successfully."),s.resetState(),V()}catch(e){console.error("Error deleting investor:",e),u.error("Failed to remove project investor. Please try again.")}finally{k.value=!1,cancelDelete()}}}return(e,t,u,d)=>{var c;const j=ve,C=q,V=T,L=fe,M=Ie,F=re;t(`<div${_(o({class:"project-investors-page"},d))} data-v-64aa1cb8>`),t(g(D,{class:"mb-4"},{default:a(((e,t,l,s)=>{if(!t)return[r(z,{cols:"12"},{default:a((()=>[r(j,{stats:v.value},null,8,["stats"])])),_:1})];t(g(z,{cols:"12"},{default:a(((e,t,a,l)=>{if(!t)return[r(j,{stats:v.value},null,8,["stats"])];t(g(j,{stats:v.value},null,a,l))})),_:1},l,s))})),_:1},u)),t(g(C,{title:"Investors"},{subtitle:a(((e,t,a,r)=>{if(!t)return[l(" Manage project investors and their equity shares. When your project earns revenue, profits are automatically distributed based on each investor's percentage allocation. ")];t(" Manage project investors and their equity shares. When your project earns revenue, profits are automatically distributed based on each investor&#39;s percentage allocation. ")})),actionable:a(((e,t,o,n)=>{if(!t)return[r(E,{color:"primary","prepend-icon":"mdi-account-plus",onClick:openAddInvestorDialog,disabled:m(s).isLoading},{default:a((()=>[l(" Add Investor ")])),_:1},8,["disabled"])];t(g(E,{color:"primary","prepend-icon":"mdi-account-plus",onClick:openAddInvestorDialog,disabled:m(s).isLoading},{default:a(((e,t,a,r)=>{if(!t)return[l(" Add Investor ")];t(" Add Investor ")})),_:1},o,n))})),_:1},u)),t(g(ne,null,{default:a(((e,t,s,u)=>{if(!t)return[m(w)&&0===$.value.length?(n(),i(D,{key:0},{default:a((()=>[r(z,{cols:"12"},{default:a((()=>[(n(),i(f,null,h(3,(e=>r(ie,{key:e,type:"card",class:"mb-4"}))),64))])),_:1})])),_:1})):U.value?(n(),i(D,{key:1},{default:a((()=>[r(z,{cols:"12"},{default:a((()=>[r(V,{icon:"mdi-account-group","icon-size":"64","icon-color":"grey-lighten-1",title:"No Investors Yet",message:"This project doesn't have any investors at the moment.","button-text":"Add an Investor","button-color":"primary",onActionClick:openAddInvestorDialog})])),_:1})])),_:1})):(n(),i("div",{key:2},[r(D,null,{default:a((()=>[(n(!0),i(f,null,h($.value,(e=>(n(),i(z,{cols:"12",key:e.id},{default:a((()=>[r(L,{investor:e},{actions:a((()=>[r(ue,{text:"Edit Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,16,["onClick"])])),_:2},1024),r(ue,{text:"Remove Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,16,["onClick"])])),_:2},1024)])),_:2},1032,["investor"])])),_:2},1024)))),128))])),_:1}),m(w)&&m(S)?(n(),i(D,{key:0},{default:a((()=>[r(z,{cols:"12",class:"text-center py-4"},{default:a((()=>[r(A,{indeterminate:"",color:"primary",size:"24"})])),_:1})])),_:1})):p("",!0),!m(S)&&$.value.length>0?(n(),i(D,{key:1},{default:a((()=>[r(z,{cols:"12",class:"text-center py-4"},{default:a((()=>[r(Z,{type:"info",variant:"tonal",class:"ma-0"},{default:a((()=>[l(" No more investors to load. ")])),_:1})])),_:1})])),_:1})):p("",!0)]))];m(w)&&0===$.value.length?t(g(D,null,{default:a(((e,t,l,s)=>{if(!t)return[r(z,{cols:"12"},{default:a((()=>[(n(),i(f,null,h(3,(e=>r(ie,{key:e,type:"card",class:"mb-4"}))),64))])),_:1})];t(g(z,{cols:"12"},{default:a(((e,t,a,l)=>{if(!t)return[(n(),i(f,null,h(3,(e=>r(ie,{key:e,type:"card",class:"mb-4"}))),64))];t("\x3c!--[--\x3e"),I(3,(e=>{t(g(ie,{key:e,type:"card",class:"mb-4"},null,a,l))})),t("\x3c!--]--\x3e")})),_:1},l,s))})),_:1},s,u)):U.value?t(g(D,null,{default:a(((e,t,l,s)=>{if(!t)return[r(z,{cols:"12"},{default:a((()=>[r(V,{icon:"mdi-account-group","icon-size":"64","icon-color":"grey-lighten-1",title:"No Investors Yet",message:"This project doesn't have any investors at the moment.","button-text":"Add an Investor","button-color":"primary",onActionClick:openAddInvestorDialog})])),_:1})];t(g(z,{cols:"12"},{default:a(((e,t,a,l)=>{if(!t)return[r(V,{icon:"mdi-account-group","icon-size":"64","icon-color":"grey-lighten-1",title:"No Investors Yet",message:"This project doesn't have any investors at the moment.","button-text":"Add an Investor","button-color":"primary",onActionClick:openAddInvestorDialog})];t(g(V,{icon:"mdi-account-group","icon-size":"64","icon-color":"grey-lighten-1",title:"No Investors Yet",message:"This project doesn't have any investors at the moment.","button-text":"Add an Investor","button-color":"primary",onActionClick:openAddInvestorDialog},null,a,l))})),_:1},l,s))})),_:1},s,u)):(t(`<div data-v-64aa1cb8${u}>`),t(g(D,null,{default:a(((e,t,l,s)=>{if(!t)return[(n(!0),i(f,null,h($.value,(e=>(n(),i(z,{cols:"12",key:e.id},{default:a((()=>[r(L,{investor:e},{actions:a((()=>[r(ue,{text:"Edit Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,16,["onClick"])])),_:2},1024),r(ue,{text:"Remove Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,16,["onClick"])])),_:2},1024)])),_:2},1032,["investor"])])),_:2},1024)))),128))];t("\x3c!--[--\x3e"),I($.value,(e=>{t(g(z,{cols:"12",key:e.id},{default:a(((t,l,s,n)=>{if(!l)return[r(L,{investor:e},{actions:a((()=>[r(ue,{text:"Edit Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,16,["onClick"])])),_:2},1024),r(ue,{text:"Remove Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,16,["onClick"])])),_:2},1024)])),_:2},1032,["investor"])];l(g(L,{investor:e},{actions:a(((t,l,s,n)=>{if(!l)return[r(ue,{text:"Edit Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,16,["onClick"])])),_:2},1024),r(ue,{text:"Remove Investor",location:"top"},{activator:a((({props:t})=>[r(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,16,["onClick"])])),_:2},1024)];l(g(ue,{text:"Edit Investor",location:"top"},{activator:a((({props:t},a,l,s)=>{if(!a)return[r(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,16,["onClick"])];a(g(E,o({ref_for:!0},t,{icon:"mdi-pencil",variant:"tonal",color:"primary",size:"small",onClick:t=>openEditInvestorDialog(e)}),null,l,s))})),_:2},s,n)),l(g(ue,{text:"Remove Investor",location:"top"},{activator:a((({props:t},a,l,s)=>{if(!a)return[r(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,16,["onClick"])];a(g(E,o({ref_for:!0},t,{icon:"mdi-delete",variant:"tonal",color:"error",size:"small",onClick:t=>confirmDeleteInvestor(e)}),null,l,s))})),_:2},s,n))})),_:2},s,n))})),_:2},l,s))})),t("\x3c!--]--\x3e")})),_:1},s,u)),m(w)&&m(S)?t(g(D,null,{default:a(((e,t,l,s)=>{if(!t)return[r(z,{cols:"12",class:"text-center py-4"},{default:a((()=>[r(A,{indeterminate:"",color:"primary",size:"24"})])),_:1})];t(g(z,{cols:"12",class:"text-center py-4"},{default:a(((e,t,a,l)=>{if(!t)return[r(A,{indeterminate:"",color:"primary",size:"24"})];t(g(A,{indeterminate:"",color:"primary",size:"24"},null,a,l))})),_:1},l,s))})),_:1},s,u)):t("\x3c!----\x3e"),!m(S)&&$.value.length>0?t(g(D,null,{default:a(((e,t,s,o)=>{if(!t)return[r(z,{cols:"12",class:"text-center py-4"},{default:a((()=>[r(Z,{type:"info",variant:"tonal",class:"ma-0"},{default:a((()=>[l(" No more investors to load. ")])),_:1})])),_:1})];t(g(z,{cols:"12",class:"text-center py-4"},{default:a(((e,t,s,o)=>{if(!t)return[r(Z,{type:"info",variant:"tonal",class:"ma-0"},{default:a((()=>[l(" No more investors to load. ")])),_:1})];t(g(Z,{type:"info",variant:"tonal",class:"ma-0"},{default:a(((e,t,a,r)=>{if(!t)return[l(" No more investors to load. ")];t(" No more investors to load. ")})),_:1},s,o))})),_:1},s,o))})),_:1},s,u)):t("\x3c!----\x3e"),t("</div>"))})),_:1},u)),t(g(M,{modelValue:y.value,"onUpdate:modelValue":e=>y.value=e,"access-uuid":null==(c=e.project)?void 0:c.access_uuid,"editing-investor":x.value,onInvestorAdded:handleInvestorAdded,onInvestorUpdated:handleInvestorUpdated},null,u)),t(g(F,{modelValue:b.value,"onUpdate:modelValue":e=>b.value=e,title:P.value,message:N.value,loading:k.value,onConfirm:deleteInvestor,onCancel:cancelDelete},null,u)),t("</div>")}}}),ke=je.setup;je.setup=(t,a)=>{const l=e();return(l.modules||(l.modules=new Set)).add("components/project/AddProjectInvestors.vue"),ke?ke(t,a):void 0};const Ce=N(je,[["__scopeId","data-v-64aa1cb8"]]);export{Ce as _};

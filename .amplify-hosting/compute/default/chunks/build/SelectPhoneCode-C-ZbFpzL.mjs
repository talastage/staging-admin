import{useSSRContext as e,defineComponent as a,ref as l,computed as t,watch as o,mergeProps as n,withCtx as c,unref as d,createTextVNode as r,openBlock as s,createBlock as i,createVNode as u,toDisplayString as m,Fragment as v,renderList as f}from"vue";import{ssrRenderAttrs as g,ssrRenderComponent as p,ssrRenderAttr as y,ssrInterpolate as h,ssrRenderList as x}from"vue/server-renderer";import{u as b}from"./useCountries-BjpZ_gZg.mjs";import{V as k}from"./VMenu-BpdBiT5v.mjs";import{b as _,V,U as C,_ as w}from"./server.mjs";import{V as $}from"./VSpacer-_gFExeVk.mjs";import{V as j}from"./VCard-CsohsM82.mjs";import{V as z}from"./VTextField-rd-VvEF8.mjs";import{V as S}from"./VDivider-BmyMVZMt.mjs";import{V as P}from"./VList-CcwwrkQR.mjs";import{V as M,a as U}from"./VListItem-jTLuICGb.mjs";const L=a({__name:"SelectPhoneCode",__ssrInlineRender:!0,props:{modelValue:{},label:{default:"Select Phone Code"},errorMessages:{default:()=>[]},rules:{default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:a}){const w=e,L=a,{countries:B,loading:I,fetchCountries:T}=b(),F=l(!1),N=l(""),Z=t({get:()=>w.modelValue,set:e=>L("update:modelValue",e)}),q=t((()=>{var e;return(null==(e=B.value)?void 0:e.length)?B.value.map((e=>({id:e.id,code:e.phone_code,country:e.name,flag:e.flag}))):[]})),E=t((()=>Z.value&&q.value.length&&q.value.find((e=>e.code===Z.value))||null)),R=t((()=>{if(!q.value.length)return[];const e=N.value.toLowerCase().trim();return e?q.value.filter((a=>a.country.toLowerCase().includes(e)||a.code.includes(e))):q.value}));function selectPhoneCode(e){Z.value=e,F.value=!1,N.value=""}function clearSearch(){N.value=""}return o(F,(e=>{e||setTimeout((()=>{N.value=""}),300)})),(e,a,l,t)=>{var o;a(`<div${g(n({class:"phone-code-select-container"},t))} data-v-8b27cdfa>`),a(p(k,{modelValue:F.value,"onUpdate:modelValue":e=>F.value=e,"close-on-content-click":!1,location:"bottom",transition:"scale-transition","max-width":"360"},{activator:c((({props:a},l,t,o)=>{if(!l)return[u(_,n(a,{variant:"outlined",class:"phone-code-selector",rounded:"lg",block:"",height:"56",disabled:d(I)}),{default:c((()=>[E.value?(s(),i("div",{key:0,class:"d-flex align-center w-100"},[u("div",{class:"flag-container mr-3"},[u("img",{src:E.value.flag,alt:E.value.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])]),u("div",{class:"d-flex flex-column align-start"},[u("div",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(E.value.code),1),u("div",{class:"country-name text-caption text-grey-darken-1"},m(E.value.country),1)]),u($),u(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c((()=>[r(" mdi-chevron-down ")])),_:1},8,["class"])])):(s(),i("div",{key:1,class:"d-flex align-center w-100"},[u(V,{size:"24",class:"mr-3",color:"grey-darken-1"},{default:c((()=>[r(" mdi-phone ")])),_:1}),u("div",{class:"placeholder text-body-1"},m(e.label),1),u($),u(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c((()=>[r(" mdi-chevron-down ")])),_:1},8,["class"])]))])),_:2},1040,["disabled"])];l(p(_,n(a,{variant:"outlined",class:"phone-code-selector",rounded:"lg",block:"",height:"56",disabled:d(I)}),{default:c(((a,l,t,o)=>{if(!l)return[E.value?(s(),i("div",{key:0,class:"d-flex align-center w-100"},[u("div",{class:"flag-container mr-3"},[u("img",{src:E.value.flag,alt:E.value.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])]),u("div",{class:"d-flex flex-column align-start"},[u("div",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(E.value.code),1),u("div",{class:"country-name text-caption text-grey-darken-1"},m(E.value.country),1)]),u($),u(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c((()=>[r(" mdi-chevron-down ")])),_:1},8,["class"])])):(s(),i("div",{key:1,class:"d-flex align-center w-100"},[u(V,{size:"24",class:"mr-3",color:"grey-darken-1"},{default:c((()=>[r(" mdi-phone ")])),_:1}),u("div",{class:"placeholder text-body-1"},m(e.label),1),u($),u(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c((()=>[r(" mdi-chevron-down ")])),_:1},8,["class"])]))];E.value?(l(`<div class="d-flex align-center w-100" data-v-8b27cdfa${o}><div class="flag-container mr-3" data-v-8b27cdfa${o}><img${y("src",E.value.flag)}${y("alt",E.value.country)} class="country-flag" loading="lazy" data-v-8b27cdfa${o}></div><div class="d-flex flex-column align-start" data-v-8b27cdfa${o}><div class="phone-code text-body-1 font-weight-medium" data-v-8b27cdfa${o}> +${h(E.value.code)}</div><div class="country-name text-caption text-grey-darken-1" data-v-8b27cdfa${o}>${h(E.value.country)}</div></div>`),l(p($,null,null,t,o)),l(p(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c(((e,a,l,t)=>{if(!a)return[r(" mdi-chevron-down ")];a(" mdi-chevron-down ")})),_:2},t,o)),l("</div>")):(l(`<div class="d-flex align-center w-100" data-v-8b27cdfa${o}>`),l(p(V,{size:"24",class:"mr-3",color:"grey-darken-1"},{default:c(((e,a,l,t)=>{if(!a)return[r(" mdi-phone ")];a(" mdi-phone ")})),_:2},t,o)),l(`<div class="placeholder text-body-1" data-v-8b27cdfa${o}>${h(e.label)}</div>`),l(p($,null,null,t,o)),l(p(V,{class:["transition-transform",F.value?"rotate-icon":""],color:"grey-darken-1"},{default:c(((e,a,l,t)=>{if(!a)return[r(" mdi-chevron-down ")];a(" mdi-chevron-down ")})),_:2},t,o)),l("</div>"))})),_:2},t,o))})),default:c(((e,a,l,t)=>{if(!a)return[u(j,{class:"phone-code-menu pa-0",elevation:"8",rounded:"lg"},{default:c((()=>[u("div",{class:"search-container pa-4"},[u(z,{modelValue:N.value,"onUpdate:modelValue":e=>N.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),u(S),d(I)?(s(),i("div",{key:0,class:"d-flex justify-center align-center pa-8"},[u(C,{indeterminate:"",color:"primary"})])):(s(),i("div",{key:1,class:"codes-container"},[R.value.length>0?(s(),i(P,{key:0,class:"code-list pa-0",height:"320"},{default:c((()=>[(s(!0),i(v,null,f(R.value,(e=>(s(),i(M,{key:e.id,onClick:a=>selectPhoneCode(e.code),class:["code-list-item py-2",{"selected-item":Z.value===e.code}],active:Z.value===e.code,color:"primary"},{prepend:c((()=>[u("div",{class:"flag-container"},[u("img",{src:e.flag,alt:e.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])])])),default:c((()=>[u(U,{class:"d-flex align-center"},{default:c((()=>[u("span",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(e.code),1),u("span",{class:"country-name text-caption text-grey-darken-1 ml-3"},m(e.country),1)])),_:2},1024)])),_:2},1032,["onClick","class","active"])))),128))])),_:1})):(s(),i("div",{key:1,class:"no-results pa-8 d-flex flex-column align-center"},[u(V,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:c((()=>[r(" mdi-magnify-close ")])),_:1}),u("span",{class:"text-body-1 text-grey-darken-1"},' No phone codes found matching "'+m(N.value)+'" ',1),u(_,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:c((()=>[r(" Clear search ")])),_:1})]))]))])),_:1})];a(p(j,{class:"phone-code-menu pa-0",elevation:"8",rounded:"lg"},{default:c(((e,a,l,t)=>{if(!a)return[u("div",{class:"search-container pa-4"},[u(z,{modelValue:N.value,"onUpdate:modelValue":e=>N.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),u(S),d(I)?(s(),i("div",{key:0,class:"d-flex justify-center align-center pa-8"},[u(C,{indeterminate:"",color:"primary"})])):(s(),i("div",{key:1,class:"codes-container"},[R.value.length>0?(s(),i(P,{key:0,class:"code-list pa-0",height:"320"},{default:c((()=>[(s(!0),i(v,null,f(R.value,(e=>(s(),i(M,{key:e.id,onClick:a=>selectPhoneCode(e.code),class:["code-list-item py-2",{"selected-item":Z.value===e.code}],active:Z.value===e.code,color:"primary"},{prepend:c((()=>[u("div",{class:"flag-container"},[u("img",{src:e.flag,alt:e.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])])])),default:c((()=>[u(U,{class:"d-flex align-center"},{default:c((()=>[u("span",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(e.code),1),u("span",{class:"country-name text-caption text-grey-darken-1 ml-3"},m(e.country),1)])),_:2},1024)])),_:2},1032,["onClick","class","active"])))),128))])),_:1})):(s(),i("div",{key:1,class:"no-results pa-8 d-flex flex-column align-center"},[u(V,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:c((()=>[r(" mdi-magnify-close ")])),_:1}),u("span",{class:"text-body-1 text-grey-darken-1"},' No phone codes found matching "'+m(N.value)+'" ',1),u(_,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:c((()=>[r(" Clear search ")])),_:1})]))]))];a(`<div class="search-container pa-4" data-v-8b27cdfa${t}>`),a(p(z,{modelValue:N.value,"onUpdate:modelValue":e=>N.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",clearable:""},null,l,t)),a("</div>"),a(p(S,null,null,l,t)),d(I)?(a(`<div class="d-flex justify-center align-center pa-8" data-v-8b27cdfa${t}>`),a(p(C,{indeterminate:"",color:"primary"},null,l,t)),a("</div>")):(a(`<div class="codes-container" data-v-8b27cdfa${t}>`),R.value.length>0?a(p(P,{class:"code-list pa-0",height:"320"},{default:c(((e,a,l,t)=>{if(!a)return[(s(!0),i(v,null,f(R.value,(e=>(s(),i(M,{key:e.id,onClick:a=>selectPhoneCode(e.code),class:["code-list-item py-2",{"selected-item":Z.value===e.code}],active:Z.value===e.code,color:"primary"},{prepend:c((()=>[u("div",{class:"flag-container"},[u("img",{src:e.flag,alt:e.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])])])),default:c((()=>[u(U,{class:"d-flex align-center"},{default:c((()=>[u("span",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(e.code),1),u("span",{class:"country-name text-caption text-grey-darken-1 ml-3"},m(e.country),1)])),_:2},1024)])),_:2},1032,["onClick","class","active"])))),128))];a("\x3c!--[--\x3e"),x(R.value,(e=>{a(p(M,{key:e.id,onClick:a=>selectPhoneCode(e.code),class:["code-list-item py-2",{"selected-item":Z.value===e.code}],active:Z.value===e.code,color:"primary"},{prepend:c(((a,l,t,o)=>{if(!l)return[u("div",{class:"flag-container"},[u("img",{src:e.flag,alt:e.country,class:"country-flag",loading:"lazy"},null,8,["src","alt"])])];l(`<div class="flag-container" data-v-8b27cdfa${o}><img${y("src",e.flag)}${y("alt",e.country)} class="country-flag" loading="lazy" data-v-8b27cdfa${o}></div>`)})),default:c(((a,l,t,o)=>{if(!l)return[u(U,{class:"d-flex align-center"},{default:c((()=>[u("span",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(e.code),1),u("span",{class:"country-name text-caption text-grey-darken-1 ml-3"},m(e.country),1)])),_:2},1024)];l(p(U,{class:"d-flex align-center"},{default:c(((a,l,t,o)=>{if(!l)return[u("span",{class:"phone-code text-body-1 font-weight-medium"}," +"+m(e.code),1),u("span",{class:"country-name text-caption text-grey-darken-1 ml-3"},m(e.country),1)];l(`<span class="phone-code text-body-1 font-weight-medium" data-v-8b27cdfa${o}> +${h(e.code)}</span><span class="country-name text-caption text-grey-darken-1 ml-3" data-v-8b27cdfa${o}>${h(e.country)}</span>`)})),_:2},t,o))})),_:2},l,t))})),a("\x3c!--]--\x3e")})),_:1},l,t)):(a(`<div class="no-results pa-8 d-flex flex-column align-center" data-v-8b27cdfa${t}>`),a(p(V,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:c(((e,a,l,t)=>{if(!a)return[r(" mdi-magnify-close ")];a(" mdi-magnify-close ")})),_:1},l,t)),a(`<span class="text-body-1 text-grey-darken-1" data-v-8b27cdfa${t}> No phone codes found matching &quot;${h(N.value)}&quot; </span>`),a(p(_,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:c(((e,a,l,t)=>{if(!a)return[r(" Clear search ")];a(" Clear search ")})),_:1},l,t)),a("</div>")),a("</div>"))})),_:1},l,t))})),_:1},l)),(null==(o=e.errorMessages)?void 0:o.length)?(a('<div class="error-container mt-1" data-v-8b27cdfa>\x3c!--[--\x3e'),x(e.errorMessages,((e,l)=>{a(`<p class="text-error text-caption" data-v-8b27cdfa>${h(e)}</p>`)})),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),a("</div>")}}}),B=L.setup;L.setup=(a,l)=>{const t=e();return(t.modules||(t.modules=new Set)).add("components/forms/select/SelectPhoneCode.vue"),B?B(a,l):void 0};const I=w(L,[["__scopeId","data-v-8b27cdfa"]]);export{I as S};

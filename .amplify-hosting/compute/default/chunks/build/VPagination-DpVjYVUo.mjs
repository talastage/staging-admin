import{shallowRef as a,computed as e,toRef as t,createVNode as i,mergeProps as l,ref as s,nextTick as n}from"vue";import{p as r,I as u,q as o,m as v,n as p,s as d,x as c,S as f,g,z as b,A as y,h as L,a2 as m,a7 as x,i as V,B as _,aL as h,l as A,aK as I,aQ as P,j as k,b as S,aR as $}from"./server.mjs";const F=r({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:a=>a.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:a=>a%1==0},totalVisible:[Number,String],firstIcon:{type:u,default:"$first"},prevIcon:{type:u,default:"$prev"},nextIcon:{type:u,default:"$next"},lastIcon:{type:u,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...o(),...v(),...p(),...d(),...c(),...f(),...g({tag:"nav"}),...b(),...y({variant:"text"})},"VPagination"),w=L()({name:"VPagination",props:F(),emits:{"update:modelValue":a=>!0,first:a=>!0,prev:a=>!0,next:a=>!0,last:a=>!0},setup(r,u){let{slots:o,emit:v}=u;const p=m(r,"modelValue"),{t:d,n:c}=x(),{isRtl:f}=V(),{themeClasses:g}=_(r),{width:b}=h(),y=a(-1);A(void 0,{scoped:!0});const{resizeRef:L}=I(),F=e((()=>parseInt(r.length,10))),w=e((()=>parseInt(r.start,10))),B=e((()=>null!=r.totalVisible?parseInt(r.totalVisible,10):y.value>=0?y.value:function(a,e){const t=r.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-e*t)/e).toFixed(2)))}(b.value,58)));const C=e((()=>{if(F.value<=0||isNaN(F.value)||F.value>Number.MAX_SAFE_INTEGER)return[];if(B.value<=0)return[];if(1===B.value)return[p.value];if(F.value<=B.value)return P(F.value,w.value);const a=B.value%2==0,e=a?B.value/2:Math.floor(B.value/2),t=a?e:e+1,i=F.value-e;if(t-p.value>=0)return[...P(Math.max(1,B.value-1),w.value),r.ellipsis,F.value];if(p.value-i>=(a?1:0)){const a=B.value-1,e=F.value-a+w.value;return[w.value,r.ellipsis,...P(a,e)]}{const a=Math.max(1,B.value-3),e=1===a?p.value:p.value-Math.ceil(a/2)+w.value;return[w.value,r.ellipsis,...P(a,e),r.ellipsis,F.value]}}));function setValue(a,e,t){a.preventDefault(),p.value=e,t&&v(t,e)}const{refs:N,updateRef:M}=function(){const a=s([]);return{refs:a,updateRef:function(e,t){a.value[t]=e}}}();A({VPaginationBtn:{color:t(r,"color"),border:t(r,"border"),density:t(r,"density"),size:t(r,"size"),variant:t(r,"variant"),rounded:t(r,"rounded"),elevation:t(r,"elevation")}});const R=e((()=>C.value.map(((a,e)=>{const ref2=a=>M(a,e);if("string"==typeof a)return{isActive:!1,key:`ellipsis-${e}`,page:a,props:{ref:ref2,ellipsis:!0,icon:!0,disabled:!0}};{const e=a===p.value;return{isActive:e,key:a,page:c(a),props:{ref:ref2,ellipsis:!1,icon:!0,disabled:!!r.disabled||+r.length<2,color:e?r.activeColor:r.color,ariaCurrent:e,ariaLabel:d(e?r.currentPageAriaLabel:r.pageAriaLabel,a),onClick:e=>setValue(e,a)}}}})))),D=e((()=>{const a=!!r.disabled||p.value<=w.value,e=!!r.disabled||p.value>=w.value+F.value-1;return{first:r.showFirstLastPage?{icon:f.value?r.lastIcon:r.firstIcon,onClick:a=>setValue(a,w.value,"first"),disabled:a,ariaLabel:d(r.firstAriaLabel),ariaDisabled:a}:void 0,prev:{icon:f.value?r.nextIcon:r.prevIcon,onClick:a=>setValue(a,p.value-1,"prev"),disabled:a,ariaLabel:d(r.previousAriaLabel),ariaDisabled:a},next:{icon:f.value?r.prevIcon:r.nextIcon,onClick:a=>setValue(a,p.value+1,"next"),disabled:e,ariaLabel:d(r.nextAriaLabel),ariaDisabled:e},last:r.showFirstLastPage?{icon:f.value?r.firstIcon:r.lastIcon,onClick:a=>setValue(a,w.value+F.value-1,"last"),disabled:e,ariaLabel:d(r.lastAriaLabel),ariaDisabled:e}:void 0}}));function updateFocus(){var a;const e=p.value-w.value;null==(a=N.value[e])||a.$el.focus()}function onKeydown(a){a.key===$.left&&!r.disabled&&p.value>+r.start?(p.value=p.value-1,n(updateFocus)):a.key===$.right&&!r.disabled&&p.value<w.value+F.value-1&&(p.value=p.value+1,n(updateFocus))}return k((()=>i(r.tag,{ref:L,class:["v-pagination",g.value,r.class],style:r.style,role:"navigation","aria-label":d(r.ariaLabel),onKeydown:onKeydown,"data-test":"v-pagination-root"},{default:()=>[i("ul",{class:"v-pagination__list"},[r.showFirstLastPage&&i("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[o.first?o.first(D.value.first):i(S,l({_as:"VPaginationBtn"},D.value.first),null)]),i("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[o.prev?o.prev(D.value.prev):i(S,l({_as:"VPaginationBtn"},D.value.prev),null)]),R.value.map(((a,e)=>i("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[o.item?o.item(a):i(S,l({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})]))),i("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[o.next?o.next(D.value.next):i(S,l({_as:"VPaginationBtn"},D.value.next),null)]),r.showFirstLastPage&&i("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[o.last?o.last(D.value.last):i(S,l({_as:"VPaginationBtn"},D.value.last),null)])])]}))),{}}});export{w as V};

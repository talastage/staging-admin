import{_ as e}from"./BaseHeader-CiSkdPXW.mjs";import{u as l,_ as a}from"./ProjectCreditGrid-ClNP8uGo.mjs";import{B as t}from"./BaseDialog-DsGYlnLZ.mjs";import{_ as o}from"./SearchUser-DlNWcghk.mjs";import{useSSRContext as i,defineComponent as d,ref as u,computed as r,mergeProps as s,withCtx as n,createTextVNode as c,createVNode as m,toDisplayString as v,createSlots as p,openBlock as f,createBlock as b,createCommentVNode as y,watch as _}from"vue";import{ssrRenderComponent as h,ssrInterpolate as g,ssrRenderAttrs as V}from"vue/server-renderer";import{useToast as x}from"vue-toastification";import{u as C,b as w,V as U,bb as S,_ as j}from"./server.mjs";import{u as k}from"./useTalentCategories-DQov3s2P.mjs";import{V as R}from"./VContainer-By3q0af_.mjs";import{V as E}from"./VRow-rkX0LEXR.mjs";import{V as $}from"./VCol-CKxprC4g.mjs";import{V as z}from"./VAvatar-JL8WKjry.mjs";import{V as A}from"./VImg-B2jcJjnn.mjs";import{V as M}from"./VDivider-BmyMVZMt.mjs";import{V as D}from"./VSelect-BWLkvD3S.mjs";import{V as T,a as I}from"./VCard-CsohsM82.mjs";import{V as N}from"./VCombobox-CR2vKudT.mjs";import{a as B}from"./VChip-f_o2BAA4.mjs";import{V as P}from"./VListItem-jTLuICGb.mjs";import{V as F}from"./VSpacer-_gFExeVk.mjs";import{b as L}from"./index--K8ZrFMm.mjs";import{_ as G}from"./ConfirmDeleteDialog-Bb7O4z7X.mjs";import{u as K}from"./useInfiniteScroll-CumoSAIu.mjs";const W=d({__name:"SelectRoleDialog",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},user:{}},emits:["update:modelValue","back","confirm"],setup(e,{emit:l}){const a=e,o=l,i=x();C();const d=k(),_=u(!1),V=u(!1),j=u(!1),I=u(null),L=u(null),G=u([]),K=u([]),W=u("existing"),X=r({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),Y=r((()=>I.value&&L.value)),handleCategoryChange=async e=>{if(L.value=null,K.value=[],W.value="existing",e){const l=G.value.find((l=>l.id===e));(null==l?void 0:l.slug)&&await(async e=>{if(e){j.value=!0;try{await d.fetchCategoryTalents(e),K.value=d.talents}catch(e){console.error("Error fetching talents:",e),i.error("Failed to load talents"),K.value=[]}finally{j.value=!1}}})(l.slug)}},isCustomRole=e=>!!e&&("string"==typeof e||"object"==typeof e&&!e.id),getItemDisplayName=e=>e?"string"==typeof e?e:"object"==typeof e&&e.name||"":"",handleConfirm=()=>{if(!L.value||!I.value)return;const e={categoryId:I.value,..."custom"===W.value||"string"==typeof L.value?{customRole:"string"==typeof L.value?L.value:L.value.name}:{talent:L.value}};o("confirm",e)},goBack=()=>{o("back"),resetForm()},resetForm=()=>{I.value=null,L.value=null,K.value=[],W.value="existing"};return(e,l,a,o)=>{l(h(t,s({modelValue:X.value,"onUpdate:modelValue":e=>X.value=e,"max-width":"600px","show-close-button":!1},o),{title:n(((l,a,t,o)=>{if(!a)return[m("div",{class:"d-flex align-center"},[m(w,{icon:"mdi-arrow-left",variant:"text",onClick:goBack,class:"mr-2",disabled:_.value},{default:n((()=>[m(U,null,{default:n((()=>[c("mdi-arrow-left")])),_:1})])),_:1},8,["disabled"]),m("span",{class:"text-h6"},"Add Role for "+v(e.user.display_name),1)])];a(`<div class="d-flex align-center"${o}>`),a(h(w,{icon:"mdi-arrow-left",variant:"text",onClick:goBack,class:"mr-2",disabled:_.value},{default:n(((e,l,a,t)=>{if(!l)return[m(U,null,{default:n((()=>[c("mdi-arrow-left")])),_:1})];l(h(U,null,{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-arrow-left")];l("mdi-arrow-left")})),_:1},a,t))})),_:1},t,o)),a(`<span class="text-h6"${o}>Add Role for ${g(e.user.display_name)}</span></div>`)})),default:n(((l,a,t,o)=>{if(!a)return[m(R,{class:"pa-4"},{default:n((()=>[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>[m(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])])),_:1}),m("div",null,[m("div",{class:"text-h6"},v(e.user.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v(e.user.talent||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:I.value,"onUpdate:modelValue":[e=>I.value=e,handleCategoryChange],items:G.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:V.value,disabled:_.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),I.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,items:"custom"===W.value?[]:K.value,"item-title":"name","return-object":"",label:"custom"===W.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:j.value,disabled:!I.value||_.value,hint:"custom"===W.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===W.value},p({prepend:n((()=>[m(U,{color:"custom"===W.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===W.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])])),_:1})])),_:1})])),_:1})];a(h(R,{class:"pa-4"},{default:n(((l,a,t,o)=>{if(!a)return[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>[m(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])])),_:1}),m("div",null,[m("div",{class:"text-h6"},v(e.user.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v(e.user.talent||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:I.value,"onUpdate:modelValue":[e=>I.value=e,handleCategoryChange],items:G.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:V.value,disabled:_.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),I.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,items:"custom"===W.value?[]:K.value,"item-title":"name","return-object":"",label:"custom"===W.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:j.value,disabled:!I.value||_.value,hint:"custom"===W.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===W.value},p({prepend:n((()=>[m(U,{color:"custom"===W.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===W.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])])),_:1})])),_:1})];a(h(E,null,{default:n(((l,a,t,o)=>{if(!a)return[m($,{cols:"12"},{default:n((()=>[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>[m(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])])),_:1}),m("div",null,[m("div",{class:"text-h6"},v(e.user.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v(e.user.talent||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:I.value,"onUpdate:modelValue":[e=>I.value=e,handleCategoryChange],items:G.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:V.value,disabled:_.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),I.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,items:"custom"===W.value?[]:K.value,"item-title":"name","return-object":"",label:"custom"===W.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:j.value,disabled:!I.value||_.value,hint:"custom"===W.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===W.value},p({prepend:n((()=>[m(U,{color:"custom"===W.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===W.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])])),_:1})];a(h($,{cols:"12"},{default:n(((l,a,t,o)=>{if(!a)return[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>[m(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])])),_:1}),m("div",null,[m("div",{class:"text-h6"},v(e.user.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v(e.user.talent||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:I.value,"onUpdate:modelValue":[e=>I.value=e,handleCategoryChange],items:G.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:V.value,disabled:_.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),I.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,items:"custom"===W.value?[]:K.value,"item-title":"name","return-object":"",label:"custom"===W.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:j.value,disabled:!I.value||_.value,hint:"custom"===W.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===W.value},p({prepend:n((()=>[m(U,{color:"custom"===W.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===W.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])];a(`<div class="d-flex align-center mb-6"${o}>`),a(h(z,{size:"48",class:"mr-4"},{default:n(((l,a,t,o)=>{if(!a)return[m(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])];a(h(A,{src:e.user.profile_photo,alt:e.user.display_name},{placeholder:n(((e,l,a,t)=>{if(!l)return[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})];l(h(U,null,{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-account")];l("mdi-account")})),_:1},a,t))})),_:1},t,o))})),_:1},t,o)),a(`<div${o}><div class="text-h6"${o}>${g(e.user.display_name)}</div><div class="text-body-2 text-medium-emphasis"${o}>${g(e.user.talent||"No talent specified")}</div></div></div>`),a(h(M,{class:"mb-6"},null,t,o)),a(`<div class="role-selection"${o}>`),a(h(D,{modelValue:I.value,"onUpdate:modelValue":[e=>I.value=e,handleCategoryChange],items:G.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:V.value,disabled:_.value,clearable:""},{prepend:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})];l(h(U,{color:"primary"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-shape-outline")];l("mdi-shape-outline")})),_:1},a,t))})),_:1},t,o)),I.value?(a(`<div class="role-mode-selector mb-3"${o}>`),a(h(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n(((e,l,a,t)=>{if(!l)return[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])];l(`<div class="d-flex align-center mb-2"${t}>`),l(h(U,{color:"info",class:"mr-2"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-information-outline")];l("mdi-information-outline")})),_:1},a,t)),l(`<span class="text-body-2"${t}>Choose how you want to specify the role:</span></div>`),l(h(S,{modelValue:W.value,"onUpdate:modelValue":e=>W.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n(((e,l,a,t)=>{if(!l)return[m(w,{value:"existing",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:_.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])];l(h(w,{value:"existing",disabled:_.value},{default:n(((e,l,a,t)=>{if(!l)return[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")];l(h(U,{start:""},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-format-list-bulleted")];l("mdi-format-list-bulleted")})),_:1},a,t)),l(" Select Existing Role ")})),_:1},a,t)),l(h(w,{value:"custom",disabled:_.value},{default:n(((e,l,a,t)=>{if(!l)return[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")];l(h(U,{start:""},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-pencil-plus")];l("mdi-pencil-plus")})),_:1},a,t)),l(" Create Custom Role ")})),_:1},a,t))})),_:1},a,t))})),_:1},t,o)),a("</div>")):a("\x3c!----\x3e"),a(h(N,{modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,items:"custom"===W.value?[]:K.value,"item-title":"name","return-object":"",label:"custom"===W.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:j.value,disabled:!I.value||_.value,hint:"custom"===W.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===W.value},p({prepend:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"custom"===W.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])];l(h(U,{color:"custom"===W.value?"secondary":"primary"},{default:n(((e,l,a,t)=>{if(!l)return[c(v("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie"),1)];l(`${g("custom"===W.value?"mdi-pencil-plus":"mdi-account-tie")}`)})),_:1},a,t))})),selection:n((({item:e},l,a,t)=>{if(!l)return[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])];l(h(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n(((l,a,t,o)=>{if(!a)return[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)];a(`${g(getItemDisplayName(e.raw))} `),isCustomRole(e.raw)?a(h(U,{size:"small",class:"ml-1"},{default:n(((e,l,a,t)=>{if(!l)return[c(" mdi-pencil-outline ")];l(" mdi-pencil-outline ")})),_:2},t,o)):a("\x3c!----\x3e")})),_:2},a,t))})),item:n((({item:e,props:l},a,t,o)=>{if(!a)return[m(P,s(l,{title:e.raw.name}),null,16,["title"])];a(h(P,s(l,{title:e.raw.name}),null,t,o))})),_:2},["custom"===W.value?{name:"append",fn:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})];l(h(U,{color:"secondary"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-pencil")];l("mdi-pencil")})),_:1},a,t))})),key:"0"}:void 0]),t,o)),a("</div>")})),_:1},t,o))})),_:1},t,o))})),_:1},t,o))})),actions:n(((e,l,a,t)=>{if(!l)return[m(F),m(w,{color:"grey-darken-1",variant:"text",onClick:goBack,disabled:_.value},{default:n((()=>[c(" Cancel ")])),_:1},8,["disabled"]),m(w,{color:"primary",onClick:handleConfirm,loading:_.value,disabled:!Y.value},{default:n((()=>[c(" Confirm Role ")])),_:1},8,["loading","disabled"])];l(h(F,null,null,a,t)),l(h(w,{color:"grey-darken-1",variant:"text",onClick:goBack,disabled:_.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Cancel ")];l(" Cancel ")})),_:1},a,t)),l(h(w,{color:"primary",onClick:handleConfirm,loading:_.value,disabled:!Y.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Confirm Role ")];l(" Confirm Role ")})),_:1},a,t))})),_:1},a))}}}),X=W.setup;W.setup=(e,l)=>{const a=i();return(a.modules||(a.modules=new Set)).add("components/talent/SelectRoleDialog.vue"),X?X(e,l):void 0};const Y=d({__name:"AddProjectCreditDialog",__ssrInlineRender:!0,props:{modelValue:Boolean,project:{type:Object,required:!0}},emits:["update:modelValue","credit-added"],setup(e,{emit:l}){const a=e,i=l,d=x(),{$axios:s}=C(),v=u(!1),p=u(null),_=u(!1),g=r({get:()=>a.modelValue,set:e=>i("update:modelValue",e)}),handleUserSelected=e=>{p.value=e,g.value=!1,_.value=!0},handleRoleDialogBack=()=>{_.value=!1,g.value=!0},handleRoleConfirm=async({talent:e,categoryId:l,customRole:t})=>{var o,u;if(p.value){v.value=!0;try{const o={user_id:p.value.id,talent_category_id:l,...t?{custom_role:t}:{talent_id:e.id}},{data:u}=await s.post(`/api/projects/${a.project.access_uuid}/credits`,o);d.success("Member added successfully"),i("credit-added",u.data),closeDialog()}catch(e){console.error("Error adding member:",e),d.error((null==(u=null==(o=null==e?void 0:e.response)?void 0:o.data)?void 0:u.message)||"Failed to add member")}finally{v.value=!1}}},closeDialog=()=>{g.value=!1,_.value=!1,p.value=null};return(e,l,a,i)=>{const d=t,u=o,r=W;l("\x3c!--[--\x3e"),l(h(d,{modelValue:g.value,"onUpdate:modelValue":e=>g.value=e,title:"Add Cast & Crew Member","max-width":"700px",persistent:v.value},{default:n(((e,l,a,t)=>{if(!l)return[m(R,{class:"pa-4"},{default:n((()=>[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>[m(T,{variant:"flat",class:"mb-4"},{default:n((()=>[m(I,null,{default:n((()=>[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})];l(h(R,{class:"pa-4"},{default:n(((e,l,a,t)=>{if(!l)return[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>[m(T,{variant:"flat",class:"mb-4"},{default:n((()=>[m(I,null,{default:n((()=>[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})];l(h(E,null,{default:n(((e,l,a,t)=>{if(!l)return[m($,{cols:"12"},{default:n((()=>[m(T,{variant:"flat",class:"mb-4"},{default:n((()=>[m(I,null,{default:n((()=>[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})])),_:1})])),_:1})])),_:1})];l(h($,{cols:"12"},{default:n(((e,l,a,t)=>{if(!l)return[m(T,{variant:"flat",class:"mb-4"},{default:n((()=>[m(I,null,{default:n((()=>[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})])),_:1})])),_:1})];l(h(T,{variant:"flat",class:"mb-4"},{default:n(((e,l,a,t)=>{if(!l)return[m(I,null,{default:n((()=>[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})])),_:1})];l(h(I,null,{default:n(((e,l,a,t)=>{if(!l)return[m(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l})=>[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])])),_:1},8,["loading"]),m(L,null,{default:n((()=>[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))])),_:1})];l(h(u,{onUserSelected:handleUserSelected,loading:v.value,placeholder:"Search for cast or crew member..."},{"user-action":n((({user:e,selectUser:l},a,t,o)=>{if(!a)return[m(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n((()=>[c(" Select ")])),_:2},1032,["onClick","loading"])];a(h(w,{color:"primary",variant:"tonal",size:"small",onClick:l,loading:v.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Select ")];l(" Select ")})),_:2},t,o))})),_:1},a,t)),l(h(L,null,{default:n(((e,l,a,t)=>{if(!l)return[p.value?y("",!0):(f(),b("div",{key:0,class:"text-center text-medium-emphasis mt-4"},[m(U,null,{default:n((()=>[c("mdi-information-outline")])),_:1}),m("div",{class:"text-body-2 mt-1"}," Search and select a user to add them to your project ")]))];p.value?l("\x3c!----\x3e"):(l(`<div class="text-center text-medium-emphasis mt-4" data-v-07167728${t}>`),l(h(U,null,{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-information-outline")];l("mdi-information-outline")})),_:1},a,t)),l(`<div class="text-body-2 mt-1" data-v-07167728${t}> Search and select a user to add them to your project </div></div>`))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),actions:n(((e,l,a,t)=>{if(!l)return[m(F),m(w,{color:"grey-darken-1",variant:"text",onClick:closeDialog,disabled:v.value},{default:n((()=>[c(" Cancel ")])),_:1},8,["disabled"])];l(h(F,null,null,a,t)),l(h(w,{color:"grey-darken-1",variant:"text",onClick:closeDialog,disabled:v.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Cancel ")];l(" Cancel ")})),_:1},a,t))})),_:1},a)),p.value?l(h(r,{modelValue:_.value,"onUpdate:modelValue":e=>_.value=e,user:p.value,onBack:handleRoleDialogBack,onConfirm:handleRoleConfirm},null,a)):l("\x3c!----\x3e"),l("\x3c!--]--\x3e")}}}),Z=Y.setup;Y.setup=(e,l)=>{const a=i();return(a.modules||(a.modules=new Set)).add("components/talent/AddProjectCreditDialog.vue"),Z?Z(e,l):void 0};const q=j(Y,[["__scopeId","data-v-07167728"]]),J=d({__name:"EditProjectCreditDialog",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},credit:{},projectAccessUuid:{}},emits:["update:modelValue","credit-updated"],setup(e,{emit:l}){const a=e,o=l,i=x(),{$axios:d}=C(),V=k(),j=u(!1),I=u(!1),L=u(!1),G=u(null),K=u(null),W=u([]),X=u([]),Y=u("existing"),Z=r({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),q=r((()=>G.value&&K.value&&J.value)),J=r((()=>{var e,l;if(!a.credit)return!1;const t=G.value!==(null==(l=null==(e=a.credit.role)?void 0:e.category)?void 0:l.id),o=getRoleComparison();return t||o})),getRoleComparison=()=>{var e,l,t,o;return!(!a.credit||!K.value)&&("string"==typeof K.value?K.value!==(null==(e=a.credit.role)?void 0:e.name):"object"==typeof K.value&&((null==(l=a.credit.role)?void 0:l.is_custom)?K.value.name!==(null==(t=a.credit.role)?void 0:t.name):K.value.id!==(null==(o=a.credit.role)?void 0:o.id)))},fetchTalentsByCategory=async e=>{if(e){L.value=!0;try{await V.fetchCategoryTalents(e),X.value=V.talents}catch(e){console.error("Error fetching talents:",e),i.error("Failed to load talents"),X.value=[]}finally{L.value=!1}}},handleCategoryChange=async e=>{if(K.value=null,X.value=[],e){const l=W.value.find((l=>l.id===e));(null==l?void 0:l.slug)&&await fetchTalentsByCategory(l.slug)}},isCustomRole=e=>!!e&&("string"==typeof e||"object"==typeof e&&!e.id),getItemDisplayName=e=>e?"string"==typeof e?e:"object"==typeof e&&e.name||"":"",handleUpdate=async()=>{var e,l;if(a.credit&&K.value&&G.value){j.value=!0;try{const e={talent_category_id:G.value,..."custom"===Y.value||"string"==typeof K.value?{custom_role:"string"==typeof K.value?K.value:K.value.name,talent_id:null}:{talent_id:K.value.id,custom_role:null}},{data:l}=await d.patch(`/api/projects/${a.projectAccessUuid}/credits/${a.credit.id}`,e);i.success("Member role updated successfully"),o("credit-updated",l.data),closeDialog()}catch(a){console.error("Error updating credit:",a),i.error((null==(l=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:l.message)||"Failed to update member role")}finally{j.value=!1}}},closeDialog=()=>{Z.value=!1,resetForm()},resetForm=()=>{G.value=null,K.value=null,X.value=[],Y.value="existing"};return _((()=>a.modelValue),(async e=>{e&&a.credit&&await(async()=>{var e,l,t;if(a.credit){if(G.value=(null==(l=null==(e=a.credit.role)?void 0:e.category)?void 0:l.id)||null,G.value){const e=W.value.find((e=>e.id===G.value));(null==e?void 0:e.slug)&&await fetchTalentsByCategory(e.slug)}if(null==(t=a.credit.role)?void 0:t.is_custom)Y.value="custom",K.value=a.credit.role.name;else{Y.value="existing";const e=X.value.find((e=>{var l;return e.id===(null==(l=a.credit.role)?void 0:l.id)}));K.value=e||null}}})()})),(e,l,a,o)=>{l(h(t,s({modelValue:Z.value,"onUpdate:modelValue":e=>Z.value=e,"max-width":"600px",persistent:j.value},o),{title:n(((l,a,t,o)=>{var i,d,u,r;if(!a)return[m("div",{class:"d-flex align-center"},[m("span",{class:"text-h6"},"Edit Role for "+v(null==(r=null==(u=e.credit)?void 0:u.user)?void 0:r.display_name),1)])];a(`<div class="d-flex align-center"${o}><span class="text-h6"${o}>Edit Role for ${g(null==(d=null==(i=e.credit)?void 0:i.user)?void 0:d.display_name)}</span></div>`)})),default:n(((l,a,t,o)=>{if(!a)return[m(R,{class:"pa-4"},{default:n((()=>[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>{var l,a,t,o;return[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>{var l,a,t,o;return[m(A,{src:null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.profile_photo,alt:null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])]})),_:1}),m("div",null,[m("div",{class:"text-h6"},v(null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v((null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.talent)||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:G.value,"onUpdate:modelValue":[e=>G.value=e,handleCategoryChange],items:W.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:I.value,disabled:j.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),G.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,items:"custom"===Y.value?[]:X.value,"item-title":"name","return-object":"",label:"custom"===Y.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:L.value,disabled:!G.value||j.value,hint:"custom"===Y.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===Y.value},p({prepend:n((()=>[m(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===Y.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])]})),_:1})])),_:1})])),_:1})];a(h(R,{class:"pa-4"},{default:n(((l,a,t,o)=>{if(!a)return[m(E,null,{default:n((()=>[m($,{cols:"12"},{default:n((()=>{var l,a,t,o;return[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>{var l,a,t,o;return[m(A,{src:null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.profile_photo,alt:null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])]})),_:1}),m("div",null,[m("div",{class:"text-h6"},v(null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v((null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.talent)||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:G.value,"onUpdate:modelValue":[e=>G.value=e,handleCategoryChange],items:W.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:I.value,disabled:j.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),G.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,items:"custom"===Y.value?[]:X.value,"item-title":"name","return-object":"",label:"custom"===Y.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:L.value,disabled:!G.value||j.value,hint:"custom"===Y.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===Y.value},p({prepend:n((()=>[m(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===Y.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])]})),_:1})])),_:1})];a(h(E,null,{default:n(((l,a,t,o)=>{if(!a)return[m($,{cols:"12"},{default:n((()=>{var l,a,t,o;return[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>{var l,a,t,o;return[m(A,{src:null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.profile_photo,alt:null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])]})),_:1}),m("div",null,[m("div",{class:"text-h6"},v(null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v((null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.talent)||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:G.value,"onUpdate:modelValue":[e=>G.value=e,handleCategoryChange],items:W.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:I.value,disabled:j.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),G.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,items:"custom"===Y.value?[]:X.value,"item-title":"name","return-object":"",label:"custom"===Y.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:L.value,disabled:!G.value||j.value,hint:"custom"===Y.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===Y.value},p({prepend:n((()=>[m(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===Y.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])]})),_:1})];a(h($,{cols:"12"},{default:n(((l,a,t,o)=>{var i,d,u,r,_,V,x,C;if(!a)return[m("div",{class:"d-flex align-center mb-6"},[m(z,{size:"48",class:"mr-4"},{default:n((()=>{var l,a,t,o;return[m(A,{src:null==(a=null==(l=e.credit)?void 0:l.user)?void 0:a.profile_photo,alt:null==(o=null==(t=e.credit)?void 0:t.user)?void 0:o.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])]})),_:1}),m("div",null,[m("div",{class:"text-h6"},v(null==(V=null==(_=e.credit)?void 0:_.user)?void 0:V.display_name),1),m("div",{class:"text-body-2 text-medium-emphasis"},v((null==(C=null==(x=e.credit)?void 0:x.user)?void 0:C.talent)||"No talent specified"),1)])]),m(M,{class:"mb-6"}),m("div",{class:"role-selection"},[m(D,{modelValue:G.value,"onUpdate:modelValue":[e=>G.value=e,handleCategoryChange],items:W.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:I.value,disabled:j.value,clearable:""},{prepend:n((()=>[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue","items","loading","disabled"]),G.value?(f(),b("div",{key:0,class:"role-mode-selector mb-3"},[m(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n((()=>[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])):y("",!0),m(N,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,items:"custom"===Y.value?[]:X.value,"item-title":"name","return-object":"",label:"custom"===Y.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:L.value,disabled:!G.value||j.value,hint:"custom"===Y.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===Y.value},p({prepend:n((()=>[m(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])])),selection:n((({item:e})=>[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])])),item:n((({item:e,props:l})=>[m(P,s(l,{title:e.raw.name}),null,16,["title"])])),_:2},["custom"===Y.value?{name:"append",fn:n((()=>[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","items","label","loading","disabled","hint","hide-no-data"])])];a(`<div class="d-flex align-center mb-6"${o}>`),a(h(z,{size:"48",class:"mr-4"},{default:n(((l,a,t,o)=>{var i,d,u,r,s,v,p,f;if(!a)return[m(A,{src:null==(v=null==(s=e.credit)?void 0:s.user)?void 0:v.profile_photo,alt:null==(f=null==(p=e.credit)?void 0:p.user)?void 0:f.display_name},{placeholder:n((()=>[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})])),_:1},8,["src","alt"])];a(h(A,{src:null==(d=null==(i=e.credit)?void 0:i.user)?void 0:d.profile_photo,alt:null==(r=null==(u=e.credit)?void 0:u.user)?void 0:r.display_name},{placeholder:n(((e,l,a,t)=>{if(!l)return[m(U,null,{default:n((()=>[c("mdi-account")])),_:1})];l(h(U,null,{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-account")];l("mdi-account")})),_:1},a,t))})),_:1},t,o))})),_:1},t,o)),a(`<div${o}><div class="text-h6"${o}>${g(null==(d=null==(i=e.credit)?void 0:i.user)?void 0:d.display_name)}</div><div class="text-body-2 text-medium-emphasis"${o}>${g((null==(r=null==(u=e.credit)?void 0:u.user)?void 0:r.talent)||"No talent specified")}</div></div></div>`),a(h(M,{class:"mb-6"},null,t,o)),a(`<div class="role-selection"${o}>`),a(h(D,{modelValue:G.value,"onUpdate:modelValue":[e=>G.value=e,handleCategoryChange],items:W.value,"item-title":"name","item-value":"id",label:"Select Category",variant:"outlined",density:"comfortable",class:"mb-4",loading:I.value,disabled:j.value,clearable:""},{prepend:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"primary"},{default:n((()=>[c("mdi-shape-outline")])),_:1})];l(h(U,{color:"primary"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-shape-outline")];l("mdi-shape-outline")})),_:1},a,t))})),_:1},t,o)),G.value?(a(`<div class="role-mode-selector mb-3"${o}>`),a(h(T,{variant:"flat",border:"",class:"pa-3 bg-grey-lighten-5"},{default:n(((e,l,a,t)=>{if(!l)return[m("div",{class:"d-flex align-center mb-2"},[m(U,{color:"info",class:"mr-2"},{default:n((()=>[c("mdi-information-outline")])),_:1}),m("span",{class:"text-body-2"},"Choose how you want to specify the role:")]),m(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n((()=>[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onUpdate:modelValue"])];l(`<div class="d-flex align-center mb-2"${t}>`),l(h(U,{color:"info",class:"mr-2"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-information-outline")];l("mdi-information-outline")})),_:1},a,t)),l(`<span class="text-body-2"${t}>Choose how you want to specify the role:</span></div>`),l(h(S,{modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,mandatory:"",color:"primary",rounded:"pill",class:"mb-1"},{default:n(((e,l,a,t)=>{if(!l)return[m(w,{value:"existing",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")])),_:1},8,["disabled"]),m(w,{value:"custom",disabled:j.value},{default:n((()=>[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")])),_:1},8,["disabled"])];l(h(w,{value:"existing",disabled:j.value},{default:n(((e,l,a,t)=>{if(!l)return[m(U,{start:""},{default:n((()=>[c("mdi-format-list-bulleted")])),_:1}),c(" Select Existing Role ")];l(h(U,{start:""},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-format-list-bulleted")];l("mdi-format-list-bulleted")})),_:1},a,t)),l(" Select Existing Role ")})),_:1},a,t)),l(h(w,{value:"custom",disabled:j.value},{default:n(((e,l,a,t)=>{if(!l)return[m(U,{start:""},{default:n((()=>[c("mdi-pencil-plus")])),_:1}),c(" Create Custom Role ")];l(h(U,{start:""},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-pencil-plus")];l("mdi-pencil-plus")})),_:1},a,t)),l(" Create Custom Role ")})),_:1},a,t))})),_:1},a,t))})),_:1},t,o)),a("</div>")):a("\x3c!----\x3e"),a(h(N,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,items:"custom"===Y.value?[]:X.value,"item-title":"name","return-object":"",label:"custom"===Y.value?"Enter custom role name":"Select a role",variant:"outlined",density:"comfortable",loading:L.value,disabled:!G.value||j.value,hint:"custom"===Y.value?"Type any role title you need":"Choose from available roles","persistent-hint":"",clearable:"","hide-no-data":"custom"===Y.value},p({prepend:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n((()=>[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)])),_:1},8,["color"])];l(h(U,{color:"custom"===Y.value?"secondary":"primary"},{default:n(((e,l,a,t)=>{if(!l)return[c(v("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie"),1)];l(`${g("custom"===Y.value?"mdi-pencil-plus":"mdi-account-tie")}`)})),_:1},a,t))})),selection:n((({item:e},l,a,t)=>{if(!l)return[m(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n((()=>[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)])),_:2},1032,["color"])];l(h(B,{color:isCustomRole(e.raw)?"secondary":"primary",variant:"flat"},{default:n(((l,a,t,o)=>{if(!a)return[c(v(getItemDisplayName(e.raw))+" ",1),isCustomRole(e.raw)?(f(),b(U,{key:0,size:"small",class:"ml-1"},{default:n((()=>[c(" mdi-pencil-outline ")])),_:1})):y("",!0)];a(`${g(getItemDisplayName(e.raw))} `),isCustomRole(e.raw)?a(h(U,{size:"small",class:"ml-1"},{default:n(((e,l,a,t)=>{if(!l)return[c(" mdi-pencil-outline ")];l(" mdi-pencil-outline ")})),_:2},t,o)):a("\x3c!----\x3e")})),_:2},a,t))})),item:n((({item:e,props:l},a,t,o)=>{if(!a)return[m(P,s(l,{title:e.raw.name}),null,16,["title"])];a(h(P,s(l,{title:e.raw.name}),null,t,o))})),_:2},["custom"===Y.value?{name:"append",fn:n(((e,l,a,t)=>{if(!l)return[m(U,{color:"secondary"},{default:n((()=>[c("mdi-pencil")])),_:1})];l(h(U,{color:"secondary"},{default:n(((e,l,a,t)=>{if(!l)return[c("mdi-pencil")];l("mdi-pencil")})),_:1},a,t))})),key:"0"}:void 0]),t,o)),a("</div>")})),_:1},t,o))})),_:1},t,o))})),_:1},t,o))})),actions:n(((e,l,a,t)=>{if(!l)return[m(F),m(w,{color:"grey-darken-1",variant:"text",onClick:closeDialog,disabled:j.value},{default:n((()=>[c(" Cancel ")])),_:1},8,["disabled"]),m(w,{color:"primary",onClick:handleUpdate,loading:j.value,disabled:!q.value},{default:n((()=>[c(" Update Role ")])),_:1},8,["loading","disabled"])];l(h(F,null,null,a,t)),l(h(w,{color:"grey-darken-1",variant:"text",onClick:closeDialog,disabled:j.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Cancel ")];l(" Cancel ")})),_:1},a,t)),l(h(w,{color:"primary",onClick:handleUpdate,loading:j.value,disabled:!q.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Update Role ")];l(" Update Role ")})),_:1},a,t))})),_:1},a))}}}),O=J.setup;J.setup=(e,l)=>{const a=i();return(a.modules||(a.modules=new Set)).add("components/talent/EditProjectCreditDialog.vue"),O?O(e,l):void 0};const H=d({__name:"AddProjectCredits",__ssrInlineRender:!0,props:{project:{}},setup(t){const o=t,i=x(),d=l(),v=u(!1),p=u(!1),f=u(!1),b=u(!1),y=u(null),_=u(null),g=u(!0),C=u(!1),U=u(!0),S=u(1),j=u(!1),k=r((()=>d.totalMembers));r((()=>d.categoryGroups));K((async e=>{if(1===e&&j.value)return[];if(C.value&&e>1)return[];try{e>1&&(C.value=!0);const l=await d.fetchCredits(o.project.access_uuid,e);return 1===e&&(j.value=!0),U.value=d.hasMorePages,S.value=d.page,l.flatMap((e=>e.credits))}catch(e){return console.error("Error fetching credits:",e),i.error("Failed to load members"),[]}finally{e>1&&(C.value=!1),1===e&&(g.value=!1)}}),{threshold:200,throttle:300,initialLoadDelay:0});const openAddCreditDialog=()=>{v.value=!0},openEditCreditDialog=e=>{_.value=e,p.value=!0},handleCreditAdded=async e=>{if(v.value=!1,e)d.addCreditToState(e),i.success("Member added successfully");else try{await d.fetchCredits(o.project.access_uuid,1),i.success("Member added successfully")}catch(e){i.error("Failed to refresh member list")}},handleCreditUpdated=e=>{p.value=!1,_.value=null,d.updateCreditInState(e),i.success("Member role updated successfully")},confirmDeleteCredit=e=>{y.value=e,f.value=!0},handleDelete=async()=>{var e,l;if(y.value){b.value=!0;try{await d.deleteCredit(o.project.access_uuid,y.value.id),f.value=!1,y.value=null,i.success("Member removed successfully");if(d.getTotalCredits<16&&d.hasMorePages)try{await d.fetchCredits(o.project.access_uuid,d.page+1)}catch(e){console.error("Error loading more items after deletion:",e)}}catch(a){i.error((null==(l=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:l.message)||"Failed to remove member")}finally{b.value=!1}}},handleCancel=()=>{f.value=!1,y.value=null};return(l,t,o,i)=>{const d=e,u=a,r=q,y=J,x=G;t(`<div${V(s({class:"cast-and-crew"},i))} data-v-352354c3>`),t(h(R,{class:"px-0"},{default:n(((e,a,t,o)=>{if(!a)return[m(d,{title:"Cast & Crew",subtitle:`Showcase your project's talent - from lead actors to behind-the-scenes crew. ${k.value} ${1===k.value?"member":"members"} currently on your team.`},{actionable:n((()=>[m(w,{color:"primary","prepend-icon":"mdi-account-plus",onClick:openAddCreditDialog,disabled:g.value},{default:n((()=>[c(" Add Member ")])),_:1},8,["disabled"])])),_:1},8,["subtitle"]),m(u,{"is-loading":g.value,"is-loading-more":C.value,"has-more":U.value,"show-actions":!0,"empty-state-title":"No Cast & Crew Members Yet","empty-state-message":"Start building your project team by adding cast and crew members.","show-empty-state-action":!0,"empty-state-action-text":"Add First Member",onDeleteCredit:confirmDeleteCredit,onEditCredit:openEditCreditDialog,onEmptyStateAction:openAddCreditDialog},null,8,["is-loading","is-loading-more","has-more"]),m(r,{modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,project:l.project,onCreditAdded:handleCreditAdded},null,8,["modelValue","onUpdate:modelValue","project"]),m(y,{modelValue:p.value,"onUpdate:modelValue":e=>p.value=e,credit:_.value,"project-access-uuid":l.project.access_uuid,onCreditUpdated:handleCreditUpdated},null,8,["modelValue","onUpdate:modelValue","credit","project-access-uuid"]),m(x,{modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,title:"Delete Member",message:"Are you sure you want to remove this member? This action cannot be undone.",loading:b.value,onConfirm:handleDelete,onCancel:handleCancel},null,8,["modelValue","onUpdate:modelValue","loading"])];a(h(d,{title:"Cast & Crew",subtitle:`Showcase your project's talent - from lead actors to behind-the-scenes crew. ${k.value} ${1===k.value?"member":"members"} currently on your team.`},{actionable:n(((e,l,a,t)=>{if(!l)return[m(w,{color:"primary","prepend-icon":"mdi-account-plus",onClick:openAddCreditDialog,disabled:g.value},{default:n((()=>[c(" Add Member ")])),_:1},8,["disabled"])];l(h(w,{color:"primary","prepend-icon":"mdi-account-plus",onClick:openAddCreditDialog,disabled:g.value},{default:n(((e,l,a,t)=>{if(!l)return[c(" Add Member ")];l(" Add Member ")})),_:1},a,t))})),_:1},t,o)),a(h(u,{"is-loading":g.value,"is-loading-more":C.value,"has-more":U.value,"show-actions":!0,"empty-state-title":"No Cast & Crew Members Yet","empty-state-message":"Start building your project team by adding cast and crew members.","show-empty-state-action":!0,"empty-state-action-text":"Add First Member",onDeleteCredit:confirmDeleteCredit,onEditCredit:openEditCreditDialog,onEmptyStateAction:openAddCreditDialog},null,t,o)),a(h(r,{modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,project:l.project,onCreditAdded:handleCreditAdded},null,t,o)),a(h(y,{modelValue:p.value,"onUpdate:modelValue":e=>p.value=e,credit:_.value,"project-access-uuid":l.project.access_uuid,onCreditUpdated:handleCreditUpdated},null,t,o)),a(h(x,{modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,title:"Delete Member",message:"Are you sure you want to remove this member? This action cannot be undone.",loading:b.value,onConfirm:handleDelete,onCancel:handleCancel},null,t,o))})),_:1},o)),t("</div>")}}}),Q=H.setup;H.setup=(e,l)=>{const a=i();return(a.modules||(a.modules=new Set)).add("components/project/AddProjectCredits.vue"),Q?Q(e,l):void 0};const ee=j(H,[["__scopeId","data-v-352354c3"]]);export{ee as _};

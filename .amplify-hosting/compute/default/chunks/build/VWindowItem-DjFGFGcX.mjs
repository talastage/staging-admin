import{ref as e,computed as t,shallowRef as n,watch as o,provide as a,createVNode as l,withDirectives as i,resolveDirective as r,inject as s,vShow as u,nextTick as v}from"vue";import{p as c,m as d,g as f,z as h,h as p,B as m,i as g,a7 as w,a8 as y,b as T,j as b,a9 as B,aa as C,Q as E,a6 as x}from"./server.mjs";import{a as X,b as Y}from"./VOverlay-ZKavbTei.mjs";import{u as _}from"./ssrBoot-BtvJZs44.mjs";import{M as H}from"./VImg-B2jcJjnn.mjs";function touchend(e,t){var n;const o=e.changedTouches[0];t.touchendX=o.clientX,t.touchendY=o.clientY,null==(n=t.end)||n.call(t,{originalEvent:e,...t}),(e=>{const{touchstartX:t,touchendX:n,touchstartY:o,touchendY:a}=e;e.offsetX=n-t,e.offsetY=a-o,Math.abs(e.offsetY)<.5*Math.abs(e.offsetX)&&(e.left&&n<t-16&&e.left(e),e.right&&n>t+16&&e.right(e)),Math.abs(e.offsetX)<.5*Math.abs(e.offsetY)&&(e.up&&a<o-16&&e.up(e),e.down&&a>o+16&&e.down(e))})(t)}const I={mounted:function(e,t){var n,o,a;const l=t.value,i=(null==l?void 0:l.parent)?e.parentElement:e,r=null!=(n=null==l?void 0:l.options)?n:{passive:!0},s=null==(a=t.instance)?void 0:a.$.uid;if(!i||!s)return;const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>function(e,t){var n;const o=e.changedTouches[0];t.touchstartX=o.clientX,t.touchstartY=o.clientY,null==(n=t.start)||n.call(t,{originalEvent:e,...t})}(e,t),touchend:e=>touchend(e,t),touchmove:e=>function(e,t){var n;const o=e.changedTouches[0];t.touchmoveX=o.clientX,t.touchmoveY=o.clientY,null==(n=t.move)||n.call(t,{originalEvent:e,...t})}(e,t)}}(t.value);i._touchHandlers=null!=(o=i._touchHandlers)?o:Object.create(null),i._touchHandlers[s]=u,x(u).forEach((e=>{i.addEventListener(e,u[e],r)}))},unmounted:function(e,t){var n,o;const a=(null==(n=t.value)?void 0:n.parent)?e.parentElement:e,l=null==(o=t.instance)?void 0:o.$.uid;if(!(null==a?void 0:a._touchHandlers)||!l)return;const i=a._touchHandlers[l];x(i).forEach((e=>{a.removeEventListener(e,i[e])})),delete a._touchHandlers[l]}},S=Symbol.for("vuetify:v-window"),V=Symbol.for("vuetify:v-window-group"),j=c({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||"hover"===e},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...d(),...f(),...h()},"VWindow"),A=p()({name:"VWindow",directives:{Touch:I},props:j(),emits:{"update:modelValue":e=>!0},setup(s,u){let{slots:v}=u;const{themeClasses:c}=m(s),{isRtl:d}=g(),{t:f}=w(),h=y(s,V),p=e(),B=t((()=>d.value?!s.reverse:s.reverse)),C=n(!1),E=t((()=>`v-window-${"vertical"===s.direction?"y":"x"}${(B.value?!C.value:C.value)?"-reverse":""}-transition`)),x=n(0),X=e(void 0),Y=t((()=>h.items.value.findIndex((e=>h.selected.value.includes(e.id)))));o(Y,((e,t)=>{const n=h.items.value.length,o=n-1;C.value=n<=2?e<t:e===o&&0===t||(0!==e||t!==o)&&e<t})),a(S,{transition:E,isReversed:C,transitionCount:x,transitionHeight:X,rootRef:p});const _=t((()=>s.continuous||0!==Y.value)),H=t((()=>s.continuous||Y.value!==h.items.value.length-1));function prev(){_.value&&h.prev()}function next(){H.value&&h.next()}const I=t((()=>{const e=[],t={icon:d.value?s.nextIcon:s.prevIcon,class:"v-window__"+(B.value?"right":"left"),onClick:h.prev,ariaLabel:f("$vuetify.carousel.prev")};e.push(_.value?v.prev?v.prev({props:t}):l(T,t,null):l("div",null,null));const n={icon:d.value?s.prevIcon:s.nextIcon,class:"v-window__"+(B.value?"left":"right"),onClick:h.next,ariaLabel:f("$vuetify.carousel.next")};return e.push(H.value?v.next?v.next({props:n}):l(T,n,null):l("div",null,null)),e})),j=t((()=>{if(!1===s.touch)return s.touch;return{...{left:()=>{B.value?prev():next()},right:()=>{B.value?next():prev()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}},...!0===s.touch?{}:s.touch}}));return b((()=>i(l(s.tag,{ref:p,class:["v-window",{"v-window--show-arrows-on-hover":"hover"===s.showArrows},c.value,s.class],style:s.style},{default:()=>{var e,t;return[l("div",{class:"v-window__container",style:{height:X.value}},[null==(e=v.default)?void 0:e.call(v,{group:h}),!1!==s.showArrows&&l("div",{class:"v-window__controls"},[I.value])]),null==(t=v.additional)?void 0:t.call(v,{group:h})]}}),[[r("touch"),j.value]]))),{group:h}}}),$=c({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...d(),...B(),...X()},"VWindowItem"),L=p()({name:"VWindowItem",directives:{Touch:I},props:$(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:a}=o;const r=s(S),c=C(e,V),{isBooted:d}=_();if(!r||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const f=n(!1),h=t((()=>d.value&&(r.isReversed.value?!1!==e.reverseTransition:!1!==e.transition)));function onAfterTransition(){f.value&&r&&(f.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,0===r.transitionCount.value&&(r.transitionHeight.value=void 0)))}function onBeforeTransition(){var e;!f.value&&r&&(f.value=!0,0===r.transitionCount.value&&(r.transitionHeight.value=E(null==(e=r.rootRef.value)?void 0:e.clientHeight)),r.transitionCount.value+=1)}function onTransitionCancelled(){onAfterTransition()}function onEnterTransition(e){f.value&&v((()=>{h.value&&f.value&&r&&(r.transitionHeight.value=E(e.clientHeight))}))}const p=t((()=>{const t=r.isReversed.value?e.reverseTransition:e.transition;return!!h.value&&{name:"string"!=typeof t?r.transition.value:t,onBeforeEnter:onBeforeTransition,onAfterEnter:onAfterTransition,onEnterCancelled:onTransitionCancelled,onBeforeLeave:onBeforeTransition,onAfterLeave:onAfterTransition,onLeaveCancelled:onTransitionCancelled,onEnter:onEnterTransition}})),{hasContent:m}=Y(e,c.isSelected);return b((()=>l(H,{transition:p.value,disabled:!d.value},{default:()=>{var t;return[i(l("div",{class:["v-window-item",c.selectedClass.value,e.class],style:e.style},[m.value&&(null==(t=a.default)?void 0:t.call(a))]),[[u,c.isSelected.value]])]}}))),{groupItem:c}}});export{A as V,L as a,$ as b,j as m};

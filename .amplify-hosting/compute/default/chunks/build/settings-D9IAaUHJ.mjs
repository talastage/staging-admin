import{useSSRContext as e,reactive as a,readonly as l,defineComponent as r,ref as t,computed as s,watch as n,withCtx as o,createTextVNode as u,createVNode as i,mergeProps as d,unref as c,toDisplayString as m,openBlock as p,createBlock as v,Fragment as f,renderList as y,createCommentVNode as g,withModifiers as b,isRef as _,resolveDynamicComponent as h,withAsyncContext as V}from"vue";import{ssrRenderComponent as w,ssrRenderList as k,ssrInterpolate as x,ssrRenderAttrs as C,ssrRenderVNode as U,ssrRenderClass as S}from"vue/server-renderer";import{_ as I}from"./UserProfilePhoto-DGlcWzzt.mjs";import{B as P}from"./BaseDialog-DsGYlnLZ.mjs";import{_ as E}from"./BaseButton-BTGPFNw4.mjs";import{_ as $}from"./ConfirmDialog-Cn3K7Uxa.mjs";import{d as j,u as z,_ as q,b as A,U as N,V as B,a as D}from"./server.mjs";import{u as R}from"./useDebounce-MF5_aaOF.mjs";import{V as F}from"./VTextField-rd-VvEF8.mjs";import{u as T}from"./useSnackMessage-PVLwAm7x.mjs";import{V as M}from"./VContainer-By3q0af_.mjs";import{V as O}from"./VForm-HRC00ryg.mjs";import{V as L}from"./VRow-rkX0LEXR.mjs";import{V as Z}from"./VCol-CKxprC4g.mjs";import{V as Y}from"./VOverlay-ZKavbTei.mjs";import{_ as G}from"./nuxt-link-CU98Qcmd.mjs";import{V as W}from"./index--K8ZrFMm.mjs";import{V as J,b as X,a as K,c as Q}from"./VCard-CsohsM82.mjs";import{V as H}from"./VDivider-BmyMVZMt.mjs";import{V as ee,a as ae}from"./VChip-f_o2BAA4.mjs";import{V as le}from"./VDialog-DA9BdIfh.mjs";import{V as re}from"./VOtpInput-CwUg_E9q.mjs";import{V as te}from"./VAlert-DneVUU3Q.mjs";import{V as se}from"./VSpacer-_gFExeVk.mjs";import{V as ne}from"./VSnackbar-zBX8NfdO.mjs";import{_ as oe}from"./TalentRegisterDialog-BoN4VGGP.mjs";import{V as ue}from"./VList-CcwwrkQR.mjs";import{V as ie,a as de}from"./VListItem-jTLuICGb.mjs";import{V as ce,a as me}from"./VWindowItem-DjFGFGcX.mjs";import{u as pe}from"./useApps-hYo13Xt3.mjs";import{u as ve}from"./useSeo-Dl9beXFt.mjs";import"vue-cropperjs";import"./VAvatar-JL8WKjry.mjs";import"./VImg-B2jcJjnn.mjs";import"./useProfileOwnership-UkSlwWA2.mjs";import"./useVaporUpload-BcV2ypUE.mjs";import"vue-router";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./VCounter-BZE6l8kb.mjs";import"./VField-ZM6yOiXp.mjs";import"./VInput-DRJS2l97.mjs";import"./easing-Bn3h-KUg.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./dialog-transition-BU2TTOTj.mjs";import"./QuickTalentSelection-DYzSZiSn.mjs";import"./useTalentCategories-DQov3s2P.mjs";import"./VAutocomplete-BqaBgOKW.mjs";import"./VSelect-BWLkvD3S.mjs";import"./VMenu-BpdBiT5v.mjs";import"./VCheckboxBtn-v4ZZzD80.mjs";import"./VSelectionControl-BvLhSUlq.mjs";import"./filter-BWdoXH_J.mjs";import"./SelectTalent-DshisEIU.mjs";import"./VTextarea-DkPaPTLI.mjs";import"lodash/debounce.js";import"./BaseContent-D2jufG_L.mjs";import"./EmptyStateCard-3UqWseqH.mjs";import"./VSkeletonLoader-CXOx9RZQ.mjs";import"./ssrBoot-BtvJZs44.mjs";const fe={__name:"UserProfileSettingsCard",__ssrInlineRender:!0,setup(e){const{$axios:a,$toast:l}=z(),r=D(),{required:f,username:y}=function(e){const required=e=>!!e||"Required.",numeric=e=>/^[0-9]*$/.test(e)||"Only numbers are allowed.",a=s((()=>[e=>required(e),e=>numeric(e),e=>e>0||"Amount must be greater than 0",e=>e<=0||"Insufficient balance"])),l=s((()=>a.value.every((a=>!0===a(e.value)))));return{required:required,email:e=>/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e)||"Invalid email.",phone:e=>/^[0-9]{10,15}$/.test(e)||"Invalid phone number.",minLength:e=>a=>a.length>=e||`Minimum length is ${e} characters.`,maxLength:e=>a=>a.length<=e||`Maximum length is ${e} characters.`,passwordStrength:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$/.test(e)||"Password must include upper, lower, number, and special character.",matchPassword:e=>a=>a===e||"Passwords do not match.",url:e=>/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/.test(e)||"Invalid URL.",numeric:numeric,alpha:e=>/^[A-Za-z]+$/.test(e)||"Only alphabetic characters are allowed.",alphanumeric:e=>/^[A-Za-z0-9]+$/.test(e)||"Only alphanumeric characters are allowed.",customPattern:(e,a)=>l=>e.test(l)||a,date:e=>/^\d{4}-\d{2}-\d{2}$/.test(e)||"Invalid date. Format should be YYYY-MM-DD.",amountRules:a,isValid:l,username:e=>/^[a-zA-Z0-9_]+$/.test(e)||"Username can only contain letters, numbers, and underscores."}}(),{debounce:b}=R(),_=s((()=>{var e;return null==(e=r.user)?void 0:e.value})),h=t(!1),V=t(!1),k=t(""),U=t(!1),S=t([]),j=t(null),q=t(!1),N=s((()=>`www.talaconnect.com/@${_.value.username}`)),B=s((()=>k.value&&!0===y(k.value))),openUsernameDialog=()=>{_.value.can_change_username&&(k.value=_.value.username,j.value=null,S.value=[],h.value=!0)},T=b((async()=>{var e,l;if(B.value&&k.value!==_.value.username){q.value=!0,j.value=null;try{const e=await a.get(`/api/user/check-username/${k.value}`);j.value=e.data.available}catch(a){console.error("Error checking username:",a),j.value=!1,(null==(l=null==(e=a.response)?void 0:e.data)?void 0:l.errors)&&(S.value=Object.values(a.response.data.errors).flat())}finally{q.value=!1}}else j.value=null}),300),handleUsernameInput=()=>{S.value=[],j.value=null,k.value!==_.value.username&&B.value&&T()},confirmUsernameChange=()=>{B.value&&_.value.can_change_username&&j.value&&k.value!==_.value.username&&(V.value=!0)},changeUsername=async()=>{var e,t,s,n,o,u,i,d;U.value=!0,S.value=[];try{const e=await a.post("/api/user/change-username",{username:k.value});e.data&&e.data.username&&(r.updateUsername(e.data.username),l.success(e.data.message||"Username changed successfully!"),h.value=!1,V.value=!1,j.value=null,S.value=[])}catch(a){console.error("Username change error:",a),(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.errors)?S.value=Object.values(a.response.data.errors).flat():(null==(n=null==(s=a.response)?void 0:s.data)?void 0:n.error)?S.value=[a.response.data.error]:S.value=["An error occurred while changing the username."];const r=(null==(u=null==(o=a.response)?void 0:o.data)?void 0:u.message)||(null==(d=null==(i=a.response)?void 0:i.data)?void 0:d.error)||"Failed to change username. Please try again.";l.error(r)}finally{U.value=!1}};return n(k,(e=>{e!==_.value.username&&(j.value=null)})),(e,a,l,r)=>{const t=I,s=P,n=E,b=$;a(`<div${C(d({class:"user-profile-settings-card mb-3"},r))} data-v-33f39908><div class="profile-section" data-v-33f39908><div class="profile-info" data-v-33f39908>`),a(w(t,{user:_.value},null,l)),a(`<div class="user-details" data-v-33f39908><h3 data-v-33f39908>@${x(_.value.username)}</h3><p data-v-33f39908>${x(N.value)}</p></div></div>`),a(w(A,{onClick:openUsernameDialog,color:"primary",disabled:!_.value.can_change_username},{default:o(((e,a,l,r)=>{if(!a)return[u(" Change Username ")];a(" Change Username ")})),_:1},l)),a("</div>"),a(w(s,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,title:"Change Username","max-width":"400px"},{actions:o(((e,a,l,r)=>{if(!a)return[i(n,{title:"Save",onClick:confirmUsernameChange,disabled:!B.value||!_.value.can_change_username||!j.value,loading:U.value,color:"primary","full-width":""},null,8,["disabled","loading"])];a(w(n,{title:"Save",onClick:confirmUsernameChange,disabled:!B.value||!_.value.can_change_username||!j.value,loading:U.value,color:"primary","full-width":""},null,l,r))})),default:o(((e,a,l,r)=>{if(!a)return[i(F,{modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,label:"New Username","error-messages":S.value,disabled:!_.value.can_change_username,rules:[c(f),c(y)],onInput:handleUsernameInput},null,8,["modelValue","onUpdate:modelValue","error-messages","disabled","rules"]),_.value.can_change_username?g("",!0):(p(),v("p",{key:0,class:"warning-text"}," Your username can be changed once every 30 days. You can change it again after "+m(_.value.next_username_change_date)+". ",1)),q.value?(p(),v("p",{key:1,class:"info-text"}," Checking username availability... ")):j.value?(p(),v("p",{key:2,class:"success-text"},"Username is available!")):!1===j.value?(p(),v("p",{key:3,class:"error-text"}," Username is not available. ")):g("",!0)];a(w(F,{modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,label:"New Username","error-messages":S.value,disabled:!_.value.can_change_username,rules:[c(f),c(y)],onInput:handleUsernameInput},null,l,r)),_.value.can_change_username?a("\x3c!----\x3e"):a(`<p class="warning-text" data-v-33f39908${r}> Your username can be changed once every 30 days. You can change it again after ${x(_.value.next_username_change_date)}. </p>`),q.value?a(`<p class="info-text" data-v-33f39908${r}> Checking username availability... </p>`):j.value?a(`<p class="success-text" data-v-33f39908${r}>Username is available!</p>`):!1===j.value?a(`<p class="error-text" data-v-33f39908${r}> Username is not available. </p>`):a("\x3c!----\x3e")})),_:1},l)),a(w(b,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,title:"Confirm Username Change",onConfirm:changeUsername},{default:o(((e,a,l,r)=>{if(!a)return[i("p",null," Are you sure you want to change your username to @"+m(k.value)+"? ",1)];a(`<p data-v-33f39908${r}> Are you sure you want to change your username to @${x(k.value)}? </p>`)})),_:1},l)),a("</div>")}}},ye=fe.setup;fe.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/user/UserProfileSettingsCard.vue"),ye?ye(a,l):void 0};const ge=q(fe,[["__scopeId","data-v-33f39908"]]),be=r({__name:"PersonalDetailSettings",__ssrInlineRender:!0,setup(e){const l=t(!0),r=t(!1),d=t(!1),c=a({id:0,first_name:"",last_name:"",display_name:"",birthday:"",gender:"",phone:"",username:"",profile_photo:"",last_username_change:""}),m=a({...c}),p=["January","February","March","April","May","June","July","August","September","October","November","December"];function getBirthdayParts(e){const a=new Date(e);return{month:p[a.getMonth()],day:a.getDate(),year:a.getFullYear()}}function setBirthdayString(e,a,l){const r=p.indexOf(a);m.birthday=`${e}-${r+1}-${l}`}Array.from({length:31},((e,a)=>a+1)),Array.from({length:100},((e,a)=>(new Date).getFullYear()-a));const v=(new Date).toISOString(),f=a(getBirthdayParts(v)),y=[e=>!!e||"Name is required"],g=[e=>!!e||"Display name is required"],b=s((()=>JSON.stringify(m)!==JSON.stringify(c)));n([b,l],(()=>{d.value=b.value&&l.value}),{immediate:!0}),n((()=>f.month),(e=>setBirthdayString(f.year,e,f.day))),n((()=>f.day),(e=>setBirthdayString(f.year,f.month,e))),n((()=>f.year),(e=>setBirthdayString(e,f.month,f.day)));const{$axios:_}=z(),h=T();async function saveDetails(){var e,a,t,s;if(l.value&&d.value){r.value=!0;try{await _.get("/sanctum/csrf-cookie",{withCredentials:!0});const{data:e}=await _.put("/api/user/personal-details",m,{withCredentials:!0});Object.assign(c,m),d.value=!1,h.success((null==e?void 0:e.message)||"Personal details updated successfully.")}catch(l){if(null==(a=null==(e=l.response)?void 0:e.data)?void 0:a.errors){const e=Object.values(l.response.data.errors).join(", ");h.error(e)}else h.error((null==(s=null==(t=l.response)?void 0:t.data)?void 0:s.error)||l.message||"Failed to save user details.")}finally{r.value=!1}}}function resetForm(){Object.assign(m,c),Object.assign(f,getBirthdayParts(m.birthday)),d.value=!1}return(e,a,t,s)=>{const n=ge;a(w(M,s,{default:o(((e,a,t,s)=>{if(!a)return[i(n),i(O,{ref:"form",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,"lazy-validation":""},{default:o((()=>[i(F,{modelValue:m.first_name,"onUpdate:modelValue":e=>m.first_name=e,rules:y,label:"First Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(F,{modelValue:m.last_name,"onUpdate:modelValue":e=>m.last_name=e,rules:y,label:"Last Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(F,{modelValue:m.display_name,"onUpdate:modelValue":e=>m.display_name=e,rules:g,label:"Display Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(L,null,{default:o((()=>[i(Z,null,{default:o((()=>[i(A,{color:"primary",class:"mr-3",onClick:saveDetails,disabled:!d.value||r.value,flat:""},{default:o((()=>[u(" Save Changes ")])),_:1},8,["disabled"]),i(A,{color:"error",onClick:resetForm,flat:""},{default:o((()=>[u("Cancel")])),_:1})])),_:1})])),_:1}),i(Y,{value:r.value},{default:o((()=>[i(N,{indeterminate:"",size:"64"})])),_:1},8,["value"])])),_:1},8,["modelValue","onUpdate:modelValue"])];a(w(n,null,null,t,s)),a(w(O,{ref:"form",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,"lazy-validation":""},{default:o(((e,a,l,t)=>{if(!a)return[i(F,{modelValue:m.first_name,"onUpdate:modelValue":e=>m.first_name=e,rules:y,label:"First Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(F,{modelValue:m.last_name,"onUpdate:modelValue":e=>m.last_name=e,rules:y,label:"Last Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(F,{modelValue:m.display_name,"onUpdate:modelValue":e=>m.display_name=e,rules:g,label:"Display Name",required:"",outlined:"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"]),i(L,null,{default:o((()=>[i(Z,null,{default:o((()=>[i(A,{color:"primary",class:"mr-3",onClick:saveDetails,disabled:!d.value||r.value,flat:""},{default:o((()=>[u(" Save Changes ")])),_:1},8,["disabled"]),i(A,{color:"error",onClick:resetForm,flat:""},{default:o((()=>[u("Cancel")])),_:1})])),_:1})])),_:1}),i(Y,{value:r.value},{default:o((()=>[i(N,{indeterminate:"",size:"64"})])),_:1},8,["value"])];a(w(F,{modelValue:m.first_name,"onUpdate:modelValue":e=>m.first_name=e,rules:y,label:"First Name",required:"",outlined:"",color:"primary"},null,l,t)),a(w(F,{modelValue:m.last_name,"onUpdate:modelValue":e=>m.last_name=e,rules:y,label:"Last Name",required:"",outlined:"",color:"primary"},null,l,t)),a(w(F,{modelValue:m.display_name,"onUpdate:modelValue":e=>m.display_name=e,rules:g,label:"Display Name",required:"",outlined:"",color:"primary"},null,l,t)),a(w(L,null,{default:o(((e,a,l,t)=>{if(!a)return[i(Z,null,{default:o((()=>[i(A,{color:"primary",class:"mr-3",onClick:saveDetails,disabled:!d.value||r.value,flat:""},{default:o((()=>[u(" Save Changes ")])),_:1},8,["disabled"]),i(A,{color:"error",onClick:resetForm,flat:""},{default:o((()=>[u("Cancel")])),_:1})])),_:1})];a(w(Z,null,{default:o(((e,a,l,t)=>{if(!a)return[i(A,{color:"primary",class:"mr-3",onClick:saveDetails,disabled:!d.value||r.value,flat:""},{default:o((()=>[u(" Save Changes ")])),_:1},8,["disabled"]),i(A,{color:"error",onClick:resetForm,flat:""},{default:o((()=>[u("Cancel")])),_:1})];a(w(A,{color:"primary",class:"mr-3",onClick:saveDetails,disabled:!d.value||r.value,flat:""},{default:o(((e,a,l,r)=>{if(!a)return[u(" Save Changes ")];a(" Save Changes ")})),_:1},l,t)),a(w(A,{color:"error",onClick:resetForm,flat:""},{default:o(((e,a,l,r)=>{if(!a)return[u("Cancel")];a("Cancel")})),_:1},l,t))})),_:1},l,t))})),_:1},l,t)),a(w(Y,{value:r.value},{default:o(((e,a,l,r)=>{if(!a)return[i(N,{indeterminate:"",size:"64"})];a(w(N,{indeterminate:"",size:"64"},null,l,r))})),_:1},l,t))})),_:1},t,s))})),_:1},t))}}}),_e=be.setup;be.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/settings/PersonalDetailSettings.vue"),_e?_e(a,l):void 0};const he=j("passwordChange",(()=>{const{$axios:e}=z();return{changePassword:async(a,l,r)=>{try{return(await e.put("/auth/change-password",{current_password:a,new_password:l,confirm_password:r})).data}catch(e){throw e}}}}));const Ve=r({__name:"PasswordAndSecuritySettings",__ssrInlineRender:!0,setup(e){const a=he(),l=T(),r=t(null),_=t(!1),h=t(!1),V=t(""),C=t(""),U=t(""),S=t(""),I=t(""),P=t(""),E=t(!1),$=t(!1),j=t(!1),{passwordChecks:z,meetsAllRequirements:q}=function(e){const a=s((()=>/[A-Z]/.test(e.value))),l=s((()=>/[a-z]/.test(e.value))),r=s((()=>/[0-9]/.test(e.value))),t=s((()=>/[@$!%*#?&]/.test(e.value))),n=s((()=>e.value.length>=8)),o=s((()=>[{label:"Uppercase",passes:a.value},{label:"Lowercase",passes:l.value},{label:"Number",passes:r.value},{label:"Special",passes:t.value},{label:"8+ chars",passes:n.value}])),u=s((()=>o.value.every((e=>e.passes))));return{passwordChecks:o,meetsAllRequirements:u,hasUpperCase:a,hasLowerCase:l,hasNumber:r,hasSpecialChar:t,isLongEnough:n}}(C),N={required:e=>!!e||"This field is required",passwordStrength:e=>q.value||"Password must meet all requirements",passwordMatch:e=>e===C.value||"Passwords do not match"},togglePasswordVisibility=e=>{switch(e){case"current":E.value=!E.value;break;case"new":$.value=!$.value;break;case"confirm":j.value=!j.value}},clearErrors=()=>{S.value="",I.value="",P.value=""},handlePasswordChange=async()=>{if(_.value){h.value=!0,clearErrors();try{await a.changePassword(V.value,C.value,U.value),l.success("Password updated successfully"),r.value&&r.value.reset(),V.value="",C.value="",U.value="",clearErrors()}catch(e){handleError(e)}finally{h.value=!1}}},handleError=e=>{if(e.response){const{status:a,data:r}=e.response;if(422===a&&r.errors)return clearErrors(),Object.entries(r.errors).forEach((([e,a])=>{const l=Array.isArray(a)?a[0]:a;switch(e){case"current_password":S.value=l;break;case"new_password":I.value=l;break;case"confirm_password":P.value=l}})),void l.error(r.message||"Please check the form for errors");switch(a){case 401:S.value="Current password is incorrect",l.error("Current password is incorrect");break;case 403:l.error("You are not authorized to perform this action");break;case 429:l.error("Too many attempts. Please wait a moment before trying again");break;case 500:l.error("An unexpected error occurred. Please try again later");break;default:l.error(r.message||"An unexpected error occurred. Please try again later")}}else e.request?l.error("Network error. Please check your connection and try again"):l.error("An unexpected error occurred. Please try again later")};return n(V,(()=>{S.value=""})),n(C,(()=>{I.value="",U.value&&(U.value="")})),n(U,(()=>{P.value=""})),(e,a,l,t)=>{const s=G;a(w(J,d({class:"elevation-1"},t),{default:o(((e,a,l,t)=>{if(!a)return[i(X,{class:"d-flex align-center py-4 px-6"},{default:o((()=>[i(B,{icon:"mdi-shield-lock",class:"me-2"}),u(" Password & Security ")])),_:1}),i(H),i(K,{class:"pa-6"},{default:o((()=>[i(O,{ref_key:"form",ref:r,modelValue:_.value,"onUpdate:modelValue":e=>_.value=e,onSubmit:b(handlePasswordChange,["prevent"])},{default:o((()=>[i(L,null,{default:o((()=>[i(Z,{cols:"12",md:"8"},{default:o((()=>[i(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(W,null,{default:o((()=>[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)])),_:1}),i("div",{class:"d-flex gap-4 mt-6"},[i(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o((()=>[u(" Update Password ")])),_:1},8,["loading","disabled"]),i(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o((()=>[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})];a(w(X,{class:"d-flex align-center py-4 px-6"},{default:o(((e,a,l,r)=>{if(!a)return[i(B,{icon:"mdi-shield-lock",class:"me-2"}),u(" Password & Security ")];a(w(B,{icon:"mdi-shield-lock",class:"me-2"},null,l,r)),a(" Password &amp; Security ")})),_:1},l,t)),a(w(H,null,null,l,t)),a(w(K,{class:"pa-6"},{default:o(((e,a,l,t)=>{if(!a)return[i(O,{ref_key:"form",ref:r,modelValue:_.value,"onUpdate:modelValue":e=>_.value=e,onSubmit:b(handlePasswordChange,["prevent"])},{default:o((()=>[i(L,null,{default:o((()=>[i(Z,{cols:"12",md:"8"},{default:o((()=>[i(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(W,null,{default:o((()=>[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)])),_:1}),i("div",{class:"d-flex gap-4 mt-6"},[i(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o((()=>[u(" Update Password ")])),_:1},8,["loading","disabled"]),i(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o((()=>[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])];a(w(O,{ref_key:"form",ref:r,modelValue:_.value,"onUpdate:modelValue":e=>_.value=e,onSubmit:handlePasswordChange},{default:o(((e,a,l,r)=>{if(!a)return[i(L,null,{default:o((()=>[i(Z,{cols:"12",md:"8"},{default:o((()=>[i(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(W,null,{default:o((()=>[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)])),_:1}),i("div",{class:"d-flex gap-4 mt-6"},[i(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o((()=>[u(" Update Password ")])),_:1},8,["loading","disabled"]),i(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o((()=>[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})])),_:1})])])),_:1})])),_:1})];a(w(L,null,{default:o(((e,a,l,r)=>{if(!a)return[i(Z,{cols:"12",md:"8"},{default:o((()=>[i(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(W,null,{default:o((()=>[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)])),_:1}),i("div",{class:"d-flex gap-4 mt-6"},[i(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o((()=>[u(" Update Password ")])),_:1},8,["loading","disabled"]),i(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o((()=>[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})])),_:1})])])),_:1})];a(w(Z,{cols:"12",md:"8"},{default:o(((e,a,l,r)=>{if(!a)return[i(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","type","rules","error-messages","append-inner-icon","onClick:appendInner"]),i(W,null,{default:o((()=>[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)])),_:1}),i("div",{class:"d-flex gap-4 mt-6"},[i(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o((()=>[u(" Update Password ")])),_:1},8,["loading","disabled"]),i(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o((()=>[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})])),_:1})])];a(w(F,{modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,type:E.value?"text":"password",label:"Current Password",placeholder:"Enter your current password",rules:[N.required],"error-messages":S.value,variant:"outlined","append-inner-icon":E.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("current"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock",density:"comfortable"},null,l,r)),a(w(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:$.value?"text":"password",label:"New Password",placeholder:"Enter your new password",rules:[N.required,N.passwordStrength],"error-messages":I.value,variant:"outlined","append-inner-icon":$.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("new"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-plus",density:"comfortable"},null,l,r)),a(w(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:j.value?"text":"password",label:"Confirm New Password",placeholder:"Confirm your new password",rules:[N.required,N.passwordMatch],"error-messages":P.value,variant:"outlined","append-inner-icon":j.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e=>togglePasswordVisibility("confirm"),onInput:clearErrors,"prepend-inner-icon":"mdi-lock-check",density:"comfortable"},null,l,r)),a(w(W,null,{default:o(((e,a,l,r)=>{if(!a)return[C.value?(p(),v("div",{key:0,class:"mt-3"},[i("p",{class:"text-caption text-medium-emphasis mb-2"}," Password requirements: "),i(ee,null,{default:o((()=>[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))])),_:1})])):g("",!0)];C.value?(a(`<div class="mt-3" data-v-08c3660a${r}><p class="text-caption text-medium-emphasis mb-2" data-v-08c3660a${r}> Password requirements: </p>`),a(w(ee,null,{default:o(((e,a,l,r)=>{if(!a)return[(p(!0),v(f,null,y(c(z),((e,a)=>(p(),v(ae,{key:a,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o((()=>[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])])),default:o((()=>[u(" "+m(e.label),1)])),_:2},1032,["color"])))),128))];a("\x3c!--[--\x3e"),k(c(z),((e,t)=>{a(w(ae,{key:t,size:"small",color:e.passes?"success":"error",variant:"tonal",density:"comfortable"},{prepend:o(((a,l,r,t)=>{if(!l)return[i(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,8,["icon"])];l(w(B,{icon:e.passes?"mdi-check-circle":"mdi-alert-circle",size:"small"},null,r,t))})),default:o(((a,l,r,t)=>{if(!l)return[u(" "+m(e.label),1)];l(` ${x(e.label)}`)})),_:2},l,r))})),a("\x3c!--]--\x3e")})),_:1},l,r)),a("</div>")):a("\x3c!----\x3e")})),_:1},l,r)),a(`<div class="d-flex gap-4 mt-6" data-v-08c3660a${r}>`),a(w(A,{type:"submit",color:"primary",size:"large",loading:h.value,disabled:!_.value||h.value,"min-width":"150"},{default:o(((e,a,l,r)=>{if(!a)return[u(" Update Password ")];a(" Update Password ")})),_:1},l,r)),a(w(s,{to:"/password/reset",style:{"text-decoration":"none"}},{default:o(((e,a,l,r)=>{if(!a)return[i(A,{color:"secondary",size:"large","min-width":"150"},{default:o((()=>[u(" Forgot Password? ")])),_:1})];a(w(A,{color:"secondary",size:"large","min-width":"150"},{default:o(((e,a,l,r)=>{if(!a)return[u(" Forgot Password? ")];a(" Forgot Password? ")})),_:1},l,r))})),_:1},l,r)),a("</div>")})),_:1},l,r))})),_:1},l,r))})),_:1},l,t))})),_:1},l,t))})),_:1},l))}}}),we=Ve.setup;Ve.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/settings/PasswordAndSecuritySettings.vue"),we?we(a,l):void 0};const ke=q(Ve,[["__scopeId","data-v-08c3660a"]]),xe=j("emailVerification",(()=>{const{$axios:e}=z(),r=a({isProcessing:!1,verificationStep:"idle",error:null}),handleStoreError=e=>{var a,l;console.error("API Error:",e.response||e),r.error=(null==(l=null==(a=e.response)?void 0:a.data)?void 0:l.message)||"An unexpected error occurred"};return{state:l(r),sendVerificationCode:async a=>{r.isProcessing=!0,r.error=null,r.verificationStep="sending";try{const l=await e.post("/auth/email/send-verification",{email:a});return r.verificationStep="codeSent",l.data}catch(e){throw r.verificationStep="idle",handleStoreError(e),e}finally{r.isProcessing=!1}},verifyCurrentEmail:async(a,l)=>{r.isProcessing=!0,r.error=null;try{const t=await e.post("/auth/email/verify-current",{email:a,code:l});return r.verificationStep="completed",t.data}catch(e){throw handleStoreError(e),e}finally{r.isProcessing=!1}},updateEmail:async a=>{r.isProcessing=!0,r.error=null;try{const l=await e.post("/auth/email/update",{email:a});return r.verificationStep="completed",l.data}catch(e){throw handleStoreError(e),e}finally{r.isProcessing=!1}},resetState:()=>{r.verificationStep="idle",r.error=null}}})),Ce={__name:"EmailSettings",__ssrInlineRender:!0,setup(e){const a=xe(),l=D(),r=t(null),n=t(!1),d=t(!0),y=t(!1),_=t("verify"),h=t(!1),V=t(""),k=t(""),C=t(""),U=t(""),I=t(""),P=t(""),E=t(""),$=s((()=>{var e;return null==(e=l.user)?void 0:e.email})),j=s((()=>{var e;return null==(e=l.user)?void 0:e.email_verified_at})),z=s((()=>j.value?"success":"warning")),q=s((()=>a.state.isProcessing)),R=s((()=>{switch(_.value){case"verify":return"Verify Current Email";case"newEmail":return"Enter New Email";default:return"Change Email Address"}})),T=s((()=>{switch(_.value){case"verify":return"Verify";case"newEmail":return"Update Email";default:return"Continue"}})),L=[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Please enter a valid email address",e=>e!==$.value||"New email must be different from current email",e=>e.length<=255||"Email must not exceed 255 characters"],Z=[e=>!!e||"Please confirm your email",e=>e===C.value||"Email addresses do not match"],startEmailChange=async()=>{try{n.value=!0,_.value="verify",clearErrors(),y.value=!0,await a.sendVerificationCode($.value),showSuccessMessage("Verification code sent to your current email")}catch(e){handleError(e),n.value=!1}finally{y.value=!1}},handleSubmit=async()=>{var e;try{if(!await(null==(e=r.value)?void 0:e.validate()))return;if(clearErrors(),"verify"===_.value)await a.verifyCurrentEmail($.value,k.value),_.value="newEmail",clearForm();else if("newEmail"===_.value){const e=await a.updateEmail(C.value);e.user&&l.updateUser(e.user),handleSuccess()}}catch(e){handleError(e)}},handleError=e=>{var a,l,r,t,s,n;if(console.error("Component Error:",e.response||e),null==(l=null==(a=e.response)?void 0:a.data)?void 0:l.errors){const a=e.response.data.errors;a.email&&(I.value=Array.isArray(a.email)?a.email[0]:a.email),a.code&&(P.value=Array.isArray(a.code)?a.code[0]:a.code,E.value=P.value)}else(null==(t=null==(r=e.response)?void 0:r.data)?void 0:t.message)&&!(null==(n=null==(s=e.response)?void 0:s.data)?void 0:n.errors)?E.value=e.response.data.message:E.value="An unexpected error occurred. Please try again."},showSuccessMessage=e=>{V.value=e,h.value=!0},handleSuccess=()=>{n.value=!1,resetForm(),showSuccessMessage("Email updated successfully")},handleCloseDialog=()=>{q.value||(n.value=!1,resetForm())},clearErrors=()=>{var e;I.value="",P.value="",E.value="",null==(e=r.value)||e.resetValidation()},clearForm=()=>{k.value="",C.value="",U.value="",clearErrors()},resetForm=()=>{clearForm(),_.value="verify",d.value=!0,a.resetState()};return(e,l,t,s)=>{l(w(M,s,{default:o(((e,l,t,s)=>{if(!l)return[i("div",{class:"mb-6"},[i("h2",{class:"text-h6 mb-2"},"Email Address"),i("p",{class:"text-body-2 text-medium-emphasis"}," Manage your email address. This email is used for account security and notifications. ")]),i(J,{class:"mb-6",variant:"outlined"},{default:o((()=>[i(K,null,{default:o((()=>[i("div",{class:"d-flex align-center justify-space-between"},[i("div",null,[i("div",{class:"text-subtitle-2 mb-1"},"Current Email"),i("div",{class:"text-body-1"},m($.value),1),i("div",{class:["text-caption",z.value]},[i(B,{color:z.value,size:"small",class:"mr-1"},{default:o((()=>[u(m(j.value?"mdi-check-circle":"mdi-alert-circle"),1)])),_:1},8,["color"]),u(" "+m(j.value?"Verified":"Not verified"),1)],2)]),i(A,{color:"primary",variant:"tonal",onClick:startEmailChange},{default:o((()=>[u(" Change Email ")])),_:1})])])),_:1})])),_:1}),i(le,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"max-width":"500",persistent:""},{default:o((()=>[i(J,null,{default:o((()=>[i(X,{class:"text-h6 pa-4"},{default:o((()=>[u(m(R.value)+" ",1),i(A,{icon:"",variant:"text",onClick:handleCloseDialog,class:"float-right",disabled:q.value},{default:o((()=>[i(B,null,{default:o((()=>[u("mdi-close")])),_:1})])),_:1},8,["disabled"])])),_:1}),i(H),i(K,{class:"pa-4"},{default:o((()=>[i(O,{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,onSubmit:b(handleSubmit,["prevent"]),"lazy-validation":""},{default:o((()=>["verify"===_.value?(p(),v(f,{key:0},[i("div",{class:"text-body-2 mb-4"},[u(" To change your email address, first verify your current email. "),y.value?(p(),v("div",{key:0,class:"d-flex align-center mt-2"},[i(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),i("span",null,[u("Sending verification code to "),i("strong",null,m($.value),1),u("...")])])):(p(),v("div",{key:1,class:"mt-2"},[u(" We've sent a verification code to "),i("strong",null,m($.value),1)]))]),y.value||"codeSent"!==c(a).state.verificationStep?g("",!0):(p(),v(re,{key:0,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,8,["modelValue","onUpdate:modelValue","error-messages"]))],64)):g("",!0),"newEmail"===_.value?(p(),v(f,{key:1},[i("div",{class:"text-body-2 mb-4"}," Enter your new email address. Make sure to enter it correctly. "),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"Confirm New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue"])],64)):g("",!0),E.value?(p(),v(te,{key:2,type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o((()=>[u(m(E.value),1)])),_:1},8,["onClick:close"])):g("",!0),i(Q,{class:"pa-0 mt-6"},{default:o((()=>[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),i(ne,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,color:"success",timeout:"3000"},{default:o((()=>[u(m(V.value),1)])),_:1},8,["modelValue","onUpdate:modelValue"])];l(`<div class="mb-6" data-v-3deb8c25${s}><h2 class="text-h6 mb-2" data-v-3deb8c25${s}>Email Address</h2><p class="text-body-2 text-medium-emphasis" data-v-3deb8c25${s}> Manage your email address. This email is used for account security and notifications. </p></div>`),l(w(J,{class:"mb-6",variant:"outlined"},{default:o(((e,a,l,r)=>{if(!a)return[i(K,null,{default:o((()=>[i("div",{class:"d-flex align-center justify-space-between"},[i("div",null,[i("div",{class:"text-subtitle-2 mb-1"},"Current Email"),i("div",{class:"text-body-1"},m($.value),1),i("div",{class:["text-caption",z.value]},[i(B,{color:z.value,size:"small",class:"mr-1"},{default:o((()=>[u(m(j.value?"mdi-check-circle":"mdi-alert-circle"),1)])),_:1},8,["color"]),u(" "+m(j.value?"Verified":"Not verified"),1)],2)]),i(A,{color:"primary",variant:"tonal",onClick:startEmailChange},{default:o((()=>[u(" Change Email ")])),_:1})])])),_:1})];a(w(K,null,{default:o(((e,a,l,r)=>{if(!a)return[i("div",{class:"d-flex align-center justify-space-between"},[i("div",null,[i("div",{class:"text-subtitle-2 mb-1"},"Current Email"),i("div",{class:"text-body-1"},m($.value),1),i("div",{class:["text-caption",z.value]},[i(B,{color:z.value,size:"small",class:"mr-1"},{default:o((()=>[u(m(j.value?"mdi-check-circle":"mdi-alert-circle"),1)])),_:1},8,["color"]),u(" "+m(j.value?"Verified":"Not verified"),1)],2)]),i(A,{color:"primary",variant:"tonal",onClick:startEmailChange},{default:o((()=>[u(" Change Email ")])),_:1})])];a(`<div class="d-flex align-center justify-space-between" data-v-3deb8c25${r}><div data-v-3deb8c25${r}><div class="text-subtitle-2 mb-1" data-v-3deb8c25${r}>Current Email</div><div class="text-body-1" data-v-3deb8c25${r}>${x($.value)}</div><div class="${S([z.value,"text-caption"])}" data-v-3deb8c25${r}>`),a(w(B,{color:z.value,size:"small",class:"mr-1"},{default:o(((e,a,l,r)=>{if(!a)return[u(m(j.value?"mdi-check-circle":"mdi-alert-circle"),1)];a(`${x(j.value?"mdi-check-circle":"mdi-alert-circle")}`)})),_:1},l,r)),a(` ${x(j.value?"Verified":"Not verified")}</div></div>`),a(w(A,{color:"primary",variant:"tonal",onClick:startEmailChange},{default:o(((e,a,l,r)=>{if(!a)return[u(" Change Email ")];a(" Change Email ")})),_:1},l,r)),a("</div>")})),_:1},l,r))})),_:1},t,s)),l(w(le,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"max-width":"500",persistent:""},{default:o(((e,l,t,s)=>{if(!l)return[i(J,null,{default:o((()=>[i(X,{class:"text-h6 pa-4"},{default:o((()=>[u(m(R.value)+" ",1),i(A,{icon:"",variant:"text",onClick:handleCloseDialog,class:"float-right",disabled:q.value},{default:o((()=>[i(B,null,{default:o((()=>[u("mdi-close")])),_:1})])),_:1},8,["disabled"])])),_:1}),i(H),i(K,{class:"pa-4"},{default:o((()=>[i(O,{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,onSubmit:b(handleSubmit,["prevent"]),"lazy-validation":""},{default:o((()=>["verify"===_.value?(p(),v(f,{key:0},[i("div",{class:"text-body-2 mb-4"},[u(" To change your email address, first verify your current email. "),y.value?(p(),v("div",{key:0,class:"d-flex align-center mt-2"},[i(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),i("span",null,[u("Sending verification code to "),i("strong",null,m($.value),1),u("...")])])):(p(),v("div",{key:1,class:"mt-2"},[u(" We've sent a verification code to "),i("strong",null,m($.value),1)]))]),y.value||"codeSent"!==c(a).state.verificationStep?g("",!0):(p(),v(re,{key:0,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,8,["modelValue","onUpdate:modelValue","error-messages"]))],64)):g("",!0),"newEmail"===_.value?(p(),v(f,{key:1},[i("div",{class:"text-body-2 mb-4"}," Enter your new email address. Make sure to enter it correctly. "),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"Confirm New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue"])],64)):g("",!0),E.value?(p(),v(te,{key:2,type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o((()=>[u(m(E.value),1)])),_:1},8,["onClick:close"])):g("",!0),i(Q,{class:"pa-0 mt-6"},{default:o((()=>[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})];l(w(J,null,{default:o(((e,l,t,s)=>{if(!l)return[i(X,{class:"text-h6 pa-4"},{default:o((()=>[u(m(R.value)+" ",1),i(A,{icon:"",variant:"text",onClick:handleCloseDialog,class:"float-right",disabled:q.value},{default:o((()=>[i(B,null,{default:o((()=>[u("mdi-close")])),_:1})])),_:1},8,["disabled"])])),_:1}),i(H),i(K,{class:"pa-4"},{default:o((()=>[i(O,{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,onSubmit:b(handleSubmit,["prevent"]),"lazy-validation":""},{default:o((()=>["verify"===_.value?(p(),v(f,{key:0},[i("div",{class:"text-body-2 mb-4"},[u(" To change your email address, first verify your current email. "),y.value?(p(),v("div",{key:0,class:"d-flex align-center mt-2"},[i(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),i("span",null,[u("Sending verification code to "),i("strong",null,m($.value),1),u("...")])])):(p(),v("div",{key:1,class:"mt-2"},[u(" We've sent a verification code to "),i("strong",null,m($.value),1)]))]),y.value||"codeSent"!==c(a).state.verificationStep?g("",!0):(p(),v(re,{key:0,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,8,["modelValue","onUpdate:modelValue","error-messages"]))],64)):g("",!0),"newEmail"===_.value?(p(),v(f,{key:1},[i("div",{class:"text-body-2 mb-4"}," Enter your new email address. Make sure to enter it correctly. "),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"Confirm New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue"])],64)):g("",!0),E.value?(p(),v(te,{key:2,type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o((()=>[u(m(E.value),1)])),_:1},8,["onClick:close"])):g("",!0),i(Q,{class:"pa-0 mt-6"},{default:o((()=>[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})];l(w(X,{class:"text-h6 pa-4"},{default:o(((e,a,l,r)=>{if(!a)return[u(m(R.value)+" ",1),i(A,{icon:"",variant:"text",onClick:handleCloseDialog,class:"float-right",disabled:q.value},{default:o((()=>[i(B,null,{default:o((()=>[u("mdi-close")])),_:1})])),_:1},8,["disabled"])];a(`${x(R.value)} `),a(w(A,{icon:"",variant:"text",onClick:handleCloseDialog,class:"float-right",disabled:q.value},{default:o(((e,a,l,r)=>{if(!a)return[i(B,null,{default:o((()=>[u("mdi-close")])),_:1})];a(w(B,null,{default:o(((e,a,l,r)=>{if(!a)return[u("mdi-close")];a("mdi-close")})),_:1},l,r))})),_:1},l,r))})),_:1},t,s)),l(w(H,null,null,t,s)),l(w(K,{class:"pa-4"},{default:o(((e,l,t,s)=>{if(!l)return[i(O,{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,onSubmit:b(handleSubmit,["prevent"]),"lazy-validation":""},{default:o((()=>["verify"===_.value?(p(),v(f,{key:0},[i("div",{class:"text-body-2 mb-4"},[u(" To change your email address, first verify your current email. "),y.value?(p(),v("div",{key:0,class:"d-flex align-center mt-2"},[i(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),i("span",null,[u("Sending verification code to "),i("strong",null,m($.value),1),u("...")])])):(p(),v("div",{key:1,class:"mt-2"},[u(" We've sent a verification code to "),i("strong",null,m($.value),1)]))]),y.value||"codeSent"!==c(a).state.verificationStep?g("",!0):(p(),v(re,{key:0,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,8,["modelValue","onUpdate:modelValue","error-messages"]))],64)):g("",!0),"newEmail"===_.value?(p(),v(f,{key:1},[i("div",{class:"text-body-2 mb-4"}," Enter your new email address. Make sure to enter it correctly. "),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"Confirm New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue"])],64)):g("",!0),E.value?(p(),v(te,{key:2,type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o((()=>[u(m(E.value),1)])),_:1},8,["onClick:close"])):g("",!0),i(Q,{class:"pa-0 mt-6"},{default:o((()=>[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])];l(w(O,{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,onSubmit:handleSubmit,"lazy-validation":""},{default:o(((e,l,r,t)=>{if(!l)return["verify"===_.value?(p(),v(f,{key:0},[i("div",{class:"text-body-2 mb-4"},[u(" To change your email address, first verify your current email. "),y.value?(p(),v("div",{key:0,class:"d-flex align-center mt-2"},[i(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),i("span",null,[u("Sending verification code to "),i("strong",null,m($.value),1),u("...")])])):(p(),v("div",{key:1,class:"mt-2"},[u(" We've sent a verification code to "),i("strong",null,m($.value),1)]))]),y.value||"codeSent"!==c(a).state.verificationStep?g("",!0):(p(),v(re,{key:0,modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,8,["modelValue","onUpdate:modelValue","error-messages"]))],64)):g("",!0),"newEmail"===_.value?(p(),v(f,{key:1},[i("div",{class:"text-body-2 mb-4"}," Enter your new email address. Make sure to enter it correctly. "),i(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue","error-messages"]),i(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o((()=>[i("span",{class:"text-no-wrap"},"Confirm New Email Address")])),_:1},8,["modelValue","onUpdate:modelValue"])],64)):g("",!0),E.value?(p(),v(te,{key:2,type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o((()=>[u(m(E.value),1)])),_:1},8,["onClick:close"])):g("",!0),i(Q,{class:"pa-0 mt-6"},{default:o((()=>[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])])),_:1})];"verify"===_.value?(l(`\x3c!--[--\x3e<div class="text-body-2 mb-4" data-v-3deb8c25${t}> To change your email address, first verify your current email. `),y.value?(l(`<div class="d-flex align-center mt-2" data-v-3deb8c25${t}>`),l(w(N,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"},null,r,t)),l(`<span data-v-3deb8c25${t}>Sending verification code to <strong data-v-3deb8c25${t}>${x($.value)}</strong>...</span></div>`)):l(`<div class="mt-2" data-v-3deb8c25${t}> We&#39;ve sent a verification code to <strong data-v-3deb8c25${t}>${x($.value)}</strong></div>`),l("</div>"),y.value||"codeSent"!==c(a).state.verificationStep?l("\x3c!----\x3e"):l(w(re,{modelValue:k.value,"onUpdate:modelValue":e=>k.value=e,length:6,type:"number","error-messages":P.value,onInput:clearErrors,class:"mb-4"},null,r,t)),l("\x3c!--]--\x3e")):l("\x3c!----\x3e"),"newEmail"===_.value?(l(`\x3c!--[--\x3e<div class="text-body-2 mb-4" data-v-3deb8c25${t}> Enter your new email address. Make sure to enter it correctly. </div>`),l(w(F,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,type:"email",rules:L,"error-messages":I.value,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o(((e,a,l,r)=>{if(!a)return[i("span",{class:"text-no-wrap"},"New Email Address")];a(`<span class="text-no-wrap" data-v-3deb8c25${r}>New Email Address</span>`)})),_:1},r,t)),l(w(F,{modelValue:U.value,"onUpdate:modelValue":e=>U.value=e,type:"email",rules:Z,variant:"outlined",required:"","validate-on":"blur",onInput:clearErrors,class:"mb-4","hide-details":"auto","persistent-placeholder":""},{label:o(((e,a,l,r)=>{if(!a)return[i("span",{class:"text-no-wrap"},"Confirm New Email Address")];a(`<span class="text-no-wrap" data-v-3deb8c25${r}>Confirm New Email Address</span>`)})),_:1},r,t)),l("\x3c!--]--\x3e")):l("\x3c!----\x3e"),E.value?l(w(te,{type:"error",variant:"tonal",class:"mt-4",closable:"","onClick:close":e=>E.value=""},{default:o(((e,a,l,r)=>{if(!a)return[u(m(E.value),1)];a(`${x(E.value)}`)})),_:1},r,t)):l("\x3c!----\x3e"),l(w(Q,{class:"pa-0 mt-6"},{default:o(((e,a,l,r)=>{if(!a)return[i(se),i(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o((()=>[u(" Cancel ")])),_:1},8,["disabled"]),i(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o((()=>[u(m(T.value),1)])),_:1},8,["loading","disabled"])];a(w(se,null,null,l,r)),a(w(A,{variant:"tonal",onClick:handleCloseDialog,disabled:q.value},{default:o(((e,a,l,r)=>{if(!a)return[u(" Cancel ")];a(" Cancel ")})),_:1},l,r)),a(w(A,{color:"primary",type:"submit",loading:q.value,disabled:!d.value||q.value},{default:o(((e,a,l,r)=>{if(!a)return[u(m(T.value),1)];a(`${x(T.value)}`)})),_:1},l,r))})),_:1},r,t))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s)),l(w(ne,{modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,color:"success",timeout:"3000"},{default:o(((e,a,l,r)=>{if(!a)return[u(m(V.value),1)];a(`${x(V.value)}`)})),_:1},t,s))})),_:1},t))}}},Ue=Ce.setup;Ce.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/settings/EmailSettings.vue"),Ue?Ue(a,l):void 0};const Se=q(Ce,[["__scopeId","data-v-3deb8c25"]]),Ie=r({__name:"TalentSettings",__ssrInlineRender:!0,setup(e){const a=D(),l=t(!1),r=t(!1),n=t("create"),c=s((()=>{var e;return"yes"===(null==(e=a.user)?void 0:e.has_talent)})),b=s((()=>{var e,l,r;return(null==(l=null==(e=a.user)?void 0:e.talent_details)?void 0:l.talent)||(null==(r=a.user)?void 0:r.talent)||""})),_=s((()=>c.value?`You're verified as a ${b.value}`:"Become a creator to access exclusive features and opportunities")),h=["Create and manage entertainment projects","Receive bookings and collaboration requests","Get tips and donations from fans","Access to creator-specific networking features","Enhanced profile visibility","Priority support and resources"],openEditDialog=()=>{n.value="update",l.value=!0},openRegisterDialog=()=>{n.value="create",l.value=!0},confirmRemoveCreator=()=>{r.value=!0},removeCreatorStatus=async()=>{try{r.value=!1,a.fetchUser()}catch(e){console.error("Failed to remove creator status:",e)}},handleCreatorUpdated=()=>{l.value=!1,a.fetchUser()};return(e,a,t,s)=>{const V=oe;a(`<div${C(d({class:"talent-settings"},s))} data-v-24417a11><div class="settings-header mb-6" data-v-24417a11><h3 class="text-h5 font-weight-bold mb-2" data-v-24417a11>Creator Profile</h3><p class="text-body-2 text-medium-emphasis" data-v-24417a11> Manage your creator profile and showcase your skills in the entertainment industry </p></div>`),a(w(J,{class:"creator-status-card mb-6",variant:"outlined"},{default:o(((e,a,l,r)=>{if(!a)return[i(K,{class:"pa-6"},{default:o((()=>[i("div",{class:"d-flex align-center mb-4"},[i(B,{color:c.value?"success":"warning",size:"24",class:"mr-3"},{default:o((()=>[u(m(c.value?"mdi-star":"mdi-star-outline"),1)])),_:1},8,["color"]),i("div",null,[i("h4",{class:"text-h6 mb-1"},m(c.value?"Verified Creator":"Creator Registration"),1),i("p",{class:"text-body-2 text-medium-emphasis mb-0"},m(_.value),1)])]),c.value?(p(),v("div",{key:0,class:"current-creator mb-4"},[i(ae,{color:"primary",variant:"elevated",size:"large","prepend-icon":"mdi-star"},{default:o((()=>[u(m(b.value),1)])),_:1})])):g("",!0),i("div",{class:"creator-actions"},[c.value?(p(),v(A,{key:0,color:"primary",variant:"outlined","prepend-icon":"mdi-pencil",onClick:openEditDialog,class:"mr-3"},{default:o((()=>[u(" Change Category ")])),_:1})):g("",!0),c.value?g("",!0):(p(),v(A,{key:1,color:"primary",variant:"elevated","prepend-icon":"mdi-star-plus",onClick:openRegisterDialog,size:"large"},{default:o((()=>[u(" Become a Creator ")])),_:1})),c.value?(p(),v(A,{key:2,color:"error",variant:"text","prepend-icon":"mdi-delete",onClick:confirmRemoveCreator},{default:o((()=>[u(" Remove Creator Status ")])),_:1})):g("",!0)])])),_:1})];a(w(K,{class:"pa-6"},{default:o(((e,a,l,r)=>{if(!a)return[i("div",{class:"d-flex align-center mb-4"},[i(B,{color:c.value?"success":"warning",size:"24",class:"mr-3"},{default:o((()=>[u(m(c.value?"mdi-star":"mdi-star-outline"),1)])),_:1},8,["color"]),i("div",null,[i("h4",{class:"text-h6 mb-1"},m(c.value?"Verified Creator":"Creator Registration"),1),i("p",{class:"text-body-2 text-medium-emphasis mb-0"},m(_.value),1)])]),c.value?(p(),v("div",{key:0,class:"current-creator mb-4"},[i(ae,{color:"primary",variant:"elevated",size:"large","prepend-icon":"mdi-star"},{default:o((()=>[u(m(b.value),1)])),_:1})])):g("",!0),i("div",{class:"creator-actions"},[c.value?(p(),v(A,{key:0,color:"primary",variant:"outlined","prepend-icon":"mdi-pencil",onClick:openEditDialog,class:"mr-3"},{default:o((()=>[u(" Change Category ")])),_:1})):g("",!0),c.value?g("",!0):(p(),v(A,{key:1,color:"primary",variant:"elevated","prepend-icon":"mdi-star-plus",onClick:openRegisterDialog,size:"large"},{default:o((()=>[u(" Become a Creator ")])),_:1})),c.value?(p(),v(A,{key:2,color:"error",variant:"text","prepend-icon":"mdi-delete",onClick:confirmRemoveCreator},{default:o((()=>[u(" Remove Creator Status ")])),_:1})):g("",!0)])];a(`<div class="d-flex align-center mb-4" data-v-24417a11${r}>`),a(w(B,{color:c.value?"success":"warning",size:"24",class:"mr-3"},{default:o(((e,a,l,r)=>{if(!a)return[u(m(c.value?"mdi-star":"mdi-star-outline"),1)];a(`${x(c.value?"mdi-star":"mdi-star-outline")}`)})),_:1},l,r)),a(`<div data-v-24417a11${r}><h4 class="text-h6 mb-1" data-v-24417a11${r}>${x(c.value?"Verified Creator":"Creator Registration")}</h4><p class="text-body-2 text-medium-emphasis mb-0" data-v-24417a11${r}>${x(_.value)}</p></div></div>`),c.value?(a(`<div class="current-creator mb-4" data-v-24417a11${r}>`),a(w(ae,{color:"primary",variant:"elevated",size:"large","prepend-icon":"mdi-star"},{default:o(((e,a,l,r)=>{if(!a)return[u(m(b.value),1)];a(`${x(b.value)}`)})),_:1},l,r)),a("</div>")):a("\x3c!----\x3e"),a(`<div class="creator-actions" data-v-24417a11${r}>`),c.value?a(w(A,{color:"primary",variant:"outlined","prepend-icon":"mdi-pencil",onClick:openEditDialog,class:"mr-3"},{default:o(((e,a,l,r)=>{if(!a)return[u(" Change Category ")];a(" Change Category ")})),_:1},l,r)):a("\x3c!----\x3e"),c.value?a("\x3c!----\x3e"):a(w(A,{color:"primary",variant:"elevated","prepend-icon":"mdi-star-plus",onClick:openRegisterDialog,size:"large"},{default:o(((e,a,l,r)=>{if(!a)return[u(" Become a Creator ")];a(" Become a Creator ")})),_:1},l,r)),c.value?a(w(A,{color:"error",variant:"text","prepend-icon":"mdi-delete",onClick:confirmRemoveCreator},{default:o(((e,a,l,r)=>{if(!a)return[u(" Remove Creator Status ")];a(" Remove Creator Status ")})),_:1},l,r)):a("\x3c!----\x3e"),a("</div>")})),_:1},l,r))})),_:1},t)),a(w(J,{class:"benefits-card",variant:"tonal",color:"primary"},{default:o(((e,a,l,r)=>{if(!a)return[i(K,{class:"pa-6"},{default:o((()=>[i("h4",{class:"text-h6 mb-3 d-flex align-center"},[i(B,{class:"mr-2"},{default:o((()=>[u("mdi-information")])),_:1}),u(" Creator Benefits ")]),i(ue,{class:"benefits-list",density:"compact"},{default:o((()=>[(p(),v(f,null,y(h,(e=>i(ie,{key:e,"prepend-icon":"mdi-check-circle",class:"px-0"},{default:o((()=>[i(de,{class:"text-body-2"},{default:o((()=>[u(m(e),1)])),_:2},1024)])),_:2},1024))),64))])),_:1})])),_:1})];a(w(K,{class:"pa-6"},{default:o(((e,a,l,r)=>{if(!a)return[i("h4",{class:"text-h6 mb-3 d-flex align-center"},[i(B,{class:"mr-2"},{default:o((()=>[u("mdi-information")])),_:1}),u(" Creator Benefits ")]),i(ue,{class:"benefits-list",density:"compact"},{default:o((()=>[(p(),v(f,null,y(h,(e=>i(ie,{key:e,"prepend-icon":"mdi-check-circle",class:"px-0"},{default:o((()=>[i(de,{class:"text-body-2"},{default:o((()=>[u(m(e),1)])),_:2},1024)])),_:2},1024))),64))])),_:1})];a(`<h4 class="text-h6 mb-3 d-flex align-center" data-v-24417a11${r}>`),a(w(B,{class:"mr-2"},{default:o(((e,a,l,r)=>{if(!a)return[u("mdi-information")];a("mdi-information")})),_:1},l,r)),a(" Creator Benefits </h4>"),a(w(ue,{class:"benefits-list",density:"compact"},{default:o(((e,a,l,r)=>{if(!a)return[(p(),v(f,null,y(h,(e=>i(ie,{key:e,"prepend-icon":"mdi-check-circle",class:"px-0"},{default:o((()=>[i(de,{class:"text-body-2"},{default:o((()=>[u(m(e),1)])),_:2},1024)])),_:2},1024))),64))];a("\x3c!--[--\x3e"),k(h,(e=>{a(w(ie,{key:e,"prepend-icon":"mdi-check-circle",class:"px-0"},{default:o(((a,l,r,t)=>{if(!l)return[i(de,{class:"text-body-2"},{default:o((()=>[u(m(e),1)])),_:2},1024)];l(w(de,{class:"text-body-2"},{default:o(((a,l,r,t)=>{if(!l)return[u(m(e),1)];l(`${x(e)}`)})),_:2},r,t))})),_:2},l,r))})),a("\x3c!--]--\x3e")})),_:1},l,r))})),_:1},l,r))})),_:1},t)),a(w(V,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,mode:n.value,onTalentUpdated:handleCreatorUpdated},null,t)),a(w(le,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,"max-width":"400"},{default:o(((e,a,l,t)=>{if(!a)return[i(J,null,{default:o((()=>[i(X,{class:"text-h6"},{default:o((()=>[u("Remove Creator Status")])),_:1}),i(K,null,{default:o((()=>[u(" Are you sure you want to remove your creator status? This action cannot be undone and you'll lose access to creator-specific features. ")])),_:1}),i(Q,null,{default:o((()=>[i(se),i(A,{color:"grey",variant:"text",onClick:e=>r.value=!1},{default:o((()=>[u(" Cancel ")])),_:1},8,["onClick"]),i(A,{color:"error",variant:"elevated",onClick:removeCreatorStatus},{default:o((()=>[u(" Remove ")])),_:1})])),_:1})])),_:1})];a(w(J,null,{default:o(((e,a,l,t)=>{if(!a)return[i(X,{class:"text-h6"},{default:o((()=>[u("Remove Creator Status")])),_:1}),i(K,null,{default:o((()=>[u(" Are you sure you want to remove your creator status? This action cannot be undone and you'll lose access to creator-specific features. ")])),_:1}),i(Q,null,{default:o((()=>[i(se),i(A,{color:"grey",variant:"text",onClick:e=>r.value=!1},{default:o((()=>[u(" Cancel ")])),_:1},8,["onClick"]),i(A,{color:"error",variant:"elevated",onClick:removeCreatorStatus},{default:o((()=>[u(" Remove ")])),_:1})])),_:1})];a(w(X,{class:"text-h6"},{default:o(((e,a,l,r)=>{if(!a)return[u("Remove Creator Status")];a("Remove Creator Status")})),_:1},l,t)),a(w(K,null,{default:o(((e,a,l,r)=>{if(!a)return[u(" Are you sure you want to remove your creator status? This action cannot be undone and you'll lose access to creator-specific features. ")];a(" Are you sure you want to remove your creator status? This action cannot be undone and you&#39;ll lose access to creator-specific features. ")})),_:1},l,t)),a(w(Q,null,{default:o(((e,a,l,t)=>{if(!a)return[i(se),i(A,{color:"grey",variant:"text",onClick:e=>r.value=!1},{default:o((()=>[u(" Cancel ")])),_:1},8,["onClick"]),i(A,{color:"error",variant:"elevated",onClick:removeCreatorStatus},{default:o((()=>[u(" Remove ")])),_:1})];a(w(se,null,null,l,t)),a(w(A,{color:"grey",variant:"text",onClick:e=>r.value=!1},{default:o(((e,a,l,r)=>{if(!a)return[u(" Cancel ")];a(" Cancel ")})),_:1},l,t)),a(w(A,{color:"error",variant:"elevated",onClick:removeCreatorStatus},{default:o(((e,a,l,r)=>{if(!a)return[u(" Remove ")];a(" Remove ")})),_:1},l,t))})),_:1},l,t))})),_:1},l,t))})),_:1},t)),a("</div>")}}}),Pe=Ie.setup;Ie.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("components/settings/TalentSettings.vue"),Pe?Pe(a,l):void 0};const Ee=q(Ie,[["__scopeId","data-v-24417a11"]]),$e=r({__name:"AccountSettingsPage",__ssrInlineRender:!0,setup(e){const a=[{icon:"mdi-card-account-details",title:"Personal Details",component:be},{icon:"mdi-star",title:"Creator Profile",component:Ee},{icon:"mdi-email-outline",title:"Email Settings",component:Se},{icon:"mdi-lock",title:"Password & Security",component:ke}],l=t(0);return(e,r,t,s)=>{r(w(M,d({fluid:""},s),{default:o(((e,r,t,s)=>{if(!r)return[i(L,null,{default:o((()=>[i(Z,{cols:"12",md:"3"},{default:o((()=>[i("h2",{class:"text-h6 mb-4"},"Getting Started"),i(ue,{"bg-color":"grey-lighten-4",rounded:"lg",class:"settings-list"},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(ie,{key:a,value:a,onClick:e=>l.value=a,active:c(l)===a,"prepend-icon":e.icon,class:["mb-2",{"v-list-item--active":c(l)===a}],rounded:"lg"},{default:o((()=>[i(de,null,{default:o((()=>[u(m(e.title),1)])),_:2},1024)])),_:2},1032,["value","onClick","active","prepend-icon","class"]))),64))])),_:1})])),_:1}),i(Z,{cols:"12",md:"9"},{default:o((()=>[i(J,{class:"pa-6",elevation:"1",rounded:"lg"},{default:o((()=>[i(ce,{modelValue:c(l),"onUpdate:modelValue":e=>_(l)?l.value=e:null},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(me,{key:a,value:a},{default:o((()=>[(p(),v(h(e.component)))])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1})];r(w(L,null,{default:o(((e,r,t,s)=>{if(!r)return[i(Z,{cols:"12",md:"3"},{default:o((()=>[i("h2",{class:"text-h6 mb-4"},"Getting Started"),i(ue,{"bg-color":"grey-lighten-4",rounded:"lg",class:"settings-list"},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(ie,{key:a,value:a,onClick:e=>l.value=a,active:c(l)===a,"prepend-icon":e.icon,class:["mb-2",{"v-list-item--active":c(l)===a}],rounded:"lg"},{default:o((()=>[i(de,null,{default:o((()=>[u(m(e.title),1)])),_:2},1024)])),_:2},1032,["value","onClick","active","prepend-icon","class"]))),64))])),_:1})])),_:1}),i(Z,{cols:"12",md:"9"},{default:o((()=>[i(J,{class:"pa-6",elevation:"1",rounded:"lg"},{default:o((()=>[i(ce,{modelValue:c(l),"onUpdate:modelValue":e=>_(l)?l.value=e:null},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(me,{key:a,value:a},{default:o((()=>[(p(),v(h(e.component)))])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})];r(w(Z,{cols:"12",md:"3"},{default:o(((e,r,t,s)=>{if(!r)return[i("h2",{class:"text-h6 mb-4"},"Getting Started"),i(ue,{"bg-color":"grey-lighten-4",rounded:"lg",class:"settings-list"},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(ie,{key:a,value:a,onClick:e=>l.value=a,active:c(l)===a,"prepend-icon":e.icon,class:["mb-2",{"v-list-item--active":c(l)===a}],rounded:"lg"},{default:o((()=>[i(de,null,{default:o((()=>[u(m(e.title),1)])),_:2},1024)])),_:2},1032,["value","onClick","active","prepend-icon","class"]))),64))])),_:1})];r(`<h2 class="text-h6 mb-4" data-v-cf9b7b98${s}>Getting Started</h2>`),r(w(ue,{"bg-color":"grey-lighten-4",rounded:"lg",class:"settings-list"},{default:o(((e,r,t,s)=>{if(!r)return[(p(),v(f,null,y(a,((e,a)=>i(ie,{key:a,value:a,onClick:e=>l.value=a,active:c(l)===a,"prepend-icon":e.icon,class:["mb-2",{"v-list-item--active":c(l)===a}],rounded:"lg"},{default:o((()=>[i(de,null,{default:o((()=>[u(m(e.title),1)])),_:2},1024)])),_:2},1032,["value","onClick","active","prepend-icon","class"]))),64))];r("\x3c!--[--\x3e"),k(a,((e,a)=>{r(w(ie,{key:a,value:a,onClick:e=>l.value=a,active:c(l)===a,"prepend-icon":e.icon,class:["mb-2",{"v-list-item--active":c(l)===a}],rounded:"lg"},{default:o(((a,l,r,t)=>{if(!l)return[i(de,null,{default:o((()=>[u(m(e.title),1)])),_:2},1024)];l(w(de,null,{default:o(((a,l,r,t)=>{if(!l)return[u(m(e.title),1)];l(`${x(e.title)}`)})),_:2},r,t))})),_:2},t,s))})),r("\x3c!--]--\x3e")})),_:1},t,s))})),_:1},t,s)),r(w(Z,{cols:"12",md:"9"},{default:o(((e,r,t,s)=>{if(!r)return[i(J,{class:"pa-6",elevation:"1",rounded:"lg"},{default:o((()=>[i(ce,{modelValue:c(l),"onUpdate:modelValue":e=>_(l)?l.value=e:null},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(me,{key:a,value:a},{default:o((()=>[(p(),v(h(e.component)))])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})];r(w(J,{class:"pa-6",elevation:"1",rounded:"lg"},{default:o(((e,r,t,s)=>{if(!r)return[i(ce,{modelValue:c(l),"onUpdate:modelValue":e=>_(l)?l.value=e:null},{default:o((()=>[(p(),v(f,null,y(a,((e,a)=>i(me,{key:a,value:a},{default:o((()=>[(p(),v(h(e.component)))])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue","onUpdate:modelValue"])];r(w(ce,{modelValue:c(l),"onUpdate:modelValue":e=>_(l)?l.value=e:null},{default:o(((e,l,r,t)=>{if(!l)return[(p(),v(f,null,y(a,((e,a)=>i(me,{key:a,value:a},{default:o((()=>[(p(),v(h(e.component)))])),_:2},1032,["value"]))),64))];l("\x3c!--[--\x3e"),k(a,((e,a)=>{l(w(me,{key:a,value:a},{default:o(((a,l,r,t)=>{if(!l)return[(p(),v(h(e.component)))];U(l,i(h(e.component),null,null),r,t)})),_:2},r,t))})),l("\x3c!--]--\x3e")})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},t))}}}),je=$e.setup;$e.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("views/AccountSettingsPage.vue"),je?je(a,l):void 0};const ze=q($e,[["__scopeId","data-v-cf9b7b98"]]),qe={__name:"settings",__ssrInlineRender:!0,async setup(e){var a,l,r,t,n,o,u;let i,d;const c=pe();[i,d]=V((()=>c.fetchTalaStageApp())),await i,d();const m=s((()=>c.talastageApp));return ve({title:`Account Settings - ${(null==(a=m.value)?void 0:a.seo_title)||(null==(l=m.value)?void 0:l.name)}`,description:(null==(r=m.value)?void 0:r.seo_description)||"Manage your account settings, update your preferences, and configure your account on TalaStage.",keywords:(null==(t=m.value)?void 0:t.meta_keywords)||"account, settings, user preferences",image:(null==(n=m.value)?void 0:n.logo_url)||"/default-social-image.png",url:(null==(o=m.value)?void 0:o.canonical_url)||"https://talastage.com",type:"website",siteName:(null==(u=m.value)?void 0:u.name)||"TalaStage",twitterUsername:"@talastage"}),(e,a,l,r)=>{a(`<div${C(r)} data-v-d33f1b26>`),a(w(ze,null,null,l)),a("</div>")}}},Ae=qe.setup;qe.setup=(a,l)=>{const r=e();return(r.modules||(r.modules=new Set)).add("pages/account/settings.vue"),Ae?Ae(a,l):void 0};const Ne=q(qe,[["__scopeId","data-v-d33f1b26"]]);export{Ne as default};

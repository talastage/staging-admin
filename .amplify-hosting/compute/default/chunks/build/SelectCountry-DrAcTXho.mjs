import{useSSRContext as e,defineComponent as a,mergeProps as l,ref as t,computed as n,watch as o,withCtx as r,createTextVNode as c,openBlock as d,createBlock as i,createVNode as s,toDisplayString as u,createCommentVNode as m,Fragment as v,renderList as f}from"vue";import{ssrRenderAttrs as y,ssrRenderComponent as p,ssrInterpolate as g,ssrRenderList as h}from"vue/server-renderer";import{b as x,V as b,_ as V}from"./server.mjs";import{u as _}from"./useCountries-7z-WVVIp.mjs";import{V as k}from"./VMenu-BpdBiT5v.mjs";import{V as w}from"./VSpacer-_gFExeVk.mjs";import{V as C}from"./VCard-CsohsM82.mjs";import{V as S}from"./VTextField-rd-VvEF8.mjs";import{V as $}from"./VDivider-BmyMVZMt.mjs";import{V as j}from"./VList-CcwwrkQR.mjs";import{V as I,a as z}from"./VListItem-jTLuICGb.mjs";const O=a({__name:"CountryFlag",__ssrInlineRender:!0,props:{flag:{type:String,required:!0},countryName:{type:String,required:!0}},setup:e=>(a,t,n,o)=>{t(`<img${y(l({src:e.flag,alt:e.countryName,class:"country-flag"},o))} data-v-54b0c106>`)}}),N=O.setup;O.setup=(a,l)=>{const t=e();return(t.modules||(t.modules=new Set)).add("components/country/CountryFlag.vue"),N?N(a,l):void 0};const U=V(O,[["__scopeId","data-v-54b0c106"]]),F=a({__name:"SelectCountry",__ssrInlineRender:!0,props:{modelValue:{type:Object,default:null},placeholder:{type:String,default:"Select Country"}},emits:["update:modelValue","country-selected"],setup(e,{emit:a}){const V=a,O=_(),N=t(!1),F=t(""),L=t([]);t(!0);const q=n((()=>{const e=F.value.toLowerCase().trim();if(!e){const e=[...O.countries];if(L.value.length>0){const a=e.filter((e=>!L.value.some((a=>a.id===e.id))));return[...L.value,...a]}return e}return O.countries.filter((a=>a.name.toLowerCase().includes(e)||a.phone_code.includes(e)))}));function selectCountry(e){V("update:modelValue",e),V("country-selected",e),function(e){const a=L.value.findIndex((a=>a.id===e.id));-1!==a&&L.value.splice(a,1),L.value.unshift(e),L.value.length>3&&(L.value=L.value.slice(0,3)),localStorage.setItem("recentCountries",JSON.stringify(L.value))}(e),N.value=!1,F.value=""}function clearSearch(){F.value=""}function onSearchInput(){}return o((()=>N.value),(e=>{e||setTimeout((()=>{F.value=""}),300)})),(a,t,n,o)=>{const V=U;t(`<div${y(l({class:"country-select-container"},o))} data-v-01d2aab2>`),t(p(k,{modelValue:N.value,"onUpdate:modelValue":e=>N.value=e,"close-on-content-click":!1,location:"bottom",transition:"scale-transition","max-width":"400","content-class":"country-dropdown"},{activator:r((({props:a},t,n,o)=>{if(!t)return[s("div",{class:"select-field-wrapper"},[s(x,l(a,{variant:"outlined",class:"country-selector",rounded:"lg",block:"",height:"56"}),{default:r((()=>[e.modelValue?(d(),i("div",{key:0,class:"d-flex align-center w-100"},[s("div",{class:"flag-container mr-3"},[s(V,{flag:e.modelValue.flag,"country-name":e.modelValue.name},null,8,["flag","country-name"])]),s("div",{class:"d-flex flex-column align-start flex-grow-1"},[s("div",{class:"country-name text-body-1 font-weight-medium"},u(e.modelValue.name),1),s("div",{class:"country-code text-caption text-primary"}," +"+u(e.modelValue.phone_code),1)]),s(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r((()=>[c(" mdi-chevron-down ")])),_:1},8,["class"])])):(d(),i("div",{key:1,class:"d-flex align-center w-100"},[s(b,{size:"24",class:"globe-icon mr-3",color:"grey-darken-1"},{default:r((()=>[c("mdi-earth")])),_:1}),s("div",{class:"placeholder text-body-1"},"Select Country"),s(w),s(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r((()=>[c(" mdi-chevron-down ")])),_:1},8,["class"])]))])),_:2},1040)])];t(`<div class="select-field-wrapper" data-v-01d2aab2${o}>`),t(p(x,l(a,{variant:"outlined",class:"country-selector",rounded:"lg",block:"",height:"56"}),{default:r(((a,l,t,n)=>{if(!l)return[e.modelValue?(d(),i("div",{key:0,class:"d-flex align-center w-100"},[s("div",{class:"flag-container mr-3"},[s(V,{flag:e.modelValue.flag,"country-name":e.modelValue.name},null,8,["flag","country-name"])]),s("div",{class:"d-flex flex-column align-start flex-grow-1"},[s("div",{class:"country-name text-body-1 font-weight-medium"},u(e.modelValue.name),1),s("div",{class:"country-code text-caption text-primary"}," +"+u(e.modelValue.phone_code),1)]),s(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r((()=>[c(" mdi-chevron-down ")])),_:1},8,["class"])])):(d(),i("div",{key:1,class:"d-flex align-center w-100"},[s(b,{size:"24",class:"globe-icon mr-3",color:"grey-darken-1"},{default:r((()=>[c("mdi-earth")])),_:1}),s("div",{class:"placeholder text-body-1"},"Select Country"),s(w),s(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r((()=>[c(" mdi-chevron-down ")])),_:1},8,["class"])]))];e.modelValue?(l(`<div class="d-flex align-center w-100" data-v-01d2aab2${n}><div class="flag-container mr-3" data-v-01d2aab2${n}>`),l(p(V,{flag:e.modelValue.flag,"country-name":e.modelValue.name},null,t,n)),l(`</div><div class="d-flex flex-column align-start flex-grow-1" data-v-01d2aab2${n}><div class="country-name text-body-1 font-weight-medium" data-v-01d2aab2${n}>${g(e.modelValue.name)}</div><div class="country-code text-caption text-primary" data-v-01d2aab2${n}> +${g(e.modelValue.phone_code)}</div></div>`),l(p(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r(((e,a,l,t)=>{if(!a)return[c(" mdi-chevron-down ")];a(" mdi-chevron-down ")})),_:2},t,n)),l("</div>")):(l(`<div class="d-flex align-center w-100" data-v-01d2aab2${n}>`),l(p(b,{size:"24",class:"globe-icon mr-3",color:"grey-darken-1"},{default:r(((e,a,l,t)=>{if(!a)return[c("mdi-earth")];a("mdi-earth")})),_:2},t,n)),l(`<div class="placeholder text-body-1" data-v-01d2aab2${n}>Select Country</div>`),l(p(w,null,null,t,n)),l(p(b,{class:["transition-transform",N.value?"rotate-icon":""],color:"grey-darken-1"},{default:r(((e,a,l,t)=>{if(!a)return[c(" mdi-chevron-down ")];a(" mdi-chevron-down ")})),_:2},t,n)),l("</div>"))})),_:2},n,o)),t("</div>")})),default:r(((a,l,t,n)=>{if(!l)return[s(C,{class:"country-menu pa-0",elevation:"8",rounded:"lg"},{default:r((()=>[s("div",{class:"search-container pa-4"},[s(S,{modelValue:F.value,"onUpdate:modelValue":e=>F.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or dial code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",class:"search-field",clearable:"","onClick:clear":clearSearch,onInput:onSearchInput},null,8,["modelValue","onUpdate:modelValue"])]),s($),s("div",{class:"countries-container"},[q.value.length>0?(d(),i(j,{key:0,class:"country-list pa-0",height:"320"},{default:r((()=>[(d(!0),i(v,null,f(q.value,(a=>{var l,t;return d(),i(I,{key:a.id,onClick:e=>selectCountry(a),class:["country-list-item py-2",(null==(l=e.modelValue)?void 0:l.id)===a.id?"selected-item":""],active:(null==(t=e.modelValue)?void 0:t.id)===a.id,"active-color":"primary-lighten-4"},{prepend:r((()=>[s("div",{class:"flag-container"},[s(V,{flag:a.flag,"country-name":a.name},null,8,["flag","country-name"])])])),default:r((()=>[s(z,{class:"d-flex align-center justify-space-between"},{default:r((()=>[s("span",{class:"country-name text-body-1"},u(a.name),1),s("span",{class:"country-code text-caption text-primary font-weight-medium"},"+"+u(a.phone_code),1)])),_:2},1024),q.value.indexOf(a)<q.value.length-1?(d(),i($,{key:0})):m("",!0)])),_:2},1032,["onClick","class","active"])})),128))])),_:1})):(d(),i("div",{key:1,class:"no-results pa-8 d-flex flex-column align-center"},[s(b,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:r((()=>[c("mdi-magnify-close")])),_:1}),s("span",{class:"text-body-1 text-grey-darken-1"},'No countries found matching "'+u(F.value)+'"',1),s(x,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:r((()=>[c(" Clear search ")])),_:1})]))])])),_:1})];l(p(C,{class:"country-menu pa-0",elevation:"8",rounded:"lg"},{default:r(((a,l,t,n)=>{if(!l)return[s("div",{class:"search-container pa-4"},[s(S,{modelValue:F.value,"onUpdate:modelValue":e=>F.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or dial code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",class:"search-field",clearable:"","onClick:clear":clearSearch,onInput:onSearchInput},null,8,["modelValue","onUpdate:modelValue"])]),s($),s("div",{class:"countries-container"},[q.value.length>0?(d(),i(j,{key:0,class:"country-list pa-0",height:"320"},{default:r((()=>[(d(!0),i(v,null,f(q.value,(a=>{var l,t;return d(),i(I,{key:a.id,onClick:e=>selectCountry(a),class:["country-list-item py-2",(null==(l=e.modelValue)?void 0:l.id)===a.id?"selected-item":""],active:(null==(t=e.modelValue)?void 0:t.id)===a.id,"active-color":"primary-lighten-4"},{prepend:r((()=>[s("div",{class:"flag-container"},[s(V,{flag:a.flag,"country-name":a.name},null,8,["flag","country-name"])])])),default:r((()=>[s(z,{class:"d-flex align-center justify-space-between"},{default:r((()=>[s("span",{class:"country-name text-body-1"},u(a.name),1),s("span",{class:"country-code text-caption text-primary font-weight-medium"},"+"+u(a.phone_code),1)])),_:2},1024),q.value.indexOf(a)<q.value.length-1?(d(),i($,{key:0})):m("",!0)])),_:2},1032,["onClick","class","active"])})),128))])),_:1})):(d(),i("div",{key:1,class:"no-results pa-8 d-flex flex-column align-center"},[s(b,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:r((()=>[c("mdi-magnify-close")])),_:1}),s("span",{class:"text-body-1 text-grey-darken-1"},'No countries found matching "'+u(F.value)+'"',1),s(x,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:r((()=>[c(" Clear search ")])),_:1})]))])];l(`<div class="search-container pa-4" data-v-01d2aab2${n}>`),l(p(S,{modelValue:F.value,"onUpdate:modelValue":e=>F.value=e,"prepend-inner-icon":"mdi-magnify",placeholder:"Search country or dial code",variant:"outlined",density:"comfortable","bg-color":"grey-lighten-5","hide-details":"",rounded:"lg",class:"search-field",clearable:"","onClick:clear":clearSearch,onInput:onSearchInput},null,t,n)),l("</div>"),l(p($,null,null,t,n)),l(`<div class="countries-container" data-v-01d2aab2${n}>`),q.value.length>0?l(p(j,{class:"country-list pa-0",height:"320"},{default:r(((a,l,t,n)=>{if(!l)return[(d(!0),i(v,null,f(q.value,(a=>{var l,t;return d(),i(I,{key:a.id,onClick:e=>selectCountry(a),class:["country-list-item py-2",(null==(l=e.modelValue)?void 0:l.id)===a.id?"selected-item":""],active:(null==(t=e.modelValue)?void 0:t.id)===a.id,"active-color":"primary-lighten-4"},{prepend:r((()=>[s("div",{class:"flag-container"},[s(V,{flag:a.flag,"country-name":a.name},null,8,["flag","country-name"])])])),default:r((()=>[s(z,{class:"d-flex align-center justify-space-between"},{default:r((()=>[s("span",{class:"country-name text-body-1"},u(a.name),1),s("span",{class:"country-code text-caption text-primary font-weight-medium"},"+"+u(a.phone_code),1)])),_:2},1024),q.value.indexOf(a)<q.value.length-1?(d(),i($,{key:0})):m("",!0)])),_:2},1032,["onClick","class","active"])})),128))];l("\x3c!--[--\x3e"),h(q.value,(a=>{var o,c;l(p(I,{key:a.id,onClick:e=>selectCountry(a),class:["country-list-item py-2",(null==(o=e.modelValue)?void 0:o.id)===a.id?"selected-item":""],active:(null==(c=e.modelValue)?void 0:c.id)===a.id,"active-color":"primary-lighten-4"},{prepend:r(((e,l,t,n)=>{if(!l)return[s("div",{class:"flag-container"},[s(V,{flag:a.flag,"country-name":a.name},null,8,["flag","country-name"])])];l(`<div class="flag-container" data-v-01d2aab2${n}>`),l(p(V,{flag:a.flag,"country-name":a.name},null,t,n)),l("</div>")})),default:r(((e,l,t,n)=>{if(!l)return[s(z,{class:"d-flex align-center justify-space-between"},{default:r((()=>[s("span",{class:"country-name text-body-1"},u(a.name),1),s("span",{class:"country-code text-caption text-primary font-weight-medium"},"+"+u(a.phone_code),1)])),_:2},1024),q.value.indexOf(a)<q.value.length-1?(d(),i($,{key:0})):m("",!0)];l(p(z,{class:"d-flex align-center justify-space-between"},{default:r(((e,l,t,n)=>{if(!l)return[s("span",{class:"country-name text-body-1"},u(a.name),1),s("span",{class:"country-code text-caption text-primary font-weight-medium"},"+"+u(a.phone_code),1)];l(`<span class="country-name text-body-1" data-v-01d2aab2${n}>${g(a.name)}</span><span class="country-code text-caption text-primary font-weight-medium" data-v-01d2aab2${n}>+${g(a.phone_code)}</span>`)})),_:2},t,n)),q.value.indexOf(a)<q.value.length-1?l(p($,null,null,t,n)):l("\x3c!----\x3e")})),_:2},t,n))})),l("\x3c!--]--\x3e")})),_:1},t,n)):(l(`<div class="no-results pa-8 d-flex flex-column align-center" data-v-01d2aab2${n}>`),l(p(b,{color:"grey-lighten-1",size:"40",class:"mb-3"},{default:r(((e,a,l,t)=>{if(!a)return[c("mdi-magnify-close")];a("mdi-magnify-close")})),_:1},t,n)),l(`<span class="text-body-1 text-grey-darken-1" data-v-01d2aab2${n}>No countries found matching &quot;${g(F.value)}&quot;</span>`),l(p(x,{variant:"text",color:"primary",class:"mt-2",onClick:clearSearch},{default:r(((e,a,l,t)=>{if(!a)return[c(" Clear search ")];a(" Clear search ")})),_:1},t,n)),l("</div>")),l("</div>")})),_:1},t,n))})),_:1},n)),t("</div>")}}}),L=F.setup;F.setup=(a,l)=>{const t=e();return(t.modules||(t.modules=new Set)).add("components/forms/select/SelectCountry.vue"),L?L(a,l):void 0};const q=V(F,[["__scopeId","data-v-01d2aab2"]]);export{q as _};

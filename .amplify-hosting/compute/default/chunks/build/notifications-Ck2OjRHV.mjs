import{u as e,_ as t}from"./useNotificationStore-CVwxj6bg.mjs";import{useSSRContext as a,defineComponent as i,withCtx as l,unref as n,createTextVNode as o,createVNode as s,openBlock as r,createBlock as d,createCommentVNode as u,Fragment as c,renderList as f,computed as m}from"vue";import{ssrRenderComponent as p,ssrRenderList as v,ssrRenderAttrs as y}from"vue/server-renderer";import{_ as x,a$ as _,b as g,V as k,U as b}from"./server.mjs";import{u as h}from"./useInfiniteLoader-Bs8qePv9.mjs";import{V as j}from"./VContainer-By3q0af_.mjs";import{V as w}from"./VRow-rkX0LEXR.mjs";import{V as N}from"./VCol-CKxprC4g.mjs";import{V,b as R,a as $}from"./VCard-CsohsM82.mjs";import{V as C}from"./VDivider-BmyMVZMt.mjs";import{V as A}from"./VList-CcwwrkQR.mjs";import{V as S}from"./VListItem-jTLuICGb.mjs";import{V as M}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{u as z}from"./useApps-hYo13Xt3.mjs";import{u as I}from"./useSeo-Dl9beXFt.mjs";import"./useDateFormatter-W2Hui1rv.mjs";import"./VAvatar-JL8WKjry.mjs";import"./VImg-B2jcJjnn.mjs";import"./VChip-f_o2BAA4.mjs";import"./index--K8ZrFMm.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";import"./index-8pAncyvV.mjs";import"./index-DfGQ-Pg8.mjs";import"./ssrBoot-BtvJZs44.mjs";const L=i({__name:"NotificationPage",__ssrInlineRender:!0,setup(a){const i=e(),{notifications:m,unreadCount:y,loading:x,hasMorePages:z}=_(i),{sentinelRef:I,page:L,isLoading:Y,initLoader:B}=h((async e=>{await i.fetchNotifications(e)}),z,{immediate:!0}),markAsRead=async e=>{await i.markAsRead(e)},markAllAsRead=async()=>{await i.markAllAsRead()},handleNotificationAction=async(e,t,a)=>{await i.handleAction(e,t,a)};return(e,a,i,_)=>{const h=t;a(p(j,_,{default:l(((e,t,a,i)=>{if(!t)return[s(w,null,{default:l((()=>[s(N,{cols:"12",md:"8","offset-md":"2"},{default:l((()=>[s(V,{elevation:"10"},{default:l((()=>[s(R,{class:"d-flex justify-space-between align-center pa-4"},{default:l((()=>[s("span",{class:"text-h5"},"Notifications"),n(y)>0?(r(),d(g,{key:0,variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l((()=>[o(" Mark all as read ")])),_:1},8,["disabled"])):u("",!0)])),_:1}),s(C),s($,{class:"pa-0"},{default:l((()=>[!n(x)||n(L)>1?(r(),d(A,{key:0},{default:l((()=>[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))])),_:1})):u("",!0),n(x)&&1===n(L)?(r(),d(A,{key:1},{default:l((()=>[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))])),_:1})):u("",!0),n(x)||0!==n(m).length?u("",!0):(r(),d(A,{key:2},{default:l((()=>[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})])),_:1})),n(x)&&n(L)>1?(r(),d("div",{key:3,class:"pa-4 text-center"},[s(b,{indeterminate:"",color:"primary"})])):u("",!0),n(z)?(r(),d("div",{key:4,ref_key:"sentinelRef",ref:I,class:"sentinel"},null,512)):n(m).length>0?(r(),d("div",{key:5,class:"pa-4 text-center text-grey"}," No more notifications ")):u("",!0)])),_:1})])),_:1})])),_:1})])),_:1})];t(p(w,null,{default:l(((e,t,a,i)=>{if(!t)return[s(N,{cols:"12",md:"8","offset-md":"2"},{default:l((()=>[s(V,{elevation:"10"},{default:l((()=>[s(R,{class:"d-flex justify-space-between align-center pa-4"},{default:l((()=>[s("span",{class:"text-h5"},"Notifications"),n(y)>0?(r(),d(g,{key:0,variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l((()=>[o(" Mark all as read ")])),_:1},8,["disabled"])):u("",!0)])),_:1}),s(C),s($,{class:"pa-0"},{default:l((()=>[!n(x)||n(L)>1?(r(),d(A,{key:0},{default:l((()=>[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))])),_:1})):u("",!0),n(x)&&1===n(L)?(r(),d(A,{key:1},{default:l((()=>[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))])),_:1})):u("",!0),n(x)||0!==n(m).length?u("",!0):(r(),d(A,{key:2},{default:l((()=>[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})])),_:1})),n(x)&&n(L)>1?(r(),d("div",{key:3,class:"pa-4 text-center"},[s(b,{indeterminate:"",color:"primary"})])):u("",!0),n(z)?(r(),d("div",{key:4,ref_key:"sentinelRef",ref:I,class:"sentinel"},null,512)):n(m).length>0?(r(),d("div",{key:5,class:"pa-4 text-center text-grey"}," No more notifications ")):u("",!0)])),_:1})])),_:1})])),_:1})];t(p(N,{cols:"12",md:"8","offset-md":"2"},{default:l(((e,t,a,i)=>{if(!t)return[s(V,{elevation:"10"},{default:l((()=>[s(R,{class:"d-flex justify-space-between align-center pa-4"},{default:l((()=>[s("span",{class:"text-h5"},"Notifications"),n(y)>0?(r(),d(g,{key:0,variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l((()=>[o(" Mark all as read ")])),_:1},8,["disabled"])):u("",!0)])),_:1}),s(C),s($,{class:"pa-0"},{default:l((()=>[!n(x)||n(L)>1?(r(),d(A,{key:0},{default:l((()=>[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))])),_:1})):u("",!0),n(x)&&1===n(L)?(r(),d(A,{key:1},{default:l((()=>[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))])),_:1})):u("",!0),n(x)||0!==n(m).length?u("",!0):(r(),d(A,{key:2},{default:l((()=>[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})])),_:1})),n(x)&&n(L)>1?(r(),d("div",{key:3,class:"pa-4 text-center"},[s(b,{indeterminate:"",color:"primary"})])):u("",!0),n(z)?(r(),d("div",{key:4,ref_key:"sentinelRef",ref:I,class:"sentinel"},null,512)):n(m).length>0?(r(),d("div",{key:5,class:"pa-4 text-center text-grey"}," No more notifications ")):u("",!0)])),_:1})])),_:1})];t(p(V,{elevation:"10"},{default:l(((e,t,a,i)=>{if(!t)return[s(R,{class:"d-flex justify-space-between align-center pa-4"},{default:l((()=>[s("span",{class:"text-h5"},"Notifications"),n(y)>0?(r(),d(g,{key:0,variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l((()=>[o(" Mark all as read ")])),_:1},8,["disabled"])):u("",!0)])),_:1}),s(C),s($,{class:"pa-0"},{default:l((()=>[!n(x)||n(L)>1?(r(),d(A,{key:0},{default:l((()=>[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))])),_:1})):u("",!0),n(x)&&1===n(L)?(r(),d(A,{key:1},{default:l((()=>[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))])),_:1})):u("",!0),n(x)||0!==n(m).length?u("",!0):(r(),d(A,{key:2},{default:l((()=>[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})])),_:1})),n(x)&&n(L)>1?(r(),d("div",{key:3,class:"pa-4 text-center"},[s(b,{indeterminate:"",color:"primary"})])):u("",!0),n(z)?(r(),d("div",{key:4,ref_key:"sentinelRef",ref:I,class:"sentinel"},null,512)):n(m).length>0?(r(),d("div",{key:5,class:"pa-4 text-center text-grey"}," No more notifications ")):u("",!0)])),_:1})];t(p(R,{class:"d-flex justify-space-between align-center pa-4"},{default:l(((e,t,a,i)=>{if(!t)return[s("span",{class:"text-h5"},"Notifications"),n(y)>0?(r(),d(g,{key:0,variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l((()=>[o(" Mark all as read ")])),_:1},8,["disabled"])):u("",!0)];t(`<span class="text-h5" data-v-acba0ab9${i}>Notifications</span>`),n(y)>0?t(p(g,{variant:"text",onClick:markAllAsRead,disabled:n(x)},{default:l(((e,t,a,i)=>{if(!t)return[o(" Mark all as read ")];t(" Mark all as read ")})),_:1},a,i)):t("\x3c!----\x3e")})),_:1},a,i)),t(p(C,null,null,a,i)),t(p($,{class:"pa-0"},{default:l(((e,t,a,i)=>{if(!t)return[!n(x)||n(L)>1?(r(),d(A,{key:0},{default:l((()=>[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))])),_:1})):u("",!0),n(x)&&1===n(L)?(r(),d(A,{key:1},{default:l((()=>[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))])),_:1})):u("",!0),n(x)||0!==n(m).length?u("",!0):(r(),d(A,{key:2},{default:l((()=>[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})])),_:1})),n(x)&&n(L)>1?(r(),d("div",{key:3,class:"pa-4 text-center"},[s(b,{indeterminate:"",color:"primary"})])):u("",!0),n(z)?(r(),d("div",{key:4,ref_key:"sentinelRef",ref:I,class:"sentinel"},null,512)):n(m).length>0?(r(),d("div",{key:5,class:"pa-4 text-center text-grey"}," No more notifications ")):u("",!0)];!n(x)||n(L)>1?t(p(A,null,{default:l(((e,t,a,i)=>{if(!t)return[(r(!0),d(c,null,f(n(m),(e=>(r(),d(c,{key:e.id},[s(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,8,["notification"]),s(C)],64)))),128))];t("\x3c!--[--\x3e"),v(n(m),(e=>{t("\x3c!--[--\x3e"),t(p(h,{notification:e,onAction:handleNotificationAction,onRead:markAsRead},null,a,i)),t(p(C,null,null,a,i)),t("\x3c!--]--\x3e")})),t("\x3c!--]--\x3e")})),_:1},a,i)):t("\x3c!----\x3e"),n(x)&&1===n(L)?t(p(A,null,{default:l(((e,t,a,i)=>{if(!t)return[(r(),d(c,null,f(10,(e=>(r(),d(c,{key:e},[s(S,null,{default:l((()=>[s(M,{type:"list-item-avatar-two-line"})])),_:1}),s(C)],64)))),64))];t("\x3c!--[--\x3e"),v(10,(e=>{t("\x3c!--[--\x3e"),t(p(S,null,{default:l(((e,t,a,i)=>{if(!t)return[s(M,{type:"list-item-avatar-two-line"})];t(p(M,{type:"list-item-avatar-two-line"},null,a,i))})),_:2},a,i)),t(p(C,null,null,a,i)),t("\x3c!--]--\x3e")})),t("\x3c!--]--\x3e")})),_:1},a,i)):t("\x3c!----\x3e"),n(x)||0!==n(m).length?t("\x3c!----\x3e"):t(p(A,null,{default:l(((e,t,a,i)=>{if(!t)return[s(S,null,{default:l((()=>[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])])),_:1})];t(p(S,null,{default:l(((e,t,a,i)=>{if(!t)return[s("div",{class:"text-center py-8"},[s(k,{size:"64",color:"grey"},{default:l((()=>[o("mdi-bell-off")])),_:1}),s("div",{class:"text-h6 mt-4"},"No notifications"),s("div",{class:"text-body-2 text-grey"},"You're all caught up!")])];t(`<div class="text-center py-8" data-v-acba0ab9${i}>`),t(p(k,{size:"64",color:"grey"},{default:l(((e,t,a,i)=>{if(!t)return[o("mdi-bell-off")];t("mdi-bell-off")})),_:1},a,i)),t(`<div class="text-h6 mt-4" data-v-acba0ab9${i}>No notifications</div><div class="text-body-2 text-grey" data-v-acba0ab9${i}>You&#39;re all caught up!</div></div>`)})),_:1},a,i))})),_:1},a,i)),n(x)&&n(L)>1?(t(`<div class="pa-4 text-center" data-v-acba0ab9${i}>`),t(p(b,{indeterminate:"",color:"primary"},null,a,i)),t("</div>")):t("\x3c!----\x3e"),n(z)?t(`<div class="sentinel" data-v-acba0ab9${i}></div>`):n(m).length>0?t(`<div class="pa-4 text-center text-grey" data-v-acba0ab9${i}> No more notifications </div>`):t("\x3c!----\x3e")})),_:1},a,i))})),_:1},a,i))})),_:1},a,i))})),_:1},a,i))})),_:1},i))}}}),Y=L.setup;L.setup=(e,t)=>{const i=a();return(i.modules||(i.modules=new Set)).add("views/NotificationPage.vue"),Y?Y(e,t):void 0};const B=x(L,[["__scopeId","data-v-acba0ab9"]]),T=i({__name:"notifications",__ssrInlineRender:!0,setup(e){const t=z(),a=m((()=>t.talastageApp));return I({title:m((()=>{var e;return`Notifications - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`})),description:m((()=>{var e;return`View your latest notifications on ${null==(e=a.value)?void 0:e.name}. Stay updated on your activities and interactions.`})),keywords:m((()=>{var e;return`notifications, alerts, updates, activity, interactions, ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`})),image:m((()=>{var e;return(null==(e=a.value)?void 0:e.logo_url)||"/default-social-image.png"})),type:"website",siteName:m((()=>{var e;return(null==(e=a.value)?void 0:e.name)||"TalaStage"})),url:m((()=>{var e;return`${(null==(e=a.value)?void 0:e.canonical_url)||"https://talastage.com"}/notifications`})),canonical:m((()=>{var e;return`${(null==(e=a.value)?void 0:e.canonical_url)||"https://talastage.com"}/notifications`})),noIndex:!0,openGraph:m((()=>{var e,t,i,l,n;return{title:`Notifications - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`,description:`View your latest notifications on ${null==(t=a.value)?void 0:t.name}. Stay updated on your activities and interactions.`,url:`${(null==(i=a.value)?void 0:i.canonical_url)||"https://talastage.com"}/notifications`,image:(null==(l=a.value)?void 0:l.logo_url)||"/default-social-image.png",siteName:(null==(n=a.value)?void 0:n.name)||"TalaStage",type:"website"}})),twitter:m((()=>{var e,t,i;return{card:"summary_large_image",title:`Notifications - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`,description:`View your latest notifications on ${null==(t=a.value)?void 0:t.name}. Stay updated on your activities and interactions.`,image:(null==(i=a.value)?void 0:i.logo_url)||"/default-social-image.png"}})),link:m((()=>{var e;return[{rel:"icon",href:(null==(e=a.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,t,a,i)=>{const l=B;t(`<div${y(i)} data-v-d7efadca>`),t(p(l,null,null,a)),t("</div>")}}}),P=T.setup;T.setup=(e,t)=>{const i=a();return(i.modules||(i.modules=new Set)).add("pages/notifications.vue"),P?P(e,t):void 0};const X=x(T,[["__scopeId","data-v-d7efadca"]]);export{X as default};

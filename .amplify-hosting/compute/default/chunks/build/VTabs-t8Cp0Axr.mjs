import{computed as e,shallowRef as l,ref as a,createVNode as t,mergeProps as o,Fragment as s,toRef as n}from"vue";import{p as u,$ as r,b1 as i,h as v,X as c,j as d,b as f,I as p,m as b,b2 as g,g as m,aD as h,i as y,aL as x,a8 as S,aK as T,V as C,n as k,a2 as w,E as $,a0 as _,l as M,Q as V,aN as z,ap as B,b3 as F}from"./server.mjs";import{a as R,s as A}from"./easing-Bn3h-KUg.mjs";import{b as E}from"./index--K8ZrFMm.mjs";const I=Symbol.for("vuetify:v-tabs"),K=u({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...r(i({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),O=v()({name:"VTab",props:K(),setup(n,u){let{slots:r,attrs:i}=u;const{textColorClasses:v,textColorStyles:p}=c(n,"sliderColor"),b=e((()=>"horizontal"===n.direction)),g=l(!1),m=a(),h=a();function updateSlider(e){var l,a;let{value:t}=e;if(g.value=t,t){const e=null==(a=null==(l=m.value)?void 0:l.$el.parentElement)?void 0:a.querySelector(".v-tab--selected .v-tab__slider"),t=h.value;if(!e||!t)return;const o=getComputedStyle(e).color,s=e.getBoundingClientRect(),n=t.getBoundingClientRect(),u=b.value?"x":"y",r=b.value?"X":"Y",i=b.value?"right":"bottom",v=b.value?"width":"height",c=s[u]>n[u]?s[i]-n[i]:s[u]-n[u],d=Math.sign(c)>0?b.value?"right":"bottom":Math.sign(c)<0?b.value?"left":"top":"center",f=(Math.abs(c)+(Math.sign(c)<0?s[v]:n[v]))/Math.max(s[v],n[v])||0,p=s[v]/n[v]||0,g=1.5;R(t,{backgroundColor:[o,"currentcolor"],transform:[`translate${r}(${c}px) scale${r}(${p})`,`translate${r}(${c/g}px) scale${r}(${(f-1)/g+1})`,"none"],transformOrigin:Array(3).fill(d)},{duration:225,easing:A})}}return d((()=>{const e=f.filterProps(n);return t(f,o({symbol:I,ref:m,class:["v-tab",n.class],style:n.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},e,i,{block:n.fixed,maxWidth:n.fixed?300:void 0,"onGroup:selected":updateSlider}),{...r,default:()=>{var e,l;return t(s,null,[null!=(e=null==(l=r.default)?void 0:l.call(r))?e:n.text,!n.hideSlider&&t("div",{ref:h,class:["v-tab__slider",v.value],style:p.value},null)])}})})),{}}});function bias(e){const l=Math.abs(e);return Math.sign(e)*(l/((1/.501-2)*(1-l)+1))}function calculateUpdatedOffset(e){let{selectedElement:l,containerSize:a,contentSize:t,isRtl:o,currentScrollOffset:s,isHorizontal:n}=e;const u=n?l.clientWidth:l.clientHeight,r=n?l.offsetLeft:l.offsetTop,i=o&&n?t-r-u:r,v=a+s,c=u+i,d=.4*u;return i<=s?s=Math.max(i-d,0):v<=c&&(s=Math.min(s-(v-c-d),t-a)),s}const P=Symbol.for("vuetify:v-slide-group"),U=u({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:P},nextIcon:{type:p,default:"$next"},prevIcon:{type:p,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...b(),...g(),...m(),...h({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),X=v()({name:"VSlideGroup",props:U(),emits:{"update:modelValue":e=>!0},setup(a,o){let{slots:s}=o;const{isRtl:n}=y(),{displayClasses:u,mobile:r}=x(a),i=S(a,a.symbol),v=l(!1),c=l(0),f=l(0),p=l(0),b=e((()=>"horizontal"===a.direction)),{resizeRef:g,contentRect:m}=T(),{resizeRef:h,contentRect:k}=T();e((()=>i.selected.value.length?i.items.value.findIndex((e=>e.id===i.selected.value[0])):-1)),e((()=>i.selected.value.length?i.items.value.findIndex((e=>e.id===i.selected.value[i.selected.value.length-1])):-1));const w=l(!1);let $=0,_=0;function onTouchstart(e){const l=b.value?"clientX":"clientY",a=n.value&&b.value?-1:1;_=a*c.value,$=e.touches[0][l],w.value=!0}function onTouchmove(e){if(!v.value)return;const l=b.value?"clientX":"clientY",a=n.value&&b.value?-1:1;c.value=a*(_+$-e.touches[0][l])}function onTouchend(e){const l=p.value-f.value;c.value<0||!v.value?c.value=0:c.value>=l&&(c.value=l),w.value=!1}function onScroll(){g.value&&(g.value[b.value?"scrollLeft":"scrollTop"]=0)}const M=l(!1);function onFocusin(e){if(M.value=!0,v.value&&h.value)for(const l of e.composedPath())for(const e of h.value.children)if(e===l)return void(c.value=calculateUpdatedOffset({selectedElement:e,containerSize:f.value,contentSize:p.value,isRtl:n.value,currentScrollOffset:c.value,isHorizontal:b.value}))}function onFocusout(e){M.value=!1}function onFocus(e){var l;M.value||e.relatedTarget&&(null==(l=h.value)?void 0:l.contains(e.relatedTarget))||focus()}function onKeydown(e){h.value&&(b.value?"ArrowRight"===e.key?focus(n.value?"prev":"next"):"ArrowLeft"===e.key&&focus(n.value?"next":"prev"):"ArrowDown"===e.key?focus("next"):"ArrowUp"===e.key&&focus("prev"),"Home"===e.key?focus("first"):"End"===e.key&&focus("last"))}function focus(e){var l,a,t,o,s;if(h.value)if(e)if("next"===e){const e=null==(a=h.value.querySelector(":focus"))?void 0:a.nextElementSibling;e?e.focus():focus("first")}else if("prev"===e){const e=null==(t=h.value.querySelector(":focus"))?void 0:t.previousElementSibling;e?e.focus():focus("last")}else"first"===e?null==(o=h.value.firstElementChild)||o.focus():"last"===e&&(null==(s=h.value.lastElementChild)||s.focus());else{null==(l=z(h.value)[0])||l.focus()}}function scrollTo(e){const l=c.value+("prev"===e?-1:1)*f.value;c.value=B(l,0,p.value-f.value)}const V=e((()=>{let e=c.value>p.value-f.value?-(p.value-f.value)+bias(p.value-f.value-c.value):-c.value;c.value<=0&&(e=bias(-c.value));const l=n.value&&b.value?-1:1;return{transform:`translate${b.value?"X":"Y"}(${l*e}px)`,transition:w.value?"none":"",willChange:w.value?"transform":""}})),F=e((()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected}))),R=e((()=>{switch(a.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return v.value||Math.abs(c.value)>0;case"mobile":return r.value||v.value||Math.abs(c.value)>0;default:return!r.value&&(v.value||Math.abs(c.value)>0)}})),A=e((()=>Math.abs(c.value)>0)),I=e((()=>p.value>Math.abs(c.value)+f.value));return d((()=>t(a.tag,{class:["v-slide-group",{"v-slide-group--vertical":!b.value,"v-slide-group--has-affixes":R.value,"v-slide-group--is-overflowing":v.value},u.value,a.class],style:a.style,tabindex:M.value||i.selected.value.length?-1:0,onFocus:onFocus},{default:()=>{var e,l,o,u,r;return[R.value&&t("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!A.value}],onClick:()=>A.value&&scrollTo("prev")},[null!=(e=null==(o=s.prev)?void 0:o.call(s,F.value))?e:t(E,null,{default:()=>[t(C,{icon:n.value?a.nextIcon:a.prevIcon},null)]})]),t("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:onScroll},[t("div",{ref:h,class:"v-slide-group__content",style:V.value,onTouchstartPassive:onTouchstart,onTouchmovePassive:onTouchmove,onTouchendPassive:onTouchend,onFocusin:onFocusin,onFocusout:onFocusout,onKeydown:onKeydown},[null==(u=s.default)?void 0:u.call(s,F.value)])]),R.value&&t("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!I.value}],onClick:()=>I.value&&scrollTo("next")},[null!=(l=null==(r=s.next)?void 0:r.call(s,F.value))?l:t(E,null,{default:()=>[t(C,{icon:n.value?a.prevIcon:a.nextIcon},null)]})])]}}))),{selected:i.selected,scrollTo:scrollTo,scrollOffset:c,focus:focus}}});const j=u({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...U({mandatory:"force"}),...k(),...m()},"VTabs"),H=v()({name:"VTabs",props:j(),emits:{"update:modelValue":e=>!0},setup(l,a){let{slots:s}=a;const u=w(l,"modelValue"),r=e((()=>{return(e=l.items)?e.map((e=>F(e)?e:{text:e,value:e})):[];var e})),{densityClasses:i}=$(l),{backgroundColorClasses:v,backgroundColorStyles:c}=_(n(l,"bgColor"));return M({VTab:{color:n(l,"color"),direction:n(l,"direction"),stacked:n(l,"stacked"),fixed:n(l,"fixedTabs"),sliderColor:n(l,"sliderColor"),hideSlider:n(l,"hideSlider")}}),d((()=>{const e=X.filterProps(l);return t(X,o(e,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,class:["v-tabs",`v-tabs--${l.direction}`,`v-tabs--align-tabs-${l.alignTabs}`,{"v-tabs--fixed-tabs":l.fixedTabs,"v-tabs--grow":l.grow,"v-tabs--stacked":l.stacked},i.value,v.value,l.class],style:[{"--v-tabs-height":V(l.height)},c.value,l.style],role:"tablist",symbol:I}),{default:()=>[s.default?s.default():r.value.map((e=>t(O,o(e,{key:e.text}),null)))]})})),{}}});export{H as V,O as a};

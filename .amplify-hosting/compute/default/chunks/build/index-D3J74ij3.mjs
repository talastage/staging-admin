import{_ as e}from"./HelpCategoryHeader-C-BoSaQN.mjs";import{_ as t}from"./HelpItem-DrLQHdSM.mjs";import{defineComponent as l,computed as a,watch as r,mergeProps as o,withCtx as s,createVNode as i,createTextVNode as u,toDisplayString as n,openBlock as c,createBlock as d,createCommentVNode as g,Fragment as p,renderList as y,useSSRContext as m}from"vue";import{ssrRenderComponent as h,ssrInterpolate as v,ssrRenderList as f}from"vue/server-renderer";import{d as b,c as x,au as _,e as C,U as S,V as k,b as V,u as $}from"./server.mjs";import{V as j}from"./VContainer-By3q0af_.mjs";import{V as z}from"./VRow-rkX0LEXR.mjs";import{V as F}from"./VCol-CKxprC4g.mjs";import{V as H}from"./VPagination-DpVjYVUo.mjs";import"./BaseCard-5i8D5k_7.mjs";import"./VCard-CsohsM82.mjs";import"./VAvatar-JL8WKjry.mjs";import"./VImg-B2jcJjnn.mjs";import"./VChip-f_o2BAA4.mjs";import"./index--K8ZrFMm.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";const P=b("helpSubCategoryArticles",{state:()=>({subCategory:null,articles:[],pagination:null,isLoading:!1,error:null,currentPage:1,perPage:10,currentCategorySlug:null,currentSubCategorySlug:null,isFetching:!1}),actions:{setCurrentPage(e){this.currentPage=e,this.currentCategorySlug&&this.currentSubCategorySlug&&this.fetchSubCategory(this.currentCategorySlug,this.currentSubCategorySlug)},async loadSubCategoryData(e,t){this.currentCategorySlug=e,this.currentSubCategorySlug=t,this.isFetching||await this.fetchSubCategory(e,t)},async fetchSubCategory(e,t){if(!this.isFetching){this.isFetching=!0,this.isLoading=!0,this.error=null;try{const{fetchSubCategory:l}=(()=>{const{$axios:e}=$();return{fetchSubCategory:async(t,l,a,r)=>(await e.get(`/api/help/categories/${t}/subcategories/${l}`,{params:{page:a,per_page:r}})).data}})(),a=await l(e,t,this.currentPage,this.perPage);this.subCategory=a.subcategory,this.articles=a.helps,this.pagination=a.pagination}catch(e){this.error="Failed to load subcategory articles"}finally{this.isLoading=!1,this.isFetching=!1}}}}}),L=l({__name:"index",__ssrInlineRender:!0,setup(l){const m=x(),b=_(),$=P(),getSlugs=()=>{let e=m.params.categorySlug,t=m.params.subCategorySlug;if(!e||!t){const l=(void 0).location.pathname.split("/").filter(Boolean);l.length>=3&&"help"===l[0]&&(e=l[1],t=l[2])}return{categorySlug:e,subCategorySlug:t}},L=a((()=>$.isLoading)),w=a((()=>$.error)),U=a((()=>$.subCategory)),A=a((()=>$.parentCategory)),R=a((()=>$.articles)),B=a((()=>$.pagination)),D=a({get:()=>$.currentPage,set:e=>$.setCurrentPage(e)});r((()=>m.fullPath),((e,t)=>{e!==t&&"help-category-slug-subCategorySlug"===m.name&&(async()=>{const{categorySlug:e,subCategorySlug:t}=getSlugs();if(e&&t)try{await $.loadSubCategoryData(e,t)}catch(e){console.error("Failed to load subcategory:",e),$.error="Failed to load subcategory data"}else $.error="Invalid subcategory path"})()})),r((()=>$.currentPage),((e,t)=>{e!==t&&(void 0).scrollTo({top:0,behavior:"smooth"})}));const handlePageChange=e=>{$.setCurrentPage(e)},handleArticleSelect=e=>{const{categorySlug:t,subCategorySlug:l}=getSlugs();b.push(`/help/${t}/${l}/${e.slug}`)},handleSubCategoryClick=e=>{var t;b.push(`/help/${null==(t=A.value)?void 0:t.slug}/${e.slug}`)};return C((()=>{var e,t,l;return{title:U.value?`${U.value.name} - ${(null==(e=A.value)?void 0:e.name)||"Help Center"}`:"Help Center",meta:[{name:"description",content:(null==(t=U.value)?void 0:t.description)||`Help articles for ${(null==(l=A.value)?void 0:l.name)||"this category"} subcategory`}]}})),(l,a,r,m)=>{const b=e,x=t;a(h(j,o({class:"help-subcategory-page py-8"},m),{default:s(((e,t,l,a)=>{var r,o;if(!t)return[L.value&&!R.value.length?(c(),d(z,{key:0},{default:s((()=>[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(S,{indeterminate:"",size:"64",color:"primary"}),i("p",{class:"text-body-2 text-grey mt-4"},"Loading...")])),_:1})])),_:1})):w.value?(c(),d(z,{key:1},{default:s((()=>[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(k,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[u("mdi-alert-circle-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"Subcategory Not Found"),i("p",{class:"text-body-2 text-grey"}," The subcategory you are looking for does not exist or has been removed. "),i(V,{color:"primary",to:A.value?`/help/${A.value.slug}`:"/help","prepend-icon":"mdi-arrow-left"},{default:s((()=>{var e;return[u(" Return to "+n((null==(e=A.value)?void 0:e.name)||"Help Center"),1)]})),_:1},8,["to"])])),_:1})])),_:1})):U.value?(c(),d(p,{key:2},[i(z,null,{default:s((()=>[i(F,{cols:"12"},{default:s((()=>[i(b,{category:U.value,"parent-category":A.value},null,8,["category","parent-category"])])),_:1})])),_:1}),R.value.length>0?(c(),d(z,{key:0},{default:s((()=>[i(F,{cols:"12",class:"position-relative"},{default:s((()=>[L.value?(c(),d("div",{key:0,class:"overlay-loading"},[i(S,{indeterminate:"",size:"36",color:"primary"})])):g("",!0),(c(!0),d(p,null,y(R.value,(e=>(c(),d(x,{key:e.id,article:e,onSelect:handleArticleSelect,onSubCategoryClicked:handleSubCategoryClick},null,8,["article"])))),128))])),_:1})])),_:1})):g("",!0),(null==(o=B.value)?void 0:o.last_page)>1?(c(),d(z,{key:1},{default:s((()=>[i(F,{cols:"12",class:"d-flex justify-center"},{default:s((()=>[i(H,{modelValue:D.value,"onUpdate:modelValue":[e=>D.value=e,handlePageChange],length:B.value.last_page,"total-visible":7,disabled:L.value},null,8,["modelValue","onUpdate:modelValue","length","disabled"])])),_:1})])),_:1})):g("",!0),L.value||0!==R.value.length?g("",!0):(c(),d(z,{key:2},{default:s((()=>[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(k,{size:"64",color:"primary",class:"mb-4"},{default:s((()=>[u("mdi-clock-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"We're still adding content"),i("p",{class:"text-body-2 text-grey"}," Articles for this subcategory are coming soon. Check back later! ")])),_:1})])),_:1}))],64)):g("",!0)];L.value&&!R.value.length?t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(S,{indeterminate:"",size:"64",color:"primary"}),i("p",{class:"text-body-2 text-grey mt-4"},"Loading...")])),_:1})];t(h(F,{cols:"12",class:"text-center py-12"},{default:s(((e,t,l,a)=>{if(!t)return[i(S,{indeterminate:"",size:"64",color:"primary"}),i("p",{class:"text-body-2 text-grey mt-4"},"Loading...")];t(h(S,{indeterminate:"",size:"64",color:"primary"},null,l,a)),t(`<p class="text-body-2 text-grey mt-4"${a}>Loading...</p>`)})),_:1},l,a))})),_:1},l,a)):w.value?t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(k,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[u("mdi-alert-circle-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"Subcategory Not Found"),i("p",{class:"text-body-2 text-grey"}," The subcategory you are looking for does not exist or has been removed. "),i(V,{color:"primary",to:A.value?`/help/${A.value.slug}`:"/help","prepend-icon":"mdi-arrow-left"},{default:s((()=>{var e;return[u(" Return to "+n((null==(e=A.value)?void 0:e.name)||"Help Center"),1)]})),_:1},8,["to"])])),_:1})];t(h(F,{cols:"12",class:"text-center py-12"},{default:s(((e,t,l,a)=>{if(!t)return[i(k,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s((()=>[u("mdi-alert-circle-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"Subcategory Not Found"),i("p",{class:"text-body-2 text-grey"}," The subcategory you are looking for does not exist or has been removed. "),i(V,{color:"primary",to:A.value?`/help/${A.value.slug}`:"/help","prepend-icon":"mdi-arrow-left"},{default:s((()=>{var e;return[u(" Return to "+n((null==(e=A.value)?void 0:e.name)||"Help Center"),1)]})),_:1},8,["to"])];t(h(k,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:s(((e,t,l,a)=>{if(!t)return[u("mdi-alert-circle-outline")];t("mdi-alert-circle-outline")})),_:1},l,a)),t(`<h3 class="text-h6 text-grey-darken-1"${a}>Subcategory Not Found</h3><p class="text-body-2 text-grey"${a}> The subcategory you are looking for does not exist or has been removed. </p>`),t(h(V,{color:"primary",to:A.value?`/help/${A.value.slug}`:"/help","prepend-icon":"mdi-arrow-left"},{default:s(((e,t,l,a)=>{var r,o;if(!t)return[u(" Return to "+n((null==(o=A.value)?void 0:o.name)||"Help Center"),1)];t(` Return to ${v((null==(r=A.value)?void 0:r.name)||"Help Center")}`)})),_:1},l,a))})),_:1},l,a))})),_:1},l,a)):U.value?(t("\x3c!--[--\x3e"),t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12"},{default:s((()=>[i(b,{category:U.value,"parent-category":A.value},null,8,["category","parent-category"])])),_:1})];t(h(F,{cols:"12"},{default:s(((e,t,l,a)=>{if(!t)return[i(b,{category:U.value,"parent-category":A.value},null,8,["category","parent-category"])];t(h(b,{category:U.value,"parent-category":A.value},null,l,a))})),_:1},l,a))})),_:1},l,a)),R.value.length>0?t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12",class:"position-relative"},{default:s((()=>[L.value?(c(),d("div",{key:0,class:"overlay-loading"},[i(S,{indeterminate:"",size:"36",color:"primary"})])):g("",!0),(c(!0),d(p,null,y(R.value,(e=>(c(),d(x,{key:e.id,article:e,onSelect:handleArticleSelect,onSubCategoryClicked:handleSubCategoryClick},null,8,["article"])))),128))])),_:1})];t(h(F,{cols:"12",class:"position-relative"},{default:s(((e,t,l,a)=>{if(!t)return[L.value?(c(),d("div",{key:0,class:"overlay-loading"},[i(S,{indeterminate:"",size:"36",color:"primary"})])):g("",!0),(c(!0),d(p,null,y(R.value,(e=>(c(),d(x,{key:e.id,article:e,onSelect:handleArticleSelect,onSubCategoryClicked:handleSubCategoryClick},null,8,["article"])))),128))];L.value?(t(`<div class="overlay-loading"${a}>`),t(h(S,{indeterminate:"",size:"36",color:"primary"},null,l,a)),t("</div>")):t("\x3c!----\x3e"),t("\x3c!--[--\x3e"),f(R.value,(e=>{t(h(x,{key:e.id,article:e,onSelect:handleArticleSelect,onSubCategoryClicked:handleSubCategoryClick},null,l,a))})),t("\x3c!--]--\x3e")})),_:1},l,a))})),_:1},l,a)):t("\x3c!----\x3e"),(null==(r=B.value)?void 0:r.last_page)>1?t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12",class:"d-flex justify-center"},{default:s((()=>[i(H,{modelValue:D.value,"onUpdate:modelValue":[e=>D.value=e,handlePageChange],length:B.value.last_page,"total-visible":7,disabled:L.value},null,8,["modelValue","onUpdate:modelValue","length","disabled"])])),_:1})];t(h(F,{cols:"12",class:"d-flex justify-center"},{default:s(((e,t,l,a)=>{if(!t)return[i(H,{modelValue:D.value,"onUpdate:modelValue":[e=>D.value=e,handlePageChange],length:B.value.last_page,"total-visible":7,disabled:L.value},null,8,["modelValue","onUpdate:modelValue","length","disabled"])];t(h(H,{modelValue:D.value,"onUpdate:modelValue":[e=>D.value=e,handlePageChange],length:B.value.last_page,"total-visible":7,disabled:L.value},null,l,a))})),_:1},l,a))})),_:1},l,a)):t("\x3c!----\x3e"),L.value||0!==R.value.length?t("\x3c!----\x3e"):t(h(z,null,{default:s(((e,t,l,a)=>{if(!t)return[i(F,{cols:"12",class:"text-center py-12"},{default:s((()=>[i(k,{size:"64",color:"primary",class:"mb-4"},{default:s((()=>[u("mdi-clock-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"We're still adding content"),i("p",{class:"text-body-2 text-grey"}," Articles for this subcategory are coming soon. Check back later! ")])),_:1})];t(h(F,{cols:"12",class:"text-center py-12"},{default:s(((e,t,l,a)=>{if(!t)return[i(k,{size:"64",color:"primary",class:"mb-4"},{default:s((()=>[u("mdi-clock-outline")])),_:1}),i("h3",{class:"text-h6 text-grey-darken-1"},"We're still adding content"),i("p",{class:"text-body-2 text-grey"}," Articles for this subcategory are coming soon. Check back later! ")];t(h(k,{size:"64",color:"primary",class:"mb-4"},{default:s(((e,t,l,a)=>{if(!t)return[u("mdi-clock-outline")];t("mdi-clock-outline")})),_:1},l,a)),t(`<h3 class="text-h6 text-grey-darken-1"${a}>We&#39;re still adding content</h3><p class="text-body-2 text-grey"${a}> Articles for this subcategory are coming soon. Check back later! </p>`)})),_:1},l,a))})),_:1},l,a)),t("\x3c!--]--\x3e")):t("\x3c!----\x3e")})),_:1},r))}}}),w=L.setup;L.setup=(e,t)=>{const l=m();return(l.modules||(l.modules=new Set)).add("pages/help/[categorySlug]/[subCategorySlug]/index.vue"),w?w(e,t):void 0};export{L as default};

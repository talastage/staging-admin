import{u as e,_ as a}from"./WalletCurrencySelector-nBdsvz22.mjs";import{useSSRContext as l,defineComponent as t,computed as i,mergeProps as s,withCtx as o,createVNode as r,ref as d,watch as u,createTextVNode as n,openBlock as c,createBlock as m,Fragment as v,renderList as p,toDisplayString as f,withModifiers as y,unref as b,createCommentVNode as h}from"vue";import{ssrRenderAttrs as _,ssrRenderComponent as x,ssrRenderList as w,ssrRenderClass as g,ssrInterpolate as V}from"vue/server-renderer";import{_ as k,au as C,u as z,a as S,V as j,b as I,aA as W}from"./server.mjs";import{u as $}from"./useCurrencies-Dkc4Yzgg.mjs";import{u as P}from"./useWalletStore-C5It8oQZ.mjs";import{u as F}from"./useSnackMessage-PVLwAm7x.mjs";import{m as N}from"./masking-DaBDaxx_.mjs";import{_ as U}from"./CountdownDateTimer-Ca5jMvj-.mjs";import{a as A}from"./index--K8ZrFMm.mjs";import{V as E,d as T,a as B,c as Y}from"./VCard-CsohsM82.mjs";import{V as R}from"./VAvatar-JL8WKjry.mjs";import{V as M,a as q}from"./VWindowItem-DjFGFGcX.mjs";import{V as D}from"./VForm-HRC00ryg.mjs";import{V as G,a as K}from"./VRadioGroup-DcyDhdKu.mjs";import{V as Z}from"./VOtpInput-CwUg_E9q.mjs";import{a as J}from"./VChip-f_o2BAA4.mjs";import{V as O}from"./VAlert-DneVUU3Q.mjs";import{V as X}from"./VSpacer-_gFExeVk.mjs";import{u as L}from"./useApps-hYo13Xt3.mjs";import{u as Q}from"./useSeo-Dl9beXFt.mjs";import{V as H}from"./VContainer-By3q0af_.mjs";import"axios";import"./VSnackbar-zBX8NfdO.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./VImg-B2jcJjnn.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";import"./useTimeFormatting-BygSFjON.mjs";import"./ssrBoot-BtvJZs44.mjs";import"./VInput-DRJS2l97.mjs";import"./VSelectionControl-BvLhSUlq.mjs";import"./VField-ZM6yOiXp.mjs";const ee={__name:"WalletActivatePage",__ssrInlineRender:!0,setup(l){const t=C(),{$axios:_}=z(),k=e(),L=S(),Q=$(),H=P(),ee=F(),ae=d(null),le=d(null),handleCurrencyError=e=>{handleError(e,"Failed to update wallet currency")},te=d(""),ie=d(1),se=d("email"),oe=d(""),re=d(0),de=d(!1),ue=d(""),ne=d("info"),ce=d(!1);d(!1);const me=i((()=>6===oe.value.length)),ve=i((()=>{var e,a;return N((null==(a=null==(e=L.user)?void 0:e.value)?void 0:a.email)||"")})),showStatus=(e,a="info")=>{"error"===a?ee.error(e,{timeout:5e3,closable:!0}):(ue.value=e,ne.value=a,"success"===a&&setTimeout((()=>{ue.value===e&&(ue.value="")}),5e3))},handleError=(e,a)=>{var l,t;console.error("Error:",e);let i=a;(null==(t=null==(l=null==e?void 0:e.response)?void 0:l.data)?void 0:t.message)?i=e.response.data.message:(null==e?void 0:e.message)&&(i=e.message),ee.error(i)},handleCountdownFinished=()=>{de.value=!1,showStatus("Verification code has expired. Please request a new one.","warning")},sendCode=async()=>{console.log("Send code button clicked");try{ce.value=!0,ue.value="";const e=await _.post("/api/wallet/activation/send-code",{method:se.value});console.log("Send code response:",e.data),ie.value=2,re.value++,de.value=!0,showStatus("Activation code sent to your email","success")}catch(e){console.error("Send code error:",e),handleError(e,"Failed to send activation code")}finally{ce.value=!1}},verifyCode=async()=>{if(me.value){ue.value="";try{ce.value=!0;const e=await _.post("/api/wallet/activation/verify-code",{code:oe.value,method:se.value});console.log("Verify code response:",e.data),showStatus("Email verified successfully","success");try{await Promise.all([Q.fetchCurrencies(),H.fetchWallet()]),ie.value=3}catch(e){handleError(e,"Verification successful, but failed to load wallet data")}}catch(e){console.error("Verify code error:",e),handleError(e,"Failed to verify activation code"),oe.value=""}finally{ce.value=!1}}},resendCode=async()=>{ue.value="";try{ce.value=!0;const e=await _.post("/api/wallet/activation/resend-code",{method:se.value});console.log("Resend code response:",e.data),re.value++,de.value=!0,oe.value="",showStatus("New activation code sent to your email","success")}catch(e){console.error("Resend code error:",e),handleError(e,"Failed to resend activation code")}finally{ce.value=!1}},goBack=()=>{ie.value=1,ue.value=""},goToWallet=async()=>{try{await W("/wallet/verify-pin")}catch(e){console.error("Navigation error:",e),await t.push("/wallet/verify-pin")}},handleActivationComplete=async e=>{try{if(ce.value=!0,!e){e=(await _.post("/api/wallet/activation/complete")).data}console.log("Activation complete:",e),e.pin?(te.value=e.pin,ie.value=4):(ee.success("Wallet activated successfully!"),await W("/wallet"))}catch(e){handleError(e,"Failed to complete wallet activation")}finally{ce.value=!1}};return u(ie,(e=>{1===e&&(oe.value="",de.value=!1)})),(e,l,t,i)=>{const d=a;l(x(E,s({class:"wallet-activation-card",elevation:"2",rounded:"xl"},i),{default:o(((e,a,l,t)=>{if(!a)return[r(T,{class:"header-section pa-4"},{default:o((()=>[r("div",{class:"text-center"},[r(R,{size:"48",color:"primary",class:"mb-3"},{default:o((()=>[r(j,{color:"white",size:"24"},{default:o((()=>[n("mdi-wallet-plus")])),_:1})])),_:1}),r("h2",{class:"text-h5 font-weight-bold mb-2"},"Activate Your Wallet"),r("p",{class:"text-body-2 text-medium-emphasis mb-0"}," Secure your transactions with wallet activation ")])])),_:1}),r(B,{class:"stepper-section pa-4 pt-2"},{default:o((()=>[r("div",{class:"d-flex justify-center align-center mb-4"},[(c(),m(v,null,p(4,(e=>r("div",{key:e,class:["progress-dot",{active:ie.value>=e,completed:ie.value>e}]},[ie.value>e?(c(),m(j,{key:0,size:"12",color:"white"},{default:o((()=>[n("mdi-check")])),_:1})):(c(),m("span",{key:1,class:"dot-number"},f(e),1))],2))),64))])])),_:1}),r(B,{class:"main-content pa-4"},{default:o((()=>[r(M,{modelValue:ie.value,"onUpdate:modelValue":e=>ie.value=e,touch:!1},{default:o((()=>[r(q,{value:1},{default:o((()=>[r(D,{onSubmit:y(sendCode,["prevent"]),ref_key:"emailForm",ref:ae},{default:o((()=>[r("p",{class:"text-body-1 mb-4"},"Verify with your registered email:"),r(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o((()=>[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])])),_:1},8,["modelValue","onUpdate:modelValue"]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:2},{default:o((()=>[r(D,{onSubmit:y(verifyCode,["prevent"]),ref_key:"codeForm",ref:le},{default:o((()=>[r("p",{class:"text-h6 text-center mb-4"},"Enter Verification Code"),r("p",{class:"text-body-1 text-center mb-6"},[n(" We've sent a 6-digit code to your email "),r("span",null,"("+f(ve.value)+")",1)]),r(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),r("div",{class:"text-center mb-4"},[r(J,{color:"info",variant:"outlined"},{default:o((()=>[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:3},{default:o((()=>[r(d,{"wallet-id":b(k).walletId,"allow-skip":!0,onSuccess:handleActivationComplete,onSkip:handleActivationComplete,onError:handleCurrencyError},null,8,["wallet-id"])])),_:1}),r(q,{value:4},{default:o((()=>[r("div",{class:"text-center"},[r(j,{icon:"mdi-check-circle",size:"80",color:"success",class:"mb-4"}),r("h2",{class:"text-h4 text-success mb-4"}," Wallet Activated Successfully! "),r("p",{class:"text-body-1 mb-6"}," Your wallet has been successfully activated! We've sent your wallet PIN to your email. "),r("div",{class:"pin-container text-center my-6 pa-4 rounded bg-grey-lighten-4"},[r("p",{class:"text-caption mb-2"},"Your Wallet PIN:"),r("div",{class:"pin-display"},f(te.value),1),r("p",{class:"text-caption mt-2"},"Keep this PIN secure!")]),r(O,{type:"warning",variant:"tonal",class:"mb-6",border:"start",density:"compact"},{default:o((()=>[r("strong",null,"Important:"),n(" This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. ")])),_:1}),r("p",{class:"text-body-2 mb-6"}," We've also sent this PIN to your email for your records. For security reasons, this is the only time we'll display your PIN on screen. "),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",size:"default",class:"px-6",onClick:goToWallet},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-wallet")])),_:1}),n(" Go to My Wallet ")])),_:1})])])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),r(A,null,{default:o((()=>[ue.value?(c(),m(O,{key:0,type:ne.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>ue.value=""},{default:o((()=>[n(f(ue.value),1)])),_:1},8,["type","onClick:close"])):h("",!0)])),_:1})])),_:1}),ie.value<4?(c(),m(Y,{key:0,class:"action-buttons"},{default:o((()=>[2===ie.value?(c(),m(I,{key:0,variant:"text",onClick:goBack,"prepend-icon":"mdi-arrow-left",disabled:ce.value},{default:o((()=>[n(" Back ")])),_:1},8,["disabled"])):h("",!0),r(X),2===ie.value?(c(),m(I,{key:1,variant:"text",onClick:resendCode,disabled:de.value||ce.value,"prepend-icon":"mdi-refresh"},{default:o((()=>[n(" Resend Code ")])),_:1},8,["disabled"])):h("",!0)])),_:1})):h("",!0)];a(x(T,{class:"header-section pa-4"},{default:o(((e,a,l,t)=>{if(!a)return[r("div",{class:"text-center"},[r(R,{size:"48",color:"primary",class:"mb-3"},{default:o((()=>[r(j,{color:"white",size:"24"},{default:o((()=>[n("mdi-wallet-plus")])),_:1})])),_:1}),r("h2",{class:"text-h5 font-weight-bold mb-2"},"Activate Your Wallet"),r("p",{class:"text-body-2 text-medium-emphasis mb-0"}," Secure your transactions with wallet activation ")])];a(`<div class="text-center" data-v-9dd59b7c${t}>`),a(x(R,{size:"48",color:"primary",class:"mb-3"},{default:o(((e,a,l,t)=>{if(!a)return[r(j,{color:"white",size:"24"},{default:o((()=>[n("mdi-wallet-plus")])),_:1})];a(x(j,{color:"white",size:"24"},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-wallet-plus")];a("mdi-wallet-plus")})),_:1},l,t))})),_:1},l,t)),a(`<h2 class="text-h5 font-weight-bold mb-2" data-v-9dd59b7c${t}>Activate Your Wallet</h2><p class="text-body-2 text-medium-emphasis mb-0" data-v-9dd59b7c${t}> Secure your transactions with wallet activation </p></div>`)})),_:1},l,t)),a(x(B,{class:"stepper-section pa-4 pt-2"},{default:o(((e,a,l,t)=>{if(!a)return[r("div",{class:"d-flex justify-center align-center mb-4"},[(c(),m(v,null,p(4,(e=>r("div",{key:e,class:["progress-dot",{active:ie.value>=e,completed:ie.value>e}]},[ie.value>e?(c(),m(j,{key:0,size:"12",color:"white"},{default:o((()=>[n("mdi-check")])),_:1})):(c(),m("span",{key:1,class:"dot-number"},f(e),1))],2))),64))])];a(`<div class="d-flex justify-center align-center mb-4" data-v-9dd59b7c${t}>\x3c!--[--\x3e`),w(4,(e=>{a(`<div class="${g(["progress-dot",{active:ie.value>=e,completed:ie.value>e}])}" data-v-9dd59b7c${t}>`),ie.value>e?a(x(j,{size:"12",color:"white"},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-check")];a("mdi-check")})),_:2},l,t)):a(`<span class="dot-number" data-v-9dd59b7c${t}>${V(e)}</span>`),a("</div>")})),a("\x3c!--]--\x3e</div>")})),_:1},l,t)),a(x(B,{class:"main-content pa-4"},{default:o(((e,a,l,t)=>{if(!a)return[r(M,{modelValue:ie.value,"onUpdate:modelValue":e=>ie.value=e,touch:!1},{default:o((()=>[r(q,{value:1},{default:o((()=>[r(D,{onSubmit:y(sendCode,["prevent"]),ref_key:"emailForm",ref:ae},{default:o((()=>[r("p",{class:"text-body-1 mb-4"},"Verify with your registered email:"),r(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o((()=>[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])])),_:1},8,["modelValue","onUpdate:modelValue"]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:2},{default:o((()=>[r(D,{onSubmit:y(verifyCode,["prevent"]),ref_key:"codeForm",ref:le},{default:o((()=>[r("p",{class:"text-h6 text-center mb-4"},"Enter Verification Code"),r("p",{class:"text-body-1 text-center mb-6"},[n(" We've sent a 6-digit code to your email "),r("span",null,"("+f(ve.value)+")",1)]),r(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),r("div",{class:"text-center mb-4"},[r(J,{color:"info",variant:"outlined"},{default:o((()=>[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:3},{default:o((()=>[r(d,{"wallet-id":b(k).walletId,"allow-skip":!0,onSuccess:handleActivationComplete,onSkip:handleActivationComplete,onError:handleCurrencyError},null,8,["wallet-id"])])),_:1}),r(q,{value:4},{default:o((()=>[r("div",{class:"text-center"},[r(j,{icon:"mdi-check-circle",size:"80",color:"success",class:"mb-4"}),r("h2",{class:"text-h4 text-success mb-4"}," Wallet Activated Successfully! "),r("p",{class:"text-body-1 mb-6"}," Your wallet has been successfully activated! We've sent your wallet PIN to your email. "),r("div",{class:"pin-container text-center my-6 pa-4 rounded bg-grey-lighten-4"},[r("p",{class:"text-caption mb-2"},"Your Wallet PIN:"),r("div",{class:"pin-display"},f(te.value),1),r("p",{class:"text-caption mt-2"},"Keep this PIN secure!")]),r(O,{type:"warning",variant:"tonal",class:"mb-6",border:"start",density:"compact"},{default:o((()=>[r("strong",null,"Important:"),n(" This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. ")])),_:1}),r("p",{class:"text-body-2 mb-6"}," We've also sent this PIN to your email for your records. For security reasons, this is the only time we'll display your PIN on screen. "),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",size:"default",class:"px-6",onClick:goToWallet},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-wallet")])),_:1}),n(" Go to My Wallet ")])),_:1})])])])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),r(A,null,{default:o((()=>[ue.value?(c(),m(O,{key:0,type:ne.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>ue.value=""},{default:o((()=>[n(f(ue.value),1)])),_:1},8,["type","onClick:close"])):h("",!0)])),_:1})];a(x(M,{modelValue:ie.value,"onUpdate:modelValue":e=>ie.value=e,touch:!1},{default:o(((e,a,l,t)=>{if(!a)return[r(q,{value:1},{default:o((()=>[r(D,{onSubmit:y(sendCode,["prevent"]),ref_key:"emailForm",ref:ae},{default:o((()=>[r("p",{class:"text-body-1 mb-4"},"Verify with your registered email:"),r(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o((()=>[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])])),_:1},8,["modelValue","onUpdate:modelValue"]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:2},{default:o((()=>[r(D,{onSubmit:y(verifyCode,["prevent"]),ref_key:"codeForm",ref:le},{default:o((()=>[r("p",{class:"text-h6 text-center mb-4"},"Enter Verification Code"),r("p",{class:"text-body-1 text-center mb-6"},[n(" We've sent a 6-digit code to your email "),r("span",null,"("+f(ve.value)+")",1)]),r(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),r("div",{class:"text-center mb-4"},[r(J,{color:"info",variant:"outlined"},{default:o((()=>[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),r(q,{value:3},{default:o((()=>[r(d,{"wallet-id":b(k).walletId,"allow-skip":!0,onSuccess:handleActivationComplete,onSkip:handleActivationComplete,onError:handleCurrencyError},null,8,["wallet-id"])])),_:1}),r(q,{value:4},{default:o((()=>[r("div",{class:"text-center"},[r(j,{icon:"mdi-check-circle",size:"80",color:"success",class:"mb-4"}),r("h2",{class:"text-h4 text-success mb-4"}," Wallet Activated Successfully! "),r("p",{class:"text-body-1 mb-6"}," Your wallet has been successfully activated! We've sent your wallet PIN to your email. "),r("div",{class:"pin-container text-center my-6 pa-4 rounded bg-grey-lighten-4"},[r("p",{class:"text-caption mb-2"},"Your Wallet PIN:"),r("div",{class:"pin-display"},f(te.value),1),r("p",{class:"text-caption mt-2"},"Keep this PIN secure!")]),r(O,{type:"warning",variant:"tonal",class:"mb-6",border:"start",density:"compact"},{default:o((()=>[r("strong",null,"Important:"),n(" This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. ")])),_:1}),r("p",{class:"text-body-2 mb-6"}," We've also sent this PIN to your email for your records. For security reasons, this is the only time we'll display your PIN on screen. "),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",size:"default",class:"px-6",onClick:goToWallet},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-wallet")])),_:1}),n(" Go to My Wallet ")])),_:1})])])])),_:1})];a(x(q,{value:1},{default:o(((e,a,l,t)=>{if(!a)return[r(D,{onSubmit:y(sendCode,["prevent"]),ref_key:"emailForm",ref:ae},{default:o((()=>[r("p",{class:"text-body-1 mb-4"},"Verify with your registered email:"),r(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o((()=>[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])])),_:1},8,["modelValue","onUpdate:modelValue"]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)];a(x(D,{onSubmit:sendCode,ref_key:"emailForm",ref:ae},{default:o(((e,a,l,t)=>{if(!a)return[r("p",{class:"text-body-1 mb-4"},"Verify with your registered email:"),r(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o((()=>[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])])),_:1},8,["modelValue","onUpdate:modelValue"]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")])),_:1},8,["loading","disabled"])])];a(`<p class="text-body-1 mb-4" data-v-9dd59b7c${t}>Verify with your registered email:</p>`),a(x(G,{modelValue:se.value,"onUpdate:modelValue":e=>se.value=e,class:"mb-6",row:""},{default:o(((e,a,l,t)=>{if(!a)return[r(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,8,["label"])];a(x(K,{label:`Email (${ve.value})`,value:"email",color:"primary","aria-label":"Verify with email"},null,l,t))})),_:1},l,t)),a(`<div class="d-flex justify-center" data-v-9dd59b7c${t}>`),a(x(I,{color:"primary",onClick:sendCode,loading:ce.value,disabled:!se.value||ce.value,size:"default",class:"px-6"},{default:o(((e,a,l,t)=>{if(!a)return[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-email-send")])),_:1}),n(" Send Code ")];a(x(j,{start:"",size:"18"},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-email-send")];a("mdi-email-send")})),_:1},l,t)),a(" Send Code ")})),_:1},l,t)),a("</div>")})),_:1},l,t))})),_:1},l,t)),a(x(q,{value:2},{default:o(((e,a,l,t)=>{if(!a)return[r(D,{onSubmit:y(verifyCode,["prevent"]),ref_key:"codeForm",ref:le},{default:o((()=>[r("p",{class:"text-h6 text-center mb-4"},"Enter Verification Code"),r("p",{class:"text-body-1 text-center mb-6"},[n(" We've sent a 6-digit code to your email "),r("span",null,"("+f(ve.value)+")",1)]),r(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),r("div",{class:"text-center mb-4"},[r(J,{color:"info",variant:"outlined"},{default:o((()=>[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)];a(x(D,{onSubmit:verifyCode,ref_key:"codeForm",ref:le},{default:o(((e,a,l,t)=>{if(!a)return[r("p",{class:"text-h6 text-center mb-4"},"Enter Verification Code"),r("p",{class:"text-body-1 text-center mb-6"},[n(" We've sent a 6-digit code to your email "),r("span",null,"("+f(ve.value)+")",1)]),r(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),r("div",{class:"text-center mb-4"},[r(J,{color:"info",variant:"outlined"},{default:o((()=>[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")])),_:1},8,["loading","disabled"])])];a(`<p class="text-h6 text-center mb-4" data-v-9dd59b7c${t}>Enter Verification Code</p><p class="text-body-1 text-center mb-6" data-v-9dd59b7c${t}> We&#39;ve sent a 6-digit code to your email <span data-v-9dd59b7c${t}>(${V(ve.value)})</span></p>`),a(x(Z,{modelValue:oe.value,"onUpdate:modelValue":e=>oe.value=e,length:6,type:"number",onFinish:verifyCode,class:"mb-4","aria-label":"Verification code input",disabled:ce.value,autofocus:""},null,l,t)),a(`<div class="text-center mb-4" data-v-9dd59b7c${t}>`),a(x(J,{color:"info",variant:"outlined"},{default:o(((e,a,l,t)=>{if(!a)return[r(j,{start:""},{default:o((()=>[n("mdi-clock-outline")])),_:1}),n(" Code expires in "),(c(),m(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished}))];a(x(j,{start:""},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-clock-outline")];a("mdi-clock-outline")})),_:1},l,t)),a(" Code expires in "),a(x(U,{key:re.value,seconds:180,onFinished:handleCountdownFinished},null,l,t))})),_:1},l,t)),a(`</div><div class="d-flex justify-center" data-v-9dd59b7c${t}>`),a(x(I,{color:"primary",type:"submit",loading:ce.value,disabled:!me.value||ce.value,size:"default",class:"px-6"},{default:o(((e,a,l,t)=>{if(!a)return[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-check-circle")])),_:1}),n(" Verify Code ")];a(x(j,{start:"",size:"18"},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-check-circle")];a("mdi-check-circle")})),_:1},l,t)),a(" Verify Code ")})),_:1},l,t)),a("</div>")})),_:1},l,t))})),_:1},l,t)),a(x(q,{value:3},{default:o(((e,a,l,t)=>{if(!a)return[r(d,{"wallet-id":b(k).walletId,"allow-skip":!0,onSuccess:handleActivationComplete,onSkip:handleActivationComplete,onError:handleCurrencyError},null,8,["wallet-id"])];a(x(d,{"wallet-id":b(k).walletId,"allow-skip":!0,onSuccess:handleActivationComplete,onSkip:handleActivationComplete,onError:handleCurrencyError},null,l,t))})),_:1},l,t)),a(x(q,{value:4},{default:o(((e,a,l,t)=>{if(!a)return[r("div",{class:"text-center"},[r(j,{icon:"mdi-check-circle",size:"80",color:"success",class:"mb-4"}),r("h2",{class:"text-h4 text-success mb-4"}," Wallet Activated Successfully! "),r("p",{class:"text-body-1 mb-6"}," Your wallet has been successfully activated! We've sent your wallet PIN to your email. "),r("div",{class:"pin-container text-center my-6 pa-4 rounded bg-grey-lighten-4"},[r("p",{class:"text-caption mb-2"},"Your Wallet PIN:"),r("div",{class:"pin-display"},f(te.value),1),r("p",{class:"text-caption mt-2"},"Keep this PIN secure!")]),r(O,{type:"warning",variant:"tonal",class:"mb-6",border:"start",density:"compact"},{default:o((()=>[r("strong",null,"Important:"),n(" This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. ")])),_:1}),r("p",{class:"text-body-2 mb-6"}," We've also sent this PIN to your email for your records. For security reasons, this is the only time we'll display your PIN on screen. "),r("div",{class:"d-flex justify-center"},[r(I,{color:"primary",size:"default",class:"px-6",onClick:goToWallet},{default:o((()=>[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-wallet")])),_:1}),n(" Go to My Wallet ")])),_:1})])])];a(`<div class="text-center" data-v-9dd59b7c${t}>`),a(x(j,{icon:"mdi-check-circle",size:"80",color:"success",class:"mb-4"},null,l,t)),a(`<h2 class="text-h4 text-success mb-4" data-v-9dd59b7c${t}> Wallet Activated Successfully! </h2><p class="text-body-1 mb-6" data-v-9dd59b7c${t}> Your wallet has been successfully activated! We&#39;ve sent your wallet PIN to your email. </p><div class="pin-container text-center my-6 pa-4 rounded bg-grey-lighten-4" data-v-9dd59b7c${t}><p class="text-caption mb-2" data-v-9dd59b7c${t}>Your Wallet PIN:</p><div class="pin-display" data-v-9dd59b7c${t}>${V(te.value)}</div><p class="text-caption mt-2" data-v-9dd59b7c${t}>Keep this PIN secure!</p></div>`),a(x(O,{type:"warning",variant:"tonal",class:"mb-6",border:"start",density:"compact"},{default:o(((e,a,l,t)=>{if(!a)return[r("strong",null,"Important:"),n(" This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. ")];a(`<strong data-v-9dd59b7c${t}>Important:</strong> This PIN will be required to access your wallet and authorize transactions. Please store it in a secure place and never share it with anyone. `)})),_:1},l,t)),a(`<p class="text-body-2 mb-6" data-v-9dd59b7c${t}> We&#39;ve also sent this PIN to your email for your records. For security reasons, this is the only time we&#39;ll display your PIN on screen. </p><div class="d-flex justify-center" data-v-9dd59b7c${t}>`),a(x(I,{color:"primary",size:"default",class:"px-6",onClick:goToWallet},{default:o(((e,a,l,t)=>{if(!a)return[r(j,{start:"",size:"18"},{default:o((()=>[n("mdi-wallet")])),_:1}),n(" Go to My Wallet ")];a(x(j,{start:"",size:"18"},{default:o(((e,a,l,t)=>{if(!a)return[n("mdi-wallet")];a("mdi-wallet")})),_:1},l,t)),a(" Go to My Wallet ")})),_:1},l,t)),a("</div></div>")})),_:1},l,t))})),_:1},l,t)),a(x(A,null,{default:o(((e,a,l,t)=>{if(!a)return[ue.value?(c(),m(O,{key:0,type:ne.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>ue.value=""},{default:o((()=>[n(f(ue.value),1)])),_:1},8,["type","onClick:close"])):h("",!0)];ue.value?a(x(O,{type:ne.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>ue.value=""},{default:o(((e,a,l,t)=>{if(!a)return[n(f(ue.value),1)];a(`${V(ue.value)}`)})),_:1},l,t)):a("\x3c!----\x3e")})),_:1},l,t))})),_:1},l,t)),ie.value<4?a(x(Y,{class:"action-buttons"},{default:o(((e,a,l,t)=>{if(!a)return[2===ie.value?(c(),m(I,{key:0,variant:"text",onClick:goBack,"prepend-icon":"mdi-arrow-left",disabled:ce.value},{default:o((()=>[n(" Back ")])),_:1},8,["disabled"])):h("",!0),r(X),2===ie.value?(c(),m(I,{key:1,variant:"text",onClick:resendCode,disabled:de.value||ce.value,"prepend-icon":"mdi-refresh"},{default:o((()=>[n(" Resend Code ")])),_:1},8,["disabled"])):h("",!0)];2===ie.value?a(x(I,{variant:"text",onClick:goBack,"prepend-icon":"mdi-arrow-left",disabled:ce.value},{default:o(((e,a,l,t)=>{if(!a)return[n(" Back ")];a(" Back ")})),_:1},l,t)):a("\x3c!----\x3e"),a(x(X,null,null,l,t)),2===ie.value?a(x(I,{variant:"text",onClick:resendCode,disabled:de.value||ce.value,"prepend-icon":"mdi-refresh"},{default:o(((e,a,l,t)=>{if(!a)return[n(" Resend Code ")];a(" Resend Code ")})),_:1},l,t)):a("\x3c!----\x3e")})),_:1},l,t)):a("\x3c!----\x3e")})),_:1},t))}}},ae=ee.setup;ee.setup=(e,a)=>{const t=l();return(t.modules||(t.modules=new Set)).add("views/wallet/WalletActivatePage.vue"),ae?ae(e,a):void 0};const le=k(ee,[["__scopeId","data-v-9dd59b7c"]]),te=t({__name:"activate",__ssrInlineRender:!0,setup(e){const a=L(),l=i((()=>a.talastageApp));return Q({title:i((()=>{var e;return`Activate Wallet - ${(null==(e=l.value)?void 0:e.name)||"TalaStage"}`})),description:i((()=>"Activate your TalaStage wallet to start secure transactions.")),keywords:i((()=>{var e;return`wallet, activate wallet, secure transactions, fund wallet, ${(null==(e=l.value)?void 0:e.name)||"TalaStage"}`})),image:i((()=>{var e;return(null==(e=l.value)?void 0:e.logo_url)||"/default-social-image.png"})),type:"website",siteName:i((()=>{var e;return(null==(e=l.value)?void 0:e.name)||"TalaStage"})),url:i((()=>{var e;return`${(null==(e=l.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/activate`})),canonical:i((()=>{var e;return`${(null==(e=l.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/activate`})),openGraph:i((()=>{var e,a,t,i;return{title:`Activate Wallet - ${(null==(e=l.value)?void 0:e.name)||"TalaStage"}`,description:"Activate your TalaStage wallet to start secure transactions.",url:`${(null==(a=l.value)?void 0:a.canonical_url)||"https://talastage.com"}/wallet/activate`,image:(null==(t=l.value)?void 0:t.logo_url)||"/default-social-image.png",siteName:(null==(i=l.value)?void 0:i.name)||"TalaStage",type:"website"}})),twitter:i((()=>{var e,a;return{card:"summary_large_image",title:`Activate Wallet - ${(null==(e=l.value)?void 0:e.name)||"TalaStage"}`,description:"Activate your TalaStage wallet to start secure transactions.",image:(null==(a=l.value)?void 0:a.logo_url)||"/default-social-image.png"}})),link:i((()=>{var e;return[{rel:"icon",href:(null==(e=l.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,a,l,t)=>{const i=le;a(`<div${_(s({class:"activate-page-wrapper"},t))} data-v-ac689355>`),a(x(H,{class:"activate-container"},{default:o(((e,a,l,t)=>{if(!a)return[r(i)];a(x(i,null,null,l,t))})),_:1},l)),a("</div>")}}}),ie=te.setup;te.setup=(e,a)=>{const t=l();return(t.modules||(t.modules=new Set)).add("pages/wallet/activate.vue"),ie?ie(e,a):void 0};const se=k(te,[["__scopeId","data-v-ac689355"]]);export{se as default};

import{d as e,u as t}from"./server.mjs";import{ref as r,computed as a}from"vue";const o=e("projectStore",(()=>{const{$axios:e}=t(),o=r(null),s=r(null),n=r(!1);async function apiRequest(e){n.value=!0,s.value=null;try{const{data:t}=await e();return t}catch(e){return function(e){var t;const r=(null==(t=e.response)?void 0:t.data.message)||(e.request?"No response from server":e.message)||"An unexpected error occurred";s.value=r,console.error("API Error:",r)}(e),null}finally{n.value=!1}}return{project:a((()=>o.value)),currentProject:o,error:s,isLoading:n,fetchProject:async function(t){const r=await apiRequest((()=>e.get(`/guest/projects/${t}`)));return r&&(o.value=r),r},fetchProjectDetail:async t=>{const r=await apiRequest((()=>e.get(`/api/projects/${t}/detail`)));return r&&(o.value=r),r},updateProjectData:async(t,r)=>{const a=await apiRequest((()=>e.patch(`/api/projects/${t}`,r)));return a&&(o.value=a),a}}}));export{o as u};

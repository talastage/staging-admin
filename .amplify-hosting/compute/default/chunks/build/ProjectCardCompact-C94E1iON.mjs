import{_ as a}from"./MediaThumbnail-jyEgcC54.mjs";import{useSSRContext as t,defineComponent as e,computed as s,mergeProps as o,withCtx as c,createVNode as r,toDisplayString as i,renderSlot as d,openBlock as l,createBlock as n,createCommentVNode as p}from"vue";import{ssrRenderAttrs as u,ssrInterpolate as v,ssrRenderComponent as m,ssrRenderAttr as b,ssrRenderSlot as f}from"vue/server-renderer";import{u as j}from"./useDateFormatter-W2Hui1rv.mjs";import{_,aA as $}from"./server.mjs";import{V as h}from"./VCard-CsohsM82.mjs";const w=e({__name:"DateDisplay",__ssrInlineRender:!0,props:{date:{type:String,required:!0},showFullDate:{type:Boolean,default:!1},customClass:{type:String,default:""}},setup(a){const t=a,{formatRelativeDate:e,formatFullDate:c}=j(),r=s((()=>t.date?t.showFullDate?`${c(t.date)} (${e(t.date)})`:e(t.date):"Unknown Date"));return(t,e,s,c)=>{e(`<span${u(o({class:["date-display",a.customClass]},c))} data-v-57115b17>${v(r.value)}</span>`)}}}),g=w.setup;w.setup=(a,e)=>{const s=t();return(s.modules||(s.modules=new Set)).add("components/date/DateDisplay.vue"),g?g(a,e):void 0};const y=_(w,[["__scopeId","data-v-57115b17"]]),C=e({__name:"ProjectCardCompact",__ssrInlineRender:!0,props:{project:{},size:{default:"md"}},emits:["click"],setup(t,{emit:e}){const u=t,j=e,_=s((()=>({sm:"sm",md:"md",lg:"lg",xl:"xl"}[u.size]||"md"))),truncateText=(a,t)=>a.length<=t?a:a.slice(0,t)+"...",formatViewCount=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString(),formatDuration=a=>{if(!a)return"00:00";const t=a%60;return`${Math.floor(a/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},handleVideoClick=a=>{a.target.closest(".action-buttons")?a.stopPropagation():($(`/watch/${u.project.access_uuid}`),j("click"))};return(t,e,s,u)=>{const j=a,$=y;e(m(h,o({class:"project-card",elevation:0,ripple:!1,onClick:handleVideoClick},u),{default:c(((a,e,s,o)=>{if(!e)return[r("div",{class:"project-card__content"},[r("div",{class:"thumbnail-wrapper"},[r(j,{"thumbnail-url":t.project.thumbnail_url,"video-url":t.project.video_url,"show-views":!1,"show-duration":!0,size:_.value,class:"thumbnail"},null,8,["thumbnail-url","video-url","size"]),r("div",{class:"duration-badge"},[r("span",null,i(formatDuration(t.project.duration)),1)])]),r("div",{class:"info-section"},[r("div",{class:"details"},[r("div",{class:"title-action-row"},[r("h3",{class:"title",title:t.project.name},i(truncateText(t.project.name,60)),9,["title"]),r("div",{class:"action-buttons"},[d(t.$slots,"actions",{},void 0,!0)])]),r("div",{class:"metadata"},[t.project.creator?(l(),n("span",{key:0,class:"creator-name"},i(t.project.creator.display_name),1)):p("",!0),r("div",{class:"stats"},[r("span",{class:"views"},i(formatViewCount(t.project.views_count))+" views ",1),r("span",{class:"dot"},"•"),r($,{date:t.project.created_at,class:"date"},null,8,["date"])])])])])])];e(`<div class="project-card__content" data-v-4a5cfba0${o}><div class="thumbnail-wrapper" data-v-4a5cfba0${o}>`),e(m(j,{"thumbnail-url":t.project.thumbnail_url,"video-url":t.project.video_url,"show-views":!1,"show-duration":!0,size:_.value,class:"thumbnail"},null,s,o)),e(`<div class="duration-badge" data-v-4a5cfba0${o}><span data-v-4a5cfba0${o}>${v(formatDuration(t.project.duration))}</span></div></div><div class="info-section" data-v-4a5cfba0${o}><div class="details" data-v-4a5cfba0${o}><div class="title-action-row" data-v-4a5cfba0${o}><h3 class="title"${b("title",t.project.name)} data-v-4a5cfba0${o}>${v(truncateText(t.project.name,60))}</h3><div class="action-buttons" data-v-4a5cfba0${o}>`),f(t.$slots,"actions",{},null,e,s,o),e(`</div></div><div class="metadata" data-v-4a5cfba0${o}>`),t.project.creator?e(`<span class="creator-name" data-v-4a5cfba0${o}>${v(t.project.creator.display_name)}</span>`):e("\x3c!----\x3e"),e(`<div class="stats" data-v-4a5cfba0${o}><span class="views" data-v-4a5cfba0${o}>${v(formatViewCount(t.project.views_count))} views </span><span class="dot" data-v-4a5cfba0${o}>•</span>`),e(m($,{date:t.project.created_at,class:"date"},null,s,o)),e("</div></div></div></div></div>")})),_:3},s))}}}),D=C.setup;C.setup=(a,e)=>{const s=t();return(s.modules||(s.modules=new Set)).add("components/project/ProjectCardCompact.vue"),D?D(a,e):void 0};const S=_(C,[["__scopeId","data-v-4a5cfba0"]]);export{S as _};

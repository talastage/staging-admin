import{_ as t}from"./BaseHeader-CiSkdPXW.mjs";import{_ as e}from"./BaseCard-5i8D5k_7.mjs";import{_ as a}from"./UserCard-DhDpEloc.mjs";import{_ as s}from"./ProjectCardCompact-C94E1iON.mjs";import{_ as i}from"./WatchNowButton-BJo_BfPO.mjs";import{useSSRContext as r,defineComponent as l,computed as o,unref as c,withCtx as n,createVNode as m,createTextVNode as p,toDisplayString as d,openBlock as u,createBlock as y,createCommentVNode as f,Fragment as _,renderList as v}from"vue";import{ssrRenderAttrs as b,ssrRenderComponent as x,ssrInterpolate as h,ssrRenderList as g}from"vue/server-renderer";import{useRouter as j}from"vue-router";import{u as k}from"./useDateFormatter-W2Hui1rv.mjs";import{u as w}from"./useCurrencyFormatter-Dfs2ioxk.mjs";import{u as C}from"./useUserPayments-DIMCdT2C.mjs";import{u as z}from"./useApps-hYo13Xt3.mjs";import{u as D}from"./useSeo-Dl9beXFt.mjs";import{b as $,a as S}from"./VCard-CsohsM82.mjs";import{V}from"./VSkeletonLoader-CXOx9RZQ.mjs";import{V as E}from"./VRow-rkX0LEXR.mjs";import{V as T}from"./VCol-CKxprC4g.mjs";import{V as W}from"./VAlert-DneVUU3Q.mjs";import{_ as A,V as N,b as R}from"./server.mjs";import{a as B}from"./VChip-f_o2BAA4.mjs";import{V as P}from"./VDivider-BmyMVZMt.mjs";import"./UserAvatar-DFFlBvus.mjs";import"./VAvatar-JL8WKjry.mjs";import"./VImg-B2jcJjnn.mjs";import"./VListItem-jTLuICGb.mjs";import"./MediaThumbnail-jyEgcC54.mjs";import"hls.js";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"pinia-plugin-persistedstate";import"./index--K8ZrFMm.mjs";const F=l({__name:"tip-[reference]",__ssrInlineRender:!0,setup(r){const l=j(),{formatRelativeDate:A,formatLocalDateTime:F}=k(),{currencyFormatter:I}=w(),{currentPayment:L,loading:M,error:X,initPaymentDetail:U,getStatusColor:H,getStatusIcon:J,getPaymentTypeTitle:K,getRecipientTitle:O,formatStatus:Z,projectPaymentTypes:Q}=C(),G=z(),navigateToWatch=t=>{l.push(`/watch/${t}`)},navigateToEditDraft=t=>{l.push(`/studio/projects/${t}/edit_draft`)},Y=o((()=>G.talastageApp));return D({title:o((()=>{var t;return`Tip Details - ${(null==(t=Y.value)?void 0:t.name)||"TalaStage"}`})),description:o((()=>{var t;return(null==(t=Y.value)?void 0:t.seo_description)||"View details of your tip transaction on TalaStage"})),keywords:o((()=>{var t;return(null==(t=Y.value)?void 0:t.meta_keywords)||""})),image:o((()=>{var t,e;return(null==(t=Y.value)?void 0:t.thumbnail_url)||(null==(e=Y.value)?void 0:e.logo_url)||"https://talastage.com/app-logo.png"})),url:o((()=>{var t;return(null==(t=Y.value)?void 0:t.canonical_url)||"https://talastage.com"})),type:"website",siteName:o((()=>{var t;return(null==(t=Y.value)?void 0:t.name)||"TalaStage"})),twitter:{card:"summary_large_image",site:"@talastage"},script:o((()=>{var t;const e=null==(t=Y.value)?void 0:t.schema_markup;return e?[{type:"application/ld+json",innerHTML:e}]:[]})),link:o((()=>{var t;return[{rel:"icon",type:"image/png",href:(null==(t=Y.value)?void 0:t.favicon_url)||"/favicon.png"}]}))}),(r,l,o,j)=>{const k=t,w=e,C=a,z=s,D=i;l(`<div${b(j)} data-v-8e72255a>`),l(x(k,{title:"Tip Details","margin-bottom":24},null,o)),l('<div class="payment-status-container" data-v-8e72255a>'),c(M)?l(x(w,null,{default:n(((t,e,a,s)=>{if(!e)return[m($,{class:"d-flex align-center pb-2"},{default:n((()=>[m(V,{type:"avatar",size:"32",class:"mr-2"}),m(V,{type:"text",width:"150"})])),_:1}),m(S,null,{default:n((()=>[m(E,null,{default:n((()=>[m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"heading",class:"mb-4"}),m(V,{type:"chip"})])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"text",class:"mb-4"}),m(V,{type:"text"})])),_:1})])),_:1})])),_:1})];e(x($,{class:"d-flex align-center pb-2"},{default:n(((t,e,a,s)=>{if(!e)return[m(V,{type:"avatar",size:"32",class:"mr-2"}),m(V,{type:"text",width:"150"})];e(x(V,{type:"avatar",size:"32",class:"mr-2"},null,a,s)),e(x(V,{type:"text",width:"150"},null,a,s))})),_:1},a,s)),e(x(S,null,{default:n(((t,e,a,s)=>{if(!e)return[m(E,null,{default:n((()=>[m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"heading",class:"mb-4"}),m(V,{type:"chip"})])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"text",class:"mb-4"}),m(V,{type:"text"})])),_:1})])),_:1})];e(x(E,null,{default:n(((t,e,a,s)=>{if(!e)return[m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"heading",class:"mb-4"}),m(V,{type:"chip"})])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m(V,{type:"text",class:"mb-4"}),m(V,{type:"text"})])),_:1})];e(x(T,{cols:"12",sm:"6"},{default:n(((t,e,a,s)=>{if(!e)return[m(V,{type:"heading",class:"mb-4"}),m(V,{type:"chip"})];e(x(V,{type:"heading",class:"mb-4"},null,a,s)),e(x(V,{type:"chip"},null,a,s))})),_:1},a,s)),e(x(T,{cols:"12",sm:"6"},{default:n(((t,e,a,s)=>{if(!e)return[m(V,{type:"text",class:"mb-4"}),m(V,{type:"text"})];e(x(V,{type:"text",class:"mb-4"},null,a,s)),e(x(V,{type:"text"},null,a,s))})),_:1},a,s))})),_:1},a,s))})),_:1},a,s))})),_:1},o)):c(X)?l(x(W,{type:"error",class:"mb-4"},{default:n(((t,e,a,s)=>{if(!e)return[p(d(c(X)),1)];e(`${h(c(X))}`)})),_:1},o)):c(L)?l(x(w,null,{default:n(((t,e,a,s)=>{if(!e)return[m($,{class:"d-flex align-center pb-2"},{default:n((()=>[m(N,{color:c(H)(c(L).status),size:"32",class:"mr-2"},{default:n((()=>[p(d(c(J)(c(L).status)),1)])),_:1},8,["color"]),p(" "+d(c(K)(c(L).payment_type)),1)])),_:1}),m(S,null,{default:n((()=>[m(E,null,{default:n((()=>[m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount"),m("div",{class:"text-h5 mb-4"},d(c(I)(c(L).amount,c(L).currency.symbol,c(L).currency.code)),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status"),m(B,{color:c(H)(c(L).status),"text-color":"white"},{default:n((()=>[p(d(c(Z)(c(L).status)),1)])),_:1},8,["color"])])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"}," Reference "),m("div",{class:"text-body-1 mb-4"},d(c(L).reference),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date"),m("div",{class:"text-body-1"},[p(d(c(F)(c(L).created_at))+" ",1),m("span",{class:"text-caption text-medium-emphasis ml-2"}," ("+d(c(A)(c(L).created_at))+") ",1)])])),_:1})])),_:1}),m(P,{class:"my-4"}),m("div",{class:"text-subtitle-1 font-weight-bold mb-3"},d(c(O)(c(L).payment_type)),1),"tip"===c(L).payment_type?(u(),y(_,{key:0},[c(L).recipient?(u(),y(C,{key:0,user:c(L).recipient,size:"medium",layout:"compact"},null,8,["user"])):c(L).recipients&&c(L).recipients.length?(u(!0),y(_,{key:1},v(c(L).recipients,((t,e)=>(u(),y("div",{key:e,class:"mb-3"},[m(C,{user:t,size:"medium",layout:"compact"},null,8,["user"])])))),128)):f("",!0)],64)):c(Q).includes(c(L).payment_type)?(u(),y(_,{key:1},[c(L).projects&&c(L).projects.length>0?(u(!0),y(_,{key:0},v(c(L).projects,((t,e)=>(u(),y("div",{key:t.id,class:"mb-4"},[m(z,{project:t,size:"md"},{actions:n((()=>["project_watching"===c(L).payment_type?(u(),y(D,{key:0,"access-uuid":t.access_uuid,size:"md"},{default:n((()=>[p(" Start Watching ")])),_:2},1032,["access-uuid"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:e=>navigateToEditDraft(t.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:2},1032,["onClick"])):f("",!0)])),_:2},1032,["project"]),e<c(L).projects.length-1?(u(),y(P,{key:0,class:"my-3"})):f("",!0)])))),128)):c(L).project?(u(),y(z,{key:1,project:c(L).project,size:"md"},{actions:n((()=>["project_watching"===c(L).payment_type?(u(),y(R,{key:0,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-play-circle-outline",onClick:t=>navigateToWatch(c(L).project.access_uuid)},{default:n((()=>[p(" Watch Now ")])),_:1},8,["onClick"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:t=>navigateToEditDraft(c(L).project.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:1},8,["onClick"])):f("",!0)])),_:1},8,["project"])):(u(),y("div",{key:2,class:"text-body-1 text-medium-emphasis"}," No projects found for this payment. "))],64)):f("",!0)])),_:1})];e(x($,{class:"d-flex align-center pb-2"},{default:n(((t,e,a,s)=>{if(!e)return[m(N,{color:c(H)(c(L).status),size:"32",class:"mr-2"},{default:n((()=>[p(d(c(J)(c(L).status)),1)])),_:1},8,["color"]),p(" "+d(c(K)(c(L).payment_type)),1)];e(x(N,{color:c(H)(c(L).status),size:"32",class:"mr-2"},{default:n(((t,e,a,s)=>{if(!e)return[p(d(c(J)(c(L).status)),1)];e(`${h(c(J)(c(L).status))}`)})),_:1},a,s)),e(` ${h(c(K)(c(L).payment_type))}`)})),_:1},a,s)),e(x(S,null,{default:n(((t,e,a,s)=>{if(!e)return[m(E,null,{default:n((()=>[m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount"),m("div",{class:"text-h5 mb-4"},d(c(I)(c(L).amount,c(L).currency.symbol,c(L).currency.code)),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status"),m(B,{color:c(H)(c(L).status),"text-color":"white"},{default:n((()=>[p(d(c(Z)(c(L).status)),1)])),_:1},8,["color"])])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"}," Reference "),m("div",{class:"text-body-1 mb-4"},d(c(L).reference),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date"),m("div",{class:"text-body-1"},[p(d(c(F)(c(L).created_at))+" ",1),m("span",{class:"text-caption text-medium-emphasis ml-2"}," ("+d(c(A)(c(L).created_at))+") ",1)])])),_:1})])),_:1}),m(P,{class:"my-4"}),m("div",{class:"text-subtitle-1 font-weight-bold mb-3"},d(c(O)(c(L).payment_type)),1),"tip"===c(L).payment_type?(u(),y(_,{key:0},[c(L).recipient?(u(),y(C,{key:0,user:c(L).recipient,size:"medium",layout:"compact"},null,8,["user"])):c(L).recipients&&c(L).recipients.length?(u(!0),y(_,{key:1},v(c(L).recipients,((t,e)=>(u(),y("div",{key:e,class:"mb-3"},[m(C,{user:t,size:"medium",layout:"compact"},null,8,["user"])])))),128)):f("",!0)],64)):c(Q).includes(c(L).payment_type)?(u(),y(_,{key:1},[c(L).projects&&c(L).projects.length>0?(u(!0),y(_,{key:0},v(c(L).projects,((t,e)=>(u(),y("div",{key:t.id,class:"mb-4"},[m(z,{project:t,size:"md"},{actions:n((()=>["project_watching"===c(L).payment_type?(u(),y(D,{key:0,"access-uuid":t.access_uuid,size:"md"},{default:n((()=>[p(" Start Watching ")])),_:2},1032,["access-uuid"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:e=>navigateToEditDraft(t.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:2},1032,["onClick"])):f("",!0)])),_:2},1032,["project"]),e<c(L).projects.length-1?(u(),y(P,{key:0,class:"my-3"})):f("",!0)])))),128)):c(L).project?(u(),y(z,{key:1,project:c(L).project,size:"md"},{actions:n((()=>["project_watching"===c(L).payment_type?(u(),y(R,{key:0,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-play-circle-outline",onClick:t=>navigateToWatch(c(L).project.access_uuid)},{default:n((()=>[p(" Watch Now ")])),_:1},8,["onClick"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:t=>navigateToEditDraft(c(L).project.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:1},8,["onClick"])):f("",!0)])),_:1},8,["project"])):(u(),y("div",{key:2,class:"text-body-1 text-medium-emphasis"}," No projects found for this payment. "))],64)):f("",!0)];e(x(E,null,{default:n(((t,e,a,s)=>{if(!e)return[m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount"),m("div",{class:"text-h5 mb-4"},d(c(I)(c(L).amount,c(L).currency.symbol,c(L).currency.code)),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status"),m(B,{color:c(H)(c(L).status),"text-color":"white"},{default:n((()=>[p(d(c(Z)(c(L).status)),1)])),_:1},8,["color"])])),_:1}),m(T,{cols:"12",sm:"6"},{default:n((()=>[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"}," Reference "),m("div",{class:"text-body-1 mb-4"},d(c(L).reference),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date"),m("div",{class:"text-body-1"},[p(d(c(F)(c(L).created_at))+" ",1),m("span",{class:"text-caption text-medium-emphasis ml-2"}," ("+d(c(A)(c(L).created_at))+") ",1)])])),_:1})];e(x(T,{cols:"12",sm:"6"},{default:n(((t,e,a,s)=>{if(!e)return[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount"),m("div",{class:"text-h5 mb-4"},d(c(I)(c(L).amount,c(L).currency.symbol,c(L).currency.code)),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status"),m(B,{color:c(H)(c(L).status),"text-color":"white"},{default:n((()=>[p(d(c(Z)(c(L).status)),1)])),_:1},8,["color"])];e(`<div class="text-subtitle-1 font-weight-bold mb-2" data-v-8e72255a${s}>Amount</div><div class="text-h5 mb-4" data-v-8e72255a${s}>${h(c(I)(c(L).amount,c(L).currency.symbol,c(L).currency.code))}</div><div class="text-subtitle-1 font-weight-bold mb-2" data-v-8e72255a${s}>Status</div>`),e(x(B,{color:c(H)(c(L).status),"text-color":"white"},{default:n(((t,e,a,s)=>{if(!e)return[p(d(c(Z)(c(L).status)),1)];e(`${h(c(Z)(c(L).status))}`)})),_:1},a,s))})),_:1},a,s)),e(x(T,{cols:"12",sm:"6"},{default:n(((t,e,a,s)=>{if(!e)return[m("div",{class:"text-subtitle-1 font-weight-bold mb-2"}," Reference "),m("div",{class:"text-body-1 mb-4"},d(c(L).reference),1),m("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date"),m("div",{class:"text-body-1"},[p(d(c(F)(c(L).created_at))+" ",1),m("span",{class:"text-caption text-medium-emphasis ml-2"}," ("+d(c(A)(c(L).created_at))+") ",1)])];e(`<div class="text-subtitle-1 font-weight-bold mb-2" data-v-8e72255a${s}> Reference </div><div class="text-body-1 mb-4" data-v-8e72255a${s}>${h(c(L).reference)}</div><div class="text-subtitle-1 font-weight-bold mb-2" data-v-8e72255a${s}>Date</div><div class="text-body-1" data-v-8e72255a${s}>${h(c(F)(c(L).created_at))} <span class="text-caption text-medium-emphasis ml-2" data-v-8e72255a${s}> (${h(c(A)(c(L).created_at))}) </span></div>`)})),_:1},a,s))})),_:1},a,s)),e(x(P,{class:"my-4"},null,a,s)),e(`<div class="text-subtitle-1 font-weight-bold mb-3" data-v-8e72255a${s}>${h(c(O)(c(L).payment_type))}</div>`),"tip"===c(L).payment_type?(e("\x3c!--[--\x3e"),c(L).recipient?e(x(C,{user:c(L).recipient,size:"medium",layout:"compact"},null,a,s)):c(L).recipients&&c(L).recipients.length?(e("\x3c!--[--\x3e"),g(c(L).recipients,((t,i)=>{e(`<div class="mb-3" data-v-8e72255a${s}>`),e(x(C,{user:t,size:"medium",layout:"compact"},null,a,s)),e("</div>")})),e("\x3c!--]--\x3e")):e("\x3c!----\x3e"),e("\x3c!--]--\x3e")):c(Q).includes(c(L).payment_type)?(e("\x3c!--[--\x3e"),c(L).projects&&c(L).projects.length>0?(e("\x3c!--[--\x3e"),g(c(L).projects,((t,i)=>{e(`<div class="mb-4" data-v-8e72255a${s}>`),e(x(z,{project:t,size:"md"},{actions:n(((e,a,s,i)=>{if(!a)return["project_watching"===c(L).payment_type?(u(),y(D,{key:0,"access-uuid":t.access_uuid,size:"md"},{default:n((()=>[p(" Start Watching ")])),_:2},1032,["access-uuid"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:e=>navigateToEditDraft(t.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:2},1032,["onClick"])):f("",!0)];"project_watching"===c(L).payment_type?a(x(D,{"access-uuid":t.access_uuid,size:"md"},{default:n(((t,e,a,s)=>{if(!e)return[p(" Start Watching ")];e(" Start Watching ")})),_:2},s,i)):"project_premiering"===c(L).payment_type?a(x(R,{color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:e=>navigateToEditDraft(t.access_uuid)},{default:n(((t,e,a,s)=>{if(!e)return[p(" Edit Draft ")];e(" Edit Draft ")})),_:2},s,i)):a("\x3c!----\x3e")})),_:2},a,s)),i<c(L).projects.length-1?e(x(P,{class:"my-3"},null,a,s)):e("\x3c!----\x3e"),e("</div>")})),e("\x3c!--]--\x3e")):c(L).project?e(x(z,{project:c(L).project,size:"md"},{actions:n(((t,e,a,s)=>{if(!e)return["project_watching"===c(L).payment_type?(u(),y(R,{key:0,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-play-circle-outline",onClick:t=>navigateToWatch(c(L).project.access_uuid)},{default:n((()=>[p(" Watch Now ")])),_:1},8,["onClick"])):"project_premiering"===c(L).payment_type?(u(),y(R,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:t=>navigateToEditDraft(c(L).project.access_uuid)},{default:n((()=>[p(" Edit Draft ")])),_:1},8,["onClick"])):f("",!0)];"project_watching"===c(L).payment_type?e(x(R,{color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-play-circle-outline",onClick:t=>navigateToWatch(c(L).project.access_uuid)},{default:n(((t,e,a,s)=>{if(!e)return[p(" Watch Now ")];e(" Watch Now ")})),_:1},a,s)):"project_premiering"===c(L).payment_type?e(x(R,{color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:t=>navigateToEditDraft(c(L).project.access_uuid)},{default:n(((t,e,a,s)=>{if(!e)return[p(" Edit Draft ")];e(" Edit Draft ")})),_:1},a,s)):e("\x3c!----\x3e")})),_:1},a,s)):e(`<div class="text-body-1 text-medium-emphasis" data-v-8e72255a${s}> No projects found for this payment. </div>`),e("\x3c!--]--\x3e")):e("\x3c!----\x3e")})),_:1},a,s))})),_:1},o)):l("\x3c!----\x3e"),l("</div></div>")}}}),I=F.setup;F.setup=(t,e)=>{const a=r();return(a.modules||(a.modules=new Set)).add("pages/tips/tip-[reference].vue"),I?I(t,e):void 0};const L=A(F,[["__scopeId","data-v-8e72255a"]]);export{L as default};

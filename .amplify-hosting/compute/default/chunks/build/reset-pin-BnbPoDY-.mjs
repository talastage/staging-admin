import{_ as e}from"./CountdownDateTimer-Ca5jMvj-.mjs";import{useSSRContext as l,defineComponent as a,computed as t,ref as s,mergeProps as d,withCtx as i,createVNode as o,createTextVNode as r,unref as n,withModifiers as u,openBlock as c,createBlock as m,toDisplayString as p,createCommentVNode as v}from"vue";import{ssrRenderComponent as b,ssrInterpolate as f}from"vue/server-renderer";import{_ as y,au as g,a as x,V as _,b as V}from"./server.mjs";import{u as h}from"./useWalletAuthStore-Uk84eIzt.mjs";import{m as k}from"./masking-DaBDaxx_.mjs";import{a as N}from"./index--K8ZrFMm.mjs";import{V as P}from"./VContainer-By3q0af_.mjs";import{V as C,d as w,b as I,e as L,a as R}from"./VCard-CsohsM82.mjs";import{V as U,a as j}from"./VWindowItem-DjFGFGcX.mjs";import{V as E}from"./VForm-HRC00ryg.mjs";import{V as F}from"./VTextField-rd-VvEF8.mjs";import{V as S}from"./VOtpInput-CwUg_E9q.mjs";import{a as z}from"./VChip-f_o2BAA4.mjs";import{V as $}from"./VAlert-DneVUU3Q.mjs";import{u as W}from"./useApps-hYo13Xt3.mjs";import{u as q}from"./useSeo-Dl9beXFt.mjs";import"./useTimeFormatting-BygSFjON.mjs";import"node:http";import"node:https";import"node:zlib";import"node:stream";import"node:buffer";import"node:util";import"node:url";import"node:net";import"node:fs";import"node:path";import"../_/nitro.mjs";import"consola/core";import"nuxt-site-config/urls";import"ipx";import"unhead";import"vue-router";import"pinia-plugin-persistedstate";import"./interval-gl53xdpR.mjs";import"./VAvatar-JL8WKjry.mjs";import"./VImg-B2jcJjnn.mjs";import"./VOverlay-ZKavbTei.mjs";import"./easing-Bn3h-KUg.mjs";import"./ssrBoot-BtvJZs44.mjs";import"./VInput-DRJS2l97.mjs";import"./forwardRefs-BSTjJZPU.mjs";import"./VCounter-BZE6l8kb.mjs";import"./VField-ZM6yOiXp.mjs";const B={__name:"WalletResetPinPage",__ssrInlineRender:!0,setup(l){var a,y;const W=g(),q=h(),B=x(),T=s(null),A=s(null),D=s(null),Z=s(1),J=s(""),K=s(""),M=s(""),O=s(""),X=s(0),G=s(!1),Y=s(""),H=s("info"),Q=t((()=>6===K.value.length)),ee=t((()=>6===M.value.length&&6===O.value.length)),le=t((()=>M.value&&O.value&&M.value!==O.value)),ae=t((()=>k(J.value||""))),showStatus=(e,l="info")=>{Y.value=e,H.value=l,"success"===l&&setTimeout((()=>{Y.value===e&&(Y.value="")}),5e3)},requestReset=async()=>{q.authError="",Y.value="";const e=J.value.trim().toLowerCase();if(!e)return void showStatus("Email address is required","error");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))try{await q.requestPinReset(e),J.value=e,Z.value=2,X.value++,G.value=!0,K.value="",showStatus("Reset code sent to your email","success")}catch(e){showStatus(e.message||"Failed to send reset code","error")}else showStatus("Please enter a valid email address","error")},verifyResetCode=async()=>{if(Q.value)try{await q.verifyResetCode(J.value,K.value),Z.value=3,showStatus("Code verified successfully. Please set a new PIN.","success")}catch(e){K.value="",showStatus(e.message||"Invalid reset code","error")}},resetPin2=async()=>{if(ee.value)if(le.value)showStatus("PINs do not match. Please try again.","error");else try{await q.resetPin(J.value,K.value,M.value),showStatus("Your PIN has been reset successfully","success"),setTimeout((()=>{W.push("/wallet")}),2e3)}catch(e){showStatus(e.message||"Failed to reset PIN","error")}},handleCountdownFinished=()=>{G.value=!1,showStatus("Reset code has expired. Please request a new one.","warning")};return(null==(y=null==(a=B.user)?void 0:a.value)?void 0:y.email)&&(J.value=B.user.value.email),(l,a,t,s)=>{const y=e;a(b(P,d({class:"d-flex align-center justify-center",style:{"min-height":"80vh"}},s),{default:i(((e,l,a,t)=>{if(!l)return[o(C,{class:"mx-auto wallet-reset-card",elevation:"10","max-width":"500"},{default:i((()=>[o(w,null,{default:i((()=>[o(I,{class:"text-h4 font-weight-bold text-center mb-2"},{default:i((()=>[o(_,{icon:"mdi-lock-reset",size:"36",color:"primary",class:"mb-2"}),o("div",null,"Reset Wallet PIN")])),_:1}),o(L,{class:"text-center mb-6"},{default:i((()=>[r(" Follow the steps to reset your wallet security PIN ")])),_:1})])),_:1}),o(R,null,{default:i((()=>[o(U,{modelValue:Z.value,"onUpdate:modelValue":e=>Z.value=e,touch:!1},{default:i((()=>[o(j,{value:1},{default:i((()=>[o(E,{onSubmit:u(requestReset,["prevent"]),ref_key:"resetForm",ref:T},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),o(j,{value:2},{default:i((()=>[o(E,{onSubmit:u(verifyResetCode,["prevent"]),ref_key:"codeForm",ref:A},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])])),_:1},512)])),_:1}),o(j,{value:3},{default:i((()=>[o(E,{onSubmit:u(resetPin2,["prevent"]),ref_key:"newPinForm",ref:D},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),o(N,null,{default:i((()=>[n(q).authError?(c(),m($,{key:0,type:"error",variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>n(q).authError=""},{default:i((()=>[r(p(n(q).authError),1)])),_:1},8,["onClick:close"])):v("",!0)])),_:1}),o(N,null,{default:i((()=>[Y.value?(c(),m($,{key:0,type:H.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>Y.value=""},{default:i((()=>[r(p(Y.value),1)])),_:1},8,["type","onClick:close"])):v("",!0)])),_:1})])),_:1})])),_:1})];l(b(C,{class:"mx-auto wallet-reset-card",elevation:"10","max-width":"500"},{default:i(((e,l,a,t)=>{if(!l)return[o(w,null,{default:i((()=>[o(I,{class:"text-h4 font-weight-bold text-center mb-2"},{default:i((()=>[o(_,{icon:"mdi-lock-reset",size:"36",color:"primary",class:"mb-2"}),o("div",null,"Reset Wallet PIN")])),_:1}),o(L,{class:"text-center mb-6"},{default:i((()=>[r(" Follow the steps to reset your wallet security PIN ")])),_:1})])),_:1}),o(R,null,{default:i((()=>[o(U,{modelValue:Z.value,"onUpdate:modelValue":e=>Z.value=e,touch:!1},{default:i((()=>[o(j,{value:1},{default:i((()=>[o(E,{onSubmit:u(requestReset,["prevent"]),ref_key:"resetForm",ref:T},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),o(j,{value:2},{default:i((()=>[o(E,{onSubmit:u(verifyResetCode,["prevent"]),ref_key:"codeForm",ref:A},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])])),_:1},512)])),_:1}),o(j,{value:3},{default:i((()=>[o(E,{onSubmit:u(resetPin2,["prevent"]),ref_key:"newPinForm",ref:D},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),o(N,null,{default:i((()=>[n(q).authError?(c(),m($,{key:0,type:"error",variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>n(q).authError=""},{default:i((()=>[r(p(n(q).authError),1)])),_:1},8,["onClick:close"])):v("",!0)])),_:1}),o(N,null,{default:i((()=>[Y.value?(c(),m($,{key:0,type:H.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>Y.value=""},{default:i((()=>[r(p(Y.value),1)])),_:1},8,["type","onClick:close"])):v("",!0)])),_:1})])),_:1})];l(b(w,null,{default:i(((e,l,a,t)=>{if(!l)return[o(I,{class:"text-h4 font-weight-bold text-center mb-2"},{default:i((()=>[o(_,{icon:"mdi-lock-reset",size:"36",color:"primary",class:"mb-2"}),o("div",null,"Reset Wallet PIN")])),_:1}),o(L,{class:"text-center mb-6"},{default:i((()=>[r(" Follow the steps to reset your wallet security PIN ")])),_:1})];l(b(I,{class:"text-h4 font-weight-bold text-center mb-2"},{default:i(((e,l,a,t)=>{if(!l)return[o(_,{icon:"mdi-lock-reset",size:"36",color:"primary",class:"mb-2"}),o("div",null,"Reset Wallet PIN")];l(b(_,{icon:"mdi-lock-reset",size:"36",color:"primary",class:"mb-2"},null,a,t)),l(`<div data-v-5fcd8cf4${t}>Reset Wallet PIN</div>`)})),_:1},a,t)),l(b(L,{class:"text-center mb-6"},{default:i(((e,l,a,t)=>{if(!l)return[r(" Follow the steps to reset your wallet security PIN ")];l(" Follow the steps to reset your wallet security PIN ")})),_:1},a,t))})),_:1},a,t)),l(b(R,null,{default:i(((e,l,a,t)=>{if(!l)return[o(U,{modelValue:Z.value,"onUpdate:modelValue":e=>Z.value=e,touch:!1},{default:i((()=>[o(j,{value:1},{default:i((()=>[o(E,{onSubmit:u(requestReset,["prevent"]),ref_key:"resetForm",ref:T},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),o(j,{value:2},{default:i((()=>[o(E,{onSubmit:u(verifyResetCode,["prevent"]),ref_key:"codeForm",ref:A},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])])),_:1},512)])),_:1}),o(j,{value:3},{default:i((()=>[o(E,{onSubmit:u(resetPin2,["prevent"]),ref_key:"newPinForm",ref:D},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"]),o(N,null,{default:i((()=>[n(q).authError?(c(),m($,{key:0,type:"error",variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>n(q).authError=""},{default:i((()=>[r(p(n(q).authError),1)])),_:1},8,["onClick:close"])):v("",!0)])),_:1}),o(N,null,{default:i((()=>[Y.value?(c(),m($,{key:0,type:H.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>Y.value=""},{default:i((()=>[r(p(Y.value),1)])),_:1},8,["type","onClick:close"])):v("",!0)])),_:1})];l(b(U,{modelValue:Z.value,"onUpdate:modelValue":e=>Z.value=e,touch:!1},{default:i(((e,l,a,t)=>{if(!l)return[o(j,{value:1},{default:i((()=>[o(E,{onSubmit:u(requestReset,["prevent"]),ref_key:"resetForm",ref:T},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1}),o(j,{value:2},{default:i((()=>[o(E,{onSubmit:u(verifyResetCode,["prevent"]),ref_key:"codeForm",ref:A},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])])),_:1},512)])),_:1}),o(j,{value:3},{default:i((()=>[o(E,{onSubmit:u(resetPin2,["prevent"]),ref_key:"newPinForm",ref:D},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])])),_:1},512)])),_:1})];l(b(j,{value:1},{default:i(((e,l,a,t)=>{if(!l)return[o(E,{onSubmit:u(requestReset,["prevent"]),ref_key:"resetForm",ref:T},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])])),_:1},512)];l(b(E,{onSubmit:requestReset,ref_key:"resetForm",ref:T},{default:i(((e,l,a,t)=>{if(!l)return[o("p",{class:"text-h6 text-center mb-4"},"Request Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," Enter your email address to receive a PIN reset code "),o(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")])),_:1},8,["loading","disabled"])])];l(`<p class="text-h6 text-center mb-4" data-v-5fcd8cf4${t}>Request Reset Code</p><p class="text-body-1 text-center mb-6" data-v-5fcd8cf4${t}> Enter your email address to receive a PIN reset code </p>`),l(b(F,{modelValue:J.value,"onUpdate:modelValue":e=>J.value=e,label:"Email Address",type:"email",required:"",variant:"outlined","prepend-inner-icon":"mdi-email",placeholder:"Enter your email",class:"mb-4",disabled:n(q).isLoading},null,a,t)),l(`<div class="d-flex justify-center" data-v-5fcd8cf4${t}>`),l(b(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!J.value||n(q).isLoading,size:"large",class:"px-8"},{default:i(((e,l,a,t)=>{if(!l)return[o(_,{start:""},{default:i((()=>[r("mdi-email-outline")])),_:1}),r(" Send Reset Code ")];l(b(_,{start:""},{default:i(((e,l,a,t)=>{if(!l)return[r("mdi-email-outline")];l("mdi-email-outline")})),_:1},a,t)),l(" Send Reset Code ")})),_:1},a,t)),l("</div>")})),_:1},a,t))})),_:1},a,t)),l(b(j,{value:2},{default:i(((e,l,a,t)=>{if(!l)return[o(E,{onSubmit:u(verifyResetCode,["prevent"]),ref_key:"codeForm",ref:A},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])])),_:1},512)];l(b(E,{onSubmit:verifyResetCode,ref_key:"codeForm",ref:A},{default:i(((e,l,a,t)=>{if(!l)return[o("p",{class:"text-h6 text-center mb-4"},"Enter Reset Code"),o("p",{class:"text-body-1 text-center mb-6"}," We've sent a 6-digit code to your email ("+p(ae.value)+") ",1),o(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("div",{class:"text-center mb-4"},[o(z,{color:"info",variant:"outlined"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))])),_:1})]),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")])),_:1},8,["loading","disabled"])]),o("div",{class:"text-center mt-6"},[o(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i((()=>[r(" Back ")])),_:1},8,["onClick","disabled"]),o(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i((()=>[r(" Resend Code ")])),_:1},8,["disabled"])])];l(`<p class="text-h6 text-center mb-4" data-v-5fcd8cf4${t}>Enter Reset Code</p><p class="text-body-1 text-center mb-6" data-v-5fcd8cf4${t}> We&#39;ve sent a 6-digit code to your email (${f(ae.value)}) </p>`),l(b(S,{modelValue:K.value,"onUpdate:modelValue":e=>K.value=e,length:6,type:"number",onFinish:verifyResetCode,class:"mb-4","aria-label":"Reset code input",disabled:n(q).isLoading,autofocus:""},null,a,t)),l(`<div class="text-center mb-4" data-v-5fcd8cf4${t}>`),l(b(z,{color:"info",variant:"outlined"},{default:i(((e,l,a,t)=>{if(!l)return[o(_,{start:""},{default:i((()=>[r("mdi-clock-outline")])),_:1}),r(" Code expires in "),(c(),m(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished}))];l(b(_,{start:""},{default:i(((e,l,a,t)=>{if(!l)return[r("mdi-clock-outline")];l("mdi-clock-outline")})),_:1},a,t)),l(" Code expires in "),l(b(y,{key:X.value,seconds:180,onFinished:handleCountdownFinished},null,a,t))})),_:1},a,t)),l(`</div><div class="d-flex justify-center" data-v-5fcd8cf4${t}>`),l(b(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!Q.value||n(q).isLoading,size:"large",class:"px-8"},{default:i(((e,l,a,t)=>{if(!l)return[o(_,{start:""},{default:i((()=>[r("mdi-check-circle")])),_:1}),r(" Verify Code ")];l(b(_,{start:""},{default:i(((e,l,a,t)=>{if(!l)return[r("mdi-check-circle")];l("mdi-check-circle")})),_:1},a,t)),l(" Verify Code ")})),_:1},a,t)),l(`</div><div class="text-center mt-6" data-v-5fcd8cf4${t}>`),l(b(V,{variant:"text",onClick:e=>Z.value=1,disabled:n(q).isLoading||G.value},{default:i(((e,l,a,t)=>{if(!l)return[r(" Back ")];l(" Back ")})),_:1},a,t)),l(b(V,{variant:"text",onClick:requestReset,disabled:n(q).isLoading||G.value,class:"ms-4"},{default:i(((e,l,a,t)=>{if(!l)return[r(" Resend Code ")];l(" Resend Code ")})),_:1},a,t)),l("</div>")})),_:1},a,t))})),_:1},a,t)),l(b(j,{value:3},{default:i(((e,l,a,t)=>{if(!l)return[o(E,{onSubmit:u(resetPin2,["prevent"]),ref_key:"newPinForm",ref:D},{default:i((()=>[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])])),_:1},512)];l(b(E,{onSubmit:resetPin2,ref_key:"newPinForm",ref:D},{default:i(((e,l,a,t)=>{if(!l)return[o("p",{class:"text-h6 text-center mb-4"},"Set New PIN"),o("p",{class:"text-body-1 text-center mb-6"}," Enter a new 6-digit security PIN for your wallet "),o("p",{class:"text-subtitle-2 mb-2"},"New PIN"),o(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("p",{class:"text-subtitle-2 mb-2"},"Confirm New PIN"),o(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,8,["modelValue","onUpdate:modelValue","disabled"]),le.value?(c(),m("div",{key:0,class:"text-error text-center mb-4"}," PINs do not match. Please try again. ")):v("",!0),o("div",{class:"d-flex justify-center"},[o(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i((()=>[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")])),_:1},8,["loading","disabled"])])];l(`<p class="text-h6 text-center mb-4" data-v-5fcd8cf4${t}>Set New PIN</p><p class="text-body-1 text-center mb-6" data-v-5fcd8cf4${t}> Enter a new 6-digit security PIN for your wallet </p><p class="text-subtitle-2 mb-2" data-v-5fcd8cf4${t}>New PIN</p>`),l(b(S,{modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,length:6,type:"number",class:"mb-4","aria-label":"New PIN input",disabled:n(q).isLoading,autofocus:""},null,a,t)),l(`<p class="text-subtitle-2 mb-2" data-v-5fcd8cf4${t}>Confirm New PIN</p>`),l(b(S,{modelValue:O.value,"onUpdate:modelValue":e=>O.value=e,length:6,type:"number",class:"mb-6","aria-label":"Confirm PIN input",disabled:n(q).isLoading},null,a,t)),le.value?l(`<div class="text-error text-center mb-4" data-v-5fcd8cf4${t}> PINs do not match. Please try again. </div>`):l("\x3c!----\x3e"),l(`<div class="d-flex justify-center" data-v-5fcd8cf4${t}>`),l(b(V,{color:"primary",type:"submit",loading:n(q).isLoading,disabled:!ee.value||n(q).isLoading,size:"large",class:"px-8"},{default:i(((e,l,a,t)=>{if(!l)return[o(_,{start:""},{default:i((()=>[r("mdi-lock-reset")])),_:1}),r(" Reset PIN ")];l(b(_,{start:""},{default:i(((e,l,a,t)=>{if(!l)return[r("mdi-lock-reset")];l("mdi-lock-reset")})),_:1},a,t)),l(" Reset PIN ")})),_:1},a,t)),l("</div>")})),_:1},a,t))})),_:1},a,t))})),_:1},a,t)),l(b(N,null,{default:i(((e,l,a,t)=>{if(!l)return[n(q).authError?(c(),m($,{key:0,type:"error",variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>n(q).authError=""},{default:i((()=>[r(p(n(q).authError),1)])),_:1},8,["onClick:close"])):v("",!0)];n(q).authError?l(b($,{type:"error",variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>n(q).authError=""},{default:i(((e,l,a,t)=>{if(!l)return[r(p(n(q).authError),1)];l(`${f(n(q).authError)}`)})),_:1},a,t)):l("\x3c!----\x3e")})),_:1},a,t)),l(b(N,null,{default:i(((e,l,a,t)=>{if(!l)return[Y.value?(c(),m($,{key:0,type:H.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>Y.value=""},{default:i((()=>[r(p(Y.value),1)])),_:1},8,["type","onClick:close"])):v("",!0)];Y.value?l(b($,{type:H.value,variant:"tonal",class:"mt-4",density:"comfortable",border:"start",closable:"","onClick:close":e=>Y.value=""},{default:i(((e,l,a,t)=>{if(!l)return[r(p(Y.value),1)];l(`${f(Y.value)}`)})),_:1},a,t)):l("\x3c!----\x3e")})),_:1},a,t))})),_:1},a,t))})),_:1},a,t))})),_:1},t))}}},T=B.setup;B.setup=(e,a)=>{const t=l();return(t.modules||(t.modules=new Set)).add("views/wallet/WalletResetPinPage.vue"),T?T(e,a):void 0};const A=y(B,[["__scopeId","data-v-5fcd8cf4"]]),D=a({__name:"reset-pin",__ssrInlineRender:!0,setup(e){const l=W(),a=t((()=>l.talastageApp));return q({title:t((()=>{var e;return`Reset Wallet PIN - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`})),description:t((()=>"Reset your TalaStage wallet PIN securely. Follow the steps to create a new PIN for your wallet.")),keywords:t((()=>{var e;return`wallet, reset pin, new pin, security, change pin, ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`})),image:t((()=>{var e;return(null==(e=a.value)?void 0:e.logo_url)||"/default-social-image.png"})),type:"website",siteName:t((()=>{var e;return(null==(e=a.value)?void 0:e.name)||"TalaStage"})),url:t((()=>{var e;return`${(null==(e=a.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/reset-pin`})),canonical:t((()=>{var e;return`${(null==(e=a.value)?void 0:e.canonical_url)||"https://talastage.com"}/wallet/reset-pin`})),noIndex:!0,openGraph:t((()=>{var e,l,t,s;return{title:`Reset Wallet PIN - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`,description:"Reset your TalaStage wallet PIN securely. Follow the steps to create a new PIN for your wallet.",url:`${(null==(l=a.value)?void 0:l.canonical_url)||"https://talastage.com"}/wallet/reset-pin`,image:(null==(t=a.value)?void 0:t.logo_url)||"/default-social-image.png",siteName:(null==(s=a.value)?void 0:s.name)||"TalaStage",type:"website"}})),twitter:t((()=>{var e,l;return{card:"summary_large_image",title:`Reset Wallet PIN - ${(null==(e=a.value)?void 0:e.name)||"TalaStage"}`,description:"Reset your TalaStage wallet PIN securely. Follow the steps to create a new PIN for your wallet.",image:(null==(l=a.value)?void 0:l.logo_url)||"/default-social-image.png"}})),link:t((()=>{var e;return[{rel:"icon",href:(null==(e=a.value)?void 0:e.favicon_url)||"/favicon.ico"}]}))}),(e,l,a,t)=>{l(b(A,t,null,a))}}}),Z=D.setup;D.setup=(e,a)=>{const t=l();return(t.modules||(t.modules=new Set)).add("pages/wallet/reset-pin.vue"),Z?Z(e,a):void 0};const J=y(D,[["__scopeId","data-v-2c564123"]]);export{J as default};

import{a as A}from"./CgwEN769.js";import{_ as E}from"./Cw5ECwNl.js";import{u as N,_ as V}from"./CIrzxJ5u.js";import{n as y,u as M,a5 as B,c as a,j as l,t as G,l as C,B as L,o as d,m as b,a as v,w,p as _,x as j,s as I,v as H,y as R,g as z,_ as x}from"./CGQimWOm.js";import{u as F}from"./istWFD0Z.js";import{u as O}from"./De3D2xlH.js";import{V as U}from"./BhN2__aY.js";import{V as W}from"./P_q-BwEt.js";import{u as q}from"./BW5EWlXk.js";import{u as J}from"./D78L5r-E.js";import"./BWXQ7vJw.js";import"./BeQTM7t9.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./BkTuXOR_.js";import"./tTgLLTve.js";import"./3SmzOII5.js";import"./DcSlHAeh.js";import"./BCoct7aH.js";import"./DsvAftJq.js";import"./2hEmiBig.js";import"./BvtSni_j.js";import"./jRUxZAus.js";import"./CS8xUUzH.js";/* empty css        */import"./CRY4crBU.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./Bem91KZK.js";import"./COhe-ksk.js";import"./BcH3Kywr.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";import"./DMBY-Kaj.js";import"./Bp2sYpJN.js";import"./B3G4pkyN.js";import"./Cxb8uY_z.js";import"./DhC4yEL8.js";import"./DxtVZjZE.js";import"./CkOuN04m.js";import"./f5lwX8SZ.js";import"./BRveoiXI.js";import"./Dn0bXcU5.js";const K={class:"project-credits-page"},Q=y({__name:"ProjectCastAndCrewPage",setup(S){const p=M(),t=F(),e=N(),{isLoading:o,error:s}=B(t),c=a(()=>p.params.access_uuid);l(!1),a(()=>window.location.href);const n=l(!1),m=l(!1),h=l(!0),$=l(1),T=l("grid"),u=a(()=>{const r=t.currentProject;return r?{...r,created_at:new Date(r.created_at).toLocaleString()}:null});a(()=>e.categoryGroups),a(()=>e.totalMembers);const P=r=>{console.log("Tip completed for user:",r.user.display_name)},f=async r=>{if(m.value)return[];try{m.value=!0;const{data:i}=await z().$axios.get(`/guest/projects/${c.value}/credits`,{params:{page:r,per_page:10}});return h.value=i.meta.current_page<i.meta.last_page,$.value=i.meta.current_page,r===1?e.categoryGroups=i.data:e.mergeNewGroups(i.data),i.data.flatMap(g=>g.credits)}catch(i){return console.error("Error fetching credits:",i),[]}finally{m.value=!1}};return O(f,{threshold:200,throttle:300,initialLoadDelay:0}),G(c,async r=>{r&&!u.value&&await t.fetchProject(r)}),C(async()=>{if(c.value){n.value=!0;try{u.value||await t.fetchProject(c.value),await f(1)}finally{n.value=!1}}}),L(()=>{e.resetState()}),(r,i)=>{const g=A,D=E,k=V;return d(),b("div",K,[u.value?(d(),v(U,{key:0,class:"px-0"},{default:w(()=>[_(g,{project:u.value},null,8,["project"]),_(D,{title:"Cast and Crew",subtitle:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production."}),_(k,{"is-loading":n.value,"is-loading-more":m.value,"has-more":h.value,"show-tip-button":!0,"view-mode":T.value,onTipComplete:P},null,8,["is-loading","is-loading-more","has-more","view-mode"])]),_:1})):j(s)?(d(),v(W,{key:1,type:"error",class:"ma-4"},{default:w(()=>[I(H(j(s)),1)]),_:1})):R("",!0)])}}}),X=x(Q,[["__scopeId","data-v-716fa9b7"]]),Y=y({__name:"cast-crew",setup(S){const p=q();C(async()=>{await p.fetchTalaStageApp()});const t=a(()=>p.talastageApp);return J({title:a(()=>{var e;return`Cast & Crew - ${((e=t.value)==null?void 0:e.name)||"TalaStage"}`}),description:a(()=>"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production."),keywords:a(()=>{var e;return`cast, crew, actors, directors, production team, behind the scenes, filmmakers, talent, ${((e=t.value)==null?void 0:e.name)||"TalaStage"}`}),image:a(()=>{var e;return((e=t.value)==null?void 0:e.logo_url)||"/default-social-image.png"}),type:"website",siteName:a(()=>{var e;return((e=t.value)==null?void 0:e.name)||"TalaStage"}),url:a(()=>{var e;return`${((e=t.value)==null?void 0:e.canonical_url)||"https://talastage.com"}/project/cast-crew`}),canonical:a(()=>{var e;return`${((e=t.value)==null?void 0:e.canonical_url)||"https://talastage.com"}/project/cast-crew`}),noIndex:!1,openGraph:a(()=>{var e,o,s,c;return{title:`Cast & Crew - ${((e=t.value)==null?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",url:`${((o=t.value)==null?void 0:o.canonical_url)||"https://talastage.com"}/project/cast-crew`,image:((s=t.value)==null?void 0:s.logo_url)||"/default-social-image.png",type:"website",siteName:((c=t.value)==null?void 0:c.name)||"TalaStage"}}),twitter:a(()=>{var e,o;return{card:"summary_large_image",title:`Cast & Crew - ${((e=t.value)==null?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",image:((o=t.value)==null?void 0:o.logo_url)||"/default-social-image.png"}}),link:a(()=>{var e,o;return[{rel:"icon",type:"image/png",href:((e=t.value)==null?void 0:e.favicon_url)||"/favicon.png"},{rel:"canonical",href:`${((o=t.value)==null?void 0:o.canonical_url)||"https://talastage.com"}/project/cast-crew`}]}),structuredDataFactory:()=>{var e,o,s,c,n;return{"@context":"https://schema.org","@type":"CreativeWork",name:`Cast & Crew - ${((e=t.value)==null?void 0:e.name)||"TalaStage"}`,description:"Discover the talented cast and crew behind this project. Explore actors, directors, producers, and all team members who contributed to this production.",url:`${((o=t.value)==null?void 0:o.canonical_url)||"https://talastage.com"}/project/cast-crew`,image:((s=t.value)==null?void 0:s.logo_url)||"/default-social-image.png",provider:{"@type":"Organization",name:((c=t.value)==null?void 0:c.name)||"TalaStage",url:((n=t.value)==null?void 0:n.canonical_url)||"https://talastage.com"}}}}),(e,o)=>{const s=X;return d(),b("div",null,[_(s)])}}}),We=x(Y,[["__scopeId","data-v-4c1c4f38"]]);export{We as default};

import{f as ae,g as oe,n as L,j as v,z as K,t as Q,o as _,a as x,w as a,p as t,C as G,_ as E,l as z,b as S,s as u,c as g,m as P,F as ee,D as te,v as N,y as F,V as k,k as ne,i as se,q as M,u as le,Q as Z}from"./CGQimWOm.js";import{V as q}from"./BhN2__aY.js";import{V as I}from"./CRY4crBU.js";import{V}from"./CS8xUUzH.js";import{V as $}from"./CMsVONS5.js";import{V as re}from"./DoIi4J9g.js";import{V as J}from"./CiXMVmI4.js";import{_ as ie}from"./tV-NkviW.js";import{u as ue}from"./Bp2sYpJN.js";import{V as T,a as me}from"./P_q-BwEt.js";import{S as de}from"./CB_jkhRS.js";import{a as R}from"./DsvAftJq.js";import{V as H,b as pe,c as ce}from"./BkTuXOR_.js";import{V as fe,a as ve,b as _e,c as ge,d as O}from"./BxLb44po.js";import{V as be}from"./GXZRJwQ4.js";import{u as Ve}from"./BW5EWlXk.js";import{u as ye}from"./D78L5r-E.js";/* empty css        */import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BSH7BhKc.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./xvVMJZi9.js";import"./DXjoE66g.js";import"./BvtSni_j.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./Dn0bXcU5.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";import"./D9lJKT5N.js";import"./BEy3SeWo.js";const B=ae("pageRegistration",{state:()=>({basicInfo:{name:"",description:"",page_category_slug:"investor"},investmentSettings:{max_investment_amount:null,currency_id:null},contactAndLocation:{contacts:{whatsapp_number:"",phone_number:"",email:""},location:{address:""}},isSubmitting:!1,error:null}),actions:{async submitPage(){var C,b;this.isSubmitting=!0,this.error=null;try{const{$axios:l}=oe(),p={name:this.basicInfo.name,description:this.basicInfo.description,page_category_slug:this.basicInfo.page_category_slug,investment_settings:this.investmentSettings,contacts:this.contactAndLocation.contacts,location:this.contactAndLocation.location,avatar_url:"",cover_url:"",type:this.basicInfo.page_category_slug};return(await l.post("/api/pages",p)).data}catch(l){throw this.error=((b=(C=l.response)==null?void 0:C.data)==null?void 0:b.message)||"Failed to create page",l}finally{this.isSubmitting=!1}}}}),Se=L({__name:"PageBasicInfoStep",setup(C,{expose:b}){const l=B(),p=v(!1),s=K({name:l.basicInfo.name||"",description:l.basicInfo.description||"",page_category_slug:"investor"});return Q(s,o=>{l.basicInfo={...l.basicInfo,...o}},{deep:!0}),b({isValid:p}),(o,m)=>(_(),x(J,{modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=n=>p.value=n),onSubmit:m[3]||(m[3]=G(()=>{},["prevent"]))},{default:a(()=>[t(q,null,{default:a(()=>[t(I,null,{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[t($,{modelValue:s.name,"onUpdate:modelValue":m[0]||(m[0]=n=>s.name=n),label:"Investor Page Name",rules:[n=>!!n||"Name is required"],required:"",hint:"Enter a name for your investor profile"},null,8,["modelValue","rules"])]),_:1}),t(V,{cols:"12"},{default:a(()=>[t(re,{modelValue:s.description,"onUpdate:modelValue":m[1]||(m[1]=n=>s.description=n),label:"About You as an Investor",rules:[n=>!!n||"Description is required"],required:"","auto-grow":"",rows:"4",hint:"Describe your investment interests and experience"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),xe=E(Se,[["__scopeId","data-v-cd8ff8da"]]),he=L({__name:"PageInterestsAndInvestmentStep",setup(C,{expose:b}){const l=B(),p=ue(),s=v(!1),o=K({max_investment_amount:l.investmentSettings.max_investment_amount||null});return Q(o,m=>{var n;l.investmentSettings={...l.investmentSettings,max_investment_amount:m.max_investment_amount,currency_id:((n=p.selectedCurrency)==null?void 0:n.id)||null}},{deep:!0}),z(async()=>{await p.fetchCurrencies()}),b({isValid:s}),(m,n)=>{const y=ie;return _(),x(J,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=f=>s.value=f),onSubmit:n[2]||(n[2]=G(()=>{},["prevent"]))},{default:a(()=>[t(q,null,{default:a(()=>[t(I,null,{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[n[4]||(n[4]=S("h3",{class:"text-h6 mb-4"},"Investment Preferences",-1)),t(I,null,{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[t(y,{modelValue:o.max_investment_amount,"onUpdate:modelValue":n[0]||(n[0]=f=>o.max_investment_amount=f),label:"Maximum Investment Amount",rules:[f=>!!f||"Amount is required",f=>f>0||"Amount must be greater than 0"],hint:"What's the maximum amount you're willing to invest in a single project?",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(I,{class:"mt-2"},{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[t(T,{type:"info",variant:"tonal",class:"text-body-2"},{default:a(()=>n[3]||(n[3]=[u(" Setting your maximum investment amount helps project creators understand your investment capacity and match you with suitable opportunities. ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),we=E(he,[["__scopeId","data-v-9972379c"]]),Ce={class:"mt-2"},Ie={class:"d-flex align-center mb-4"},Ae={class:"d-flex align-center mb-3"},ke={key:0,class:"mt-2"},Re={class:"d-flex align-center mb-3"},Pe={key:0,class:"mt-2"},$e={class:"d-flex align-center mb-4"},Le=L({__name:"PageContactAndLocationStep",setup(C,{expose:b}){const l=B(),p=v(!1),s=v(null),o=v(!1),m=v(""),n=v(""),y=v(""),f=v(""),i=K({contacts:{whatsapp_number:l.contactAndLocation.contacts.whatsapp_number,phone_number:l.contactAndLocation.contacts.phone_number,email:l.contactAndLocation.contacts.email},location:{address:l.contactAndLocation.location.address}}),U=[r=>!r||/^\d{1,15}$/.test(r)||"Please enter a valid phone number"],W=[r=>!!r||"Email is required",r=>/.+@.+\..+/.test(r)||"Please enter a valid email"],j=[r=>!!r||"Location is required",r=>r&&r.length>=3||"Location must be at least 3 characters"],h=v([]),d=v([]),A=g(()=>{const r=[];return i.contacts.email||r.push("Email address"),i.location.address||r.push("Location"),r}),D=async()=>{if(!s.value)return!1;const r=await s.value.validate();return i.contacts.email&&i.location.address?(o.value=!1,r.valid):(o.value=!0,!1)},Y=()=>{m.value&&n.value?i.contacts.whatsapp_number=`+${m.value}${n.value}`:i.contacts.whatsapp_number=""},w=()=>{y.value&&f.value?i.contacts.phone_number=`+${y.value}${f.value}`:i.contacts.phone_number=""};return Q(i,r=>{l.contactAndLocation={contacts:r.contacts,location:{...l.contactAndLocation.location,address:r.location.address}}},{deep:!0}),z(()=>{if(l.contactAndLocation.contacts.whatsapp_number){const e=l.contactAndLocation.contacts.whatsapp_number.match(/^\+(\d+)(\d+)$/);e&&(m.value=e[1],n.value=e[2])}if(l.contactAndLocation.contacts.phone_number){const e=l.contactAndLocation.contacts.phone_number.match(/^\+(\d+)(\d+)$/);e&&(y.value=e[1],f.value=e[2])}}),b({isValid:g(()=>i.contacts.email&&i.location.address&&p.value),validateForm:D}),(r,e)=>{const X=de;return _(),x(J,{ref_key:"formRef",ref:s,modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=c=>p.value=c),onSubmit:e[8]||(e[8]=G(()=>{},["prevent"]))},{default:a(()=>[t(q,null,{default:a(()=>[o.value?(_(),x(T,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[0]||(e[0]=c=>o.value=!1)},{default:a(()=>[t(me,null,{default:a(()=>e[9]||(e[9]=[u("Required Fields Missing")])),_:1}),e[10]||(e[10]=u(" Please fill in all required fields before proceeding: ")),S("ul",Ce,[(_(!0),P(ee,null,te(A.value,c=>(_(),P("li",{key:c},N(c),1))),128))])]),_:1})):F("",!0),t(I,null,{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[S("div",Ie,[t(k,{class:"mr-2",color:"primary"},{default:a(()=>e[11]||(e[11]=[u("mdi-phone")])),_:1}),e[13]||(e[13]=S("h3",{class:"text-h6"},"Contact Information",-1)),t(R,{class:"ml-2",size:"small",color:"error",variant:"outlined"},{default:a(()=>e[12]||(e[12]=[u("Required")])),_:1})]),t(T,{type:"info",variant:"tonal",class:"text-body-2 mb-4"},{default:a(()=>e[14]||(e[14]=[u(" Your contact information will be visible to project creators who may want to discuss investment opportunities with you. ")])),_:1}),t(H,{variant:"outlined",class:"mb-4 pa-4"},{default:a(()=>[S("div",Ae,[t(k,{class:"mr-2",color:"green"},{default:a(()=>e[15]||(e[15]=[u("mdi-whatsapp")])),_:1}),e[17]||(e[17]=S("span",{class:"text-subtitle-1 font-weight-medium"},"WhatsApp Contact",-1)),t(R,{class:"ml-2",size:"x-small",color:"success",variant:"tonal"},{default:a(()=>e[16]||(e[16]=[u("Recommended")])),_:1})]),t(I,{align:"center"},{default:a(()=>[t(V,{cols:"4",md:"3",class:"pr-2"},{default:a(()=>[t(X,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=c=>m.value=c),label:"Country Code","error-messages":h.value,hint:"e.g., +1, +250"},null,8,["modelValue","error-messages"])]),_:1}),t(V,{cols:"8",md:"9",class:"pl-2"},{default:a(()=>[t($,{modelValue:n.value,"onUpdate:modelValue":[e[2]||(e[2]=c=>n.value=c),Y],label:"WhatsApp Number",rules:U,placeholder:"789777100",hint:"Enter number without country code","prepend-inner-icon":"mdi-whatsapp"},null,8,["modelValue"])]),_:1})]),_:1}),i.contacts.whatsapp_number?(_(),P("div",ke,[t(R,{size:"small",color:"success",variant:"tonal"},{default:a(()=>[t(k,{start:""},{default:a(()=>e[18]||(e[18]=[u("mdi-check")])),_:1}),u(" Complete: "+N(i.contacts.whatsapp_number),1)]),_:1})])):F("",!0)]),_:1}),t(H,{variant:"outlined",class:"mb-4 pa-4"},{default:a(()=>[S("div",Re,[t(k,{class:"mr-2",color:"blue"},{default:a(()=>e[19]||(e[19]=[u("mdi-phone")])),_:1}),e[21]||(e[21]=S("span",{class:"text-subtitle-1 font-weight-medium"},"Phone Contact",-1)),t(R,{class:"ml-2",size:"x-small",color:"info",variant:"tonal"},{default:a(()=>e[20]||(e[20]=[u("Optional")])),_:1})]),t(I,{align:"center"},{default:a(()=>[t(V,{cols:"4",md:"3",class:"pr-2"},{default:a(()=>[t(X,{modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=c=>y.value=c),label:"Country Code","error-messages":d.value,hint:"e.g., +1, +250"},null,8,["modelValue","error-messages"])]),_:1}),t(V,{cols:"8",md:"9",class:"pl-2"},{default:a(()=>[t($,{modelValue:f.value,"onUpdate:modelValue":[e[4]||(e[4]=c=>f.value=c),w],label:"Phone Number",rules:U,placeholder:"789777100",hint:"Enter number without country code","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"])]),_:1})]),_:1}),i.contacts.phone_number?(_(),P("div",Pe,[t(R,{size:"small",color:"info",variant:"tonal"},{default:a(()=>[t(k,{start:""},{default:a(()=>e[22]||(e[22]=[u("mdi-check")])),_:1}),u(" Complete: "+N(i.contacts.phone_number),1)]),_:1})])):F("",!0)]),_:1}),t($,{modelValue:i.contacts.email,"onUpdate:modelValue":e[5]||(e[5]=c=>i.contacts.email=c),label:"Email Address",type:"email",rules:W,hint:"For formal communications and proposals","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue"])]),_:1}),t(V,{cols:"12"},{default:a(()=>[S("div",$e,[t(k,{class:"mr-2",color:"primary"},{default:a(()=>e[23]||(e[23]=[u("mdi-map-marker")])),_:1}),e[25]||(e[25]=S("h3",{class:"text-h6"},"Location Information",-1)),t(R,{class:"ml-2",size:"small",color:"error",variant:"outlined"},{default:a(()=>e[24]||(e[24]=[u("Required")])),_:1})]),t(T,{type:"info",variant:"tonal",class:"text-body-2 mb-4"},{default:a(()=>e[26]||(e[26]=[u(" Your location helps project creators understand if you prefer local investments or are open to opportunities in different regions. ")])),_:1}),t($,{modelValue:i.location.address,"onUpdate:modelValue":e[6]||(e[6]=c=>i.location.address=c),label:"Your Location",rules:j,hint:"City, State/Province, Country (e.g., Kigali, Rwanda)","prepend-inner-icon":"mdi-map-marker",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),qe=E(Le,[["__scopeId","data-v-cc7e851a"]]),Ue=L({__name:"InvestorRegisterPage",setup(C){const b=ne(),l=B(),p=se(),s=v(1),o=v(!1),m=v(null),n=v(null),y=v(null),f=[{value:1,title:"Basic Info"},{value:2,title:"Investment Preferences"},{value:3,title:"Contact Details"}];z(()=>{p.isLoggedIn||b.push("/login")});const i=async()=>{var A;const d=(A={1:m,2:n,3:y}[s.value])==null?void 0:A.value;return s.value===3&&(d!=null&&d.validateForm)?await d.validateForm():(d==null?void 0:d.isValid)??!0},U=async()=>{await i()&&s.value++},W=()=>{s.value--},j=async()=>{if(await i())try{o.value=!0;const h=await l.submitPage();b.push(`/profile/${h.data.type}/${h.data.slug}`)}catch(h){console.error("Error creating investor profile:",h)}finally{o.value=!1}};return(h,d)=>{const A=xe,D=we,Y=qe;return _(),x(q,null,{default:a(()=>[t(H,{class:"mx-auto","max-width":"1200",elevation:"10"},{default:a(()=>[t(pe,{class:"text-h5 text-center pa-4"},{default:a(()=>d[1]||(d[1]=[u(" Create Your Investor Profile ")])),_:1}),t(fe,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=w=>s.value=w)},{default:a(()=>[t(ve,null,{default:a(()=>[(_(),P(ee,null,te(f,w=>t(_e,{key:w.value,value:w.value,complete:s.value>w.value},{default:a(()=>[u(N(w.title),1)]),_:2},1032,["value","complete"])),64))]),_:1}),t(ge,null,{default:a(()=>[t(O,{value:1},{default:a(()=>[t(A,{ref_key:"basicInfoStep",ref:m},null,512)]),_:1}),t(O,{value:2},{default:a(()=>[t(D,{ref_key:"investmentStep",ref:n},null,512)]),_:1}),t(O,{value:3},{default:a(()=>[t(Y,{ref_key:"contactStep",ref:y},null,512)]),_:1})]),_:1}),t(ce,{class:"pa-6"},{default:a(()=>[t(be),s.value>1?(_(),x(M,{key:0,variant:"outlined",onClick:W},{default:a(()=>d[2]||(d[2]=[u(" Back ")])),_:1})):F("",!0),s.value<f.length?(_(),x(M,{key:1,color:"primary",class:"ml-4",onClick:U},{default:a(()=>d[3]||(d[3]=[u(" Continue ")])),_:1})):(_(),x(M,{key:2,color:"success",class:"ml-4",loading:o.value,onClick:j},{default:a(()=>d[4]||(d[4]=[u(" Create Investor Profile ")])),_:1},8,["loading"]))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),Ne=L({__name:"register",setup(C){const l=le().params.pageCategorySlug,p=Ve();z(async()=>{await p.fetchTalaStageApp()});const s=g(()=>p.talastageApp);return ye({title:g(()=>{var o;return(o=s.value)!=null&&o.name?`Investor Registration - ${s.value.name}`:"Investor Registration - TalaStage"}),description:g(()=>`Register as an investor on TalaStage and start exploring investment opportunities in the ${l} category.`),keywords:"investor, registration, invest, opportunities, TalaStage",image:g(()=>{var o;return((o=s.value)==null?void 0:o.logo_url)||"/default-investor-image.png"}),url:g(()=>`${Z().public.frontendUrl}/investors/${l}/register`),type:"website",siteName:g(()=>{var o;return((o=s.value)==null?void 0:o.name)||"TalaStage"}),twitterUsername:"@talastage",structured:{"@context":"https://schema.org","@type":"WebPage",name:g(()=>{var o;return(o=s.value)!=null&&o.name?`Investor Registration - ${s.value.name}`:"Investor Registration - TalaStage"}),description:g(()=>`Register as an investor on TalaStage and start exploring investment opportunities in the ${l} category.`),url:g(()=>`${Z().public.frontendUrl}/investors/${l}/register`),publisher:{"@type":"Organization",name:g(()=>{var o;return((o=s.value)==null?void 0:o.name)||"TalaStage"}),logo:{"@type":"ImageObject",url:g(()=>{var o;return((o=s.value)==null?void 0:o.logo_url)||"/default-investor-image.png"})}}}}),(o,m)=>{const n=Ue;return _(),x(q,{class:"investor-register-page"},{default:a(()=>[t(n)]),_:1})}}}),bt=E(Ne,[["__scopeId","data-v-eb576da3"]]);export{bt as default};

import{f as h,j as y,n as b,Q as S,l as w,o as r,a as l,w as e,p as t,b as v,A as P,s as c,v as V,V as x,m as k,D as N,y as A,q as E,F as I,_ as T}from"./CGQimWOm.js";import{u as D}from"./CatCOsi_.js";import{u as R}from"./D78L5r-E.js";import{V as f}from"./CS8xUUzH.js";import{V as p}from"./CRY4crBU.js";import{V as B}from"./P_q-BwEt.js";import{V as C,b as $,e as F,c as O}from"./BkTuXOR_.js";import{V as j}from"./GXZRJwQ4.js";import{V as z}from"./BhN2__aY.js";import"./BHJozufe.js";/* empty css        */import"./xvVMJZi9.js";import"./BSH7BhKc.js";const H=h("policies",()=>{const u=y([]),{get:g}=D(),i="policiesSessionCache",d=30*60*1e3;return{policies:u,fetchPolicies:async()=>{try{const n=sessionStorage.getItem(i);if(n){const{data:s,timestamp:o}=JSON.parse(n);if(Date.now()-o<d){u.value=s;return}}const a=await g("/api/policies");u.value=a,sessionStorage.setItem(i,JSON.stringify({data:a,timestamp:Date.now()}))}catch(n){console.error("Error fetching policies:",n)}},clearCache:()=>{sessionStorage.removeItem(i),u.value=[]}}}),J=b({__name:"index",setup(u){const g=H(),i=y([]),d=y(!0),m=y(""),_=async()=>{d.value=!0,m.value="";try{await g.fetchPolicies(),i.value=g.policies}catch(a){console.error("Error fetching policies:",a),m.value="Unable to load policies. Please try again later."}finally{d.value=!1}},n=a=>a?a.length>100?`${a.substring(0,100)}...`:a:"";return R({title:"Policies - TalaStage",description:"Review TalaStage policies, terms of service, and guidelines.",keywords:"policies, terms of service, guidelines, privacy policy, TalaStage",url:`${S().public.frontendUrl}/policies`,type:"website"}),w(_),(a,s)=>(r(),l(z,{class:"policies-index-container"},{default:e(()=>[t(p,null,{default:e(()=>[t(f,{cols:"12"},{default:e(()=>s[0]||(s[0]=[v("h1",{class:"text-h3 font-weight-bold mb-2"},"Policies",-1),v("p",{class:"text-subtitle-1 text-medium-emphasis mb-6"}," Review our policies and terms of service ",-1)])),_:1})]),_:1}),d.value?(r(),l(p,{key:0},{default:e(()=>[t(f,{cols:"12",class:"d-flex justify-center align-center py-12"},{default:e(()=>[t(P,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):m.value?(r(),l(p,{key:1},{default:e(()=>[t(f,{cols:"12"},{default:e(()=>[t(B,{type:"error",variant:"tonal"},{default:e(()=>[c(V(m.value),1)]),_:1})]),_:1})]),_:1})):i.value.length?(r(),l(p,{key:3},{default:e(()=>[(r(!0),k(I,null,N(i.value,o=>(r(),l(f,{key:o.id,cols:"12",sm:"6",lg:"4",class:"d-flex"},{default:e(()=>[t(C,{to:`/policies/${o.slug}`,class:"policy-card",elevation:"2",rounded:"lg",hover:""},{default:e(()=>[t($,{class:"text-h6 font-weight-bold"},{default:e(()=>[c(V(o.name),1)]),_:2},1024),o.description?(r(),l(F,{key:0,class:"pt-2"},{default:e(()=>[c(V(n(o.description)),1)]),_:2},1024)):A("",!0),t(O,null,{default:e(()=>[t(j),t(E,{color:"primary",variant:"text",to:`/policies/${o.slug}`,class:"text-none"},{default:e(()=>[s[5]||(s[5]=c(" Read More ")),t(x,{end:""},{default:e(()=>s[4]||(s[4]=[c("mdi-arrow-right")])),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):(r(),l(p,{key:2},{default:e(()=>[t(f,{cols:"12"},{default:e(()=>[t(C,{class:"pa-6 text-center"},{default:e(()=>[t(x,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:e(()=>s[1]||(s[1]=[c("mdi-file-document-outline")])),_:1}),s[2]||(s[2]=v("h3",{class:"text-h5 mb-2"},"No Policies Found",-1)),s[3]||(s[3]=v("p",{class:"text-body-1 text-medium-emphasis"}," There are currently no policies available. ",-1))]),_:1})]),_:1})]),_:1}))]),_:1}))}}),se=T(J,[["__scopeId","data-v-3ce75de5"]]);export{se as default};

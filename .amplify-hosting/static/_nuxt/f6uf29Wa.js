import{_ as z}from"./3SmzOII5.js";import{_ as D}from"./BeQTM7t9.js";import{n as $,o as e,a as l,w as a,b as r,p as n,V as B,m as i,y as h,v as w,G as I,x as P,bH as N,_ as L,c as C,j as S,B as E,F as v,D as j,M,s as x,a0 as G,a1 as F}from"./CGQimWOm.js";import{V as O}from"./BkTuXOR_.js";import{_ as A}from"./FspEDv8o.js";import{_ as H}from"./Corpgyop.js";import{a as R}from"./CDtnx0aA.js";import{V}from"./CRY4crBU.js";import{V as _}from"./CS8xUUzH.js";import{V as q}from"./BhN2__aY.js";const J={class:"project-card__thumbnail-container"},K={class:"project-card__play-overlay"},Q={class:"project-card__wrapper"},W={key:0,class:"project-card__avatar-container"},X={class:"project-card__info-container"},Y={class:"project-card__title-container"},Z={class:"project-card__title"},ee={class:"project-card__creator-container"},oe={class:"project-card__creator-name"},te=$({__name:"ProjectCard",props:{project:{},loading:{type:Boolean},hasElevation:{type:Boolean}},setup(g){const p=g,s=p.hasElevation??!0,k=()=>{N(`/watch/${p.project.access_uuid}`)};return(o,y)=>{const d=z,u=D;return e(),l(O,{class:I(["project-card",{"no-elevation":!P(s)}]),elevation:P(s)?10:0,loading:o.loading,onClick:k},{default:a(()=>{var m;return[r("div",J,[n(d,{thumbnailUrl:o.project.thumbnail_url,videoUrl:o.project.video_url,showViews:!1,showDuration:!0,size:"2xl",class:"project-card__thumbnail"},null,8,["thumbnailUrl","videoUrl"]),r("div",K,[n(B,{icon:"mdi-play-circle",size:"x-large",color:"white"})])]),r("div",Q,[o.project.creator?(e(),i("div",W,[n(u,{username:o.project.creator.username,profile_photo:o.project.creator.profile_photo,size:36,class:"project-card__avatar"},null,8,["username","profile_photo"])])):h("",!0),r("div",X,[r("div",Y,[r("h3",Z,w(o.project.name),1)]),r("div",ee,[r("span",oe,w((m=o.project.creator)==null?void 0:m.display_name),1)])])])]}),_:1},8,["class","elevation","loading"])}}}),ae=L(te,[["__scopeId","data-v-9e597598"]]),se={class:"project-grid"},re=$({__name:"ProjectGrid",props:{projects:{},currentPage:{},lastPage:{},isLoading:{type:Boolean},title:{},variant:{},skeletonCount:{}},emits:["load-more"],setup(g,{emit:p}){const s=g,k=p,o=C(()=>s.variant==="grid"),y=C(()=>s.currentPage<s.lastPage),d=C(()=>s.skeletonCount!==void 0&&s.skeletonCount!==null?s.skeletonCount:o.value?9:6),u=S(null),{stop:m}=R(u,([t])=>{t!=null&&t.isIntersecting&&!s.isLoading&&y.value&&k("load-more")},{threshold:.1,rootMargin:"100px"});return E(()=>{m()}),(t,f)=>{const T=ae,b=A,U=H;return e(),i("div",se,[n(q,{fluid:"",class:"pa-0"},{default:a(()=>[o.value?(e(),l(V,{key:0},{default:a(()=>[(e(!0),i(v,null,j(t.projects,c=>(e(),l(_,{key:c.id,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[n(T,{project:c,loading:!1},null,8,["project"])]),_:2},1024))),128)),t.isLoading?(e(!0),i(v,{key:0},j(d.value,c=>(e(),l(_,{key:`skeleton-${c}`,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[n(b)]),_:2},1024))),128)):h("",!0)]),_:1})):(e(),l(V,{key:1},{default:a(()=>[(e(!0),i(v,null,j(t.projects,c=>(e(),l(_,{key:c.id,cols:"12",class:"pa-2"},{default:a(()=>[n(U,{project:c},null,8,["project"])]),_:2},1024))),128)),t.isLoading?(e(!0),i(v,{key:0},j(d.value,c=>(e(),l(_,{key:`skeleton-${c}`,cols:"12",class:"pa-2"},{default:a(()=>[n(b,{compact:""})]),_:2},1024))),128)):h("",!0)]),_:1})),!t.isLoading&&t.projects.length===0?(e(),l(V,{key:2},{default:a(()=>[n(_,{cols:"12",class:"text-center"},{default:a(()=>[M(t.$slots,"empty-state",{},()=>[n(B,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:a(()=>f[0]||(f[0]=[x(" mdi-folder-open-outline ")])),_:1}),f[1]||(f[1]=r("p",{class:"text-body-1"},"No projects found.",-1))],!0)]),_:3})]),_:3})):h("",!0),G(r("div",{ref_key:"intersectionTarget",ref:u,class:"intersection-target"},null,512),[[F,y.value]])]),_:3})])}}}),ve=L(re,[["__scopeId","data-v-623b1ca6"]]);export{ve as _};

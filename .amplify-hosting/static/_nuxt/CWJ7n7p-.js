import{x as z,z as Q,p as $,y as M,n as U,a as D,b as H,B as W,S as X,u as Y,C as k}from"./BXe4TB6q.js";import{j as v,l as q,cH as ee,cN as G,aM as K,c as C,a_ as Z,h as w,t as J,U as ae,n as te,o as _,m as R,p as ne,w as le,M as ie,F as oe,b as A,cF as F,y as L,x as se,_ as re,g as de}from"./CGQimWOm.js";import{N as ue,A as fe,P as pe}from"./CS2J0rkF.js";function V(a,u){a===void 0&&(a={});const n={on:{}},d={},t={};z(n,Q),n._emitClasses=!0,n.init=!1;const s={},l=$.map(e=>e.replace(/_/,"")),i=Object.assign({},a);return Object.keys(i).forEach(e=>{typeof a[e]>"u"||(l.indexOf(e)>=0?M(a[e])?(n[e]={},t[e]={},z(n[e],a[e]),z(t[e],a[e])):(n[e]=a[e],t[e]=a[e]):e.search(/on[A-Z]/)===0&&typeof a[e]=="function"?n.on[`${e[2].toLowerCase()}${e.substr(3)}`]=a[e]:s[e]=a[e])}),["navigation","pagination","scrollbar"].forEach(e=>{n[e]===!0&&(n[e]={}),n[e]===!1&&delete n[e]}),{params:n,passedParams:t,rest:s,events:d}}function ce(a,u){let{el:n,nextEl:d,prevEl:t,paginationEl:s,scrollbarEl:l,swiper:i}=a;U(u)&&d&&t&&(i.params.navigation.nextEl=d,i.originalParams.navigation.nextEl=d,i.params.navigation.prevEl=t,i.originalParams.navigation.prevEl=t),D(u)&&s&&(i.params.pagination.el=s,i.originalParams.pagination.el=s),H(u)&&l&&(i.params.scrollbar.el=l,i.originalParams.scrollbar.el=l),i.init(n)}function ve(a,u,n,d,t){const s=[];if(!u)return s;const l=e=>{s.indexOf(e)<0&&s.push(e)};if(n&&d){const e=d.map(t),g=n.map(t);e.join("")!==g.join("")&&l("children"),d.length!==n.length&&l("children")}return $.filter(e=>e[0]==="_").map(e=>e.replace(/_/,"")).forEach(e=>{if(e in a&&e in u)if(M(a[e])&&M(u[e])){const g=Object.keys(a[e]),r=Object.keys(u[e]);g.length!==r.length?l(e):(g.forEach(o=>{a[e][o]!==u[e][o]&&l(e)}),r.forEach(o=>{a[e][o]!==u[e][o]&&l(e)}))}else a[e]!==u[e]&&l(e)}),s}const ge=a=>{!a||a.destroyed||!a.params.virtual||a.params.virtual&&!a.params.virtual.enabled||(a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.parallax&&a.params.parallax&&a.params.parallax.enabled&&a.parallax.setTranslate())};function I(a,u,n){a===void 0&&(a={});const d=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(l,i)=>{Array.isArray(l)&&l.forEach(e=>{const g=typeof e.type=="symbol";i==="default"&&(i="container-end"),g&&e.children?s(e.children,i):e.type&&(e.type.name==="SwiperSlide"||e.type.name==="AsyncComponentWrapper")||e.componentOptions&&e.componentOptions.tag==="SwiperSlide"?d.push(e):t[i]&&t[i].push(e)})};return Object.keys(a).forEach(l=>{if(typeof a[l]!="function")return;const i=a[l]();s(i,l)}),n.value=u.value,u.value=d,{slides:d,slots:t}}function ye(a,u,n){if(!n)return null;const d=r=>{let o=r;return r<0?o=u.length+r:o>=u.length&&(o=o-u.length),o},t=a.value.isHorizontal()?{[a.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,i=a.value.params.loop?-u.length:0,e=a.value.params.loop?u.length*2:u.length,g=[];for(let r=i;r<e;r+=1)r>=s&&r<=l&&g.length<u.length&&g.push(u[d(r)]);return g.map(r=>{if(r.props||(r.props={}),r.props.style||(r.props.style={}),r.props.swiperRef=a,r.props.style=t,r.type)return w(r.type,{...r.props},r.children);if(r.componentOptions)return w(r.componentOptions.Ctor,{...r.props},r.componentOptions.children)})}const me={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(a,u){let{slots:n,emit:d}=u;const{tag:t,wrapperTag:s}=a,l=v("swiper"),i=v(null),e=v(!1),g=v(!1),r=v(null),o=v(null),x=v(null),m={value:[]},S={value:[]},O=v(null),j=v(null),N=v(null),y=v(null),{params:f,passedParams:b}=V(a);I(n,m,S),x.value=b,S.value=m.value;const h=()=>{I(n,m,S),e.value=!0};f.onAny=function(c){for(var p=arguments.length,P=new Array(p>1?p-1:0),T=1;T<p;T++)P[T-1]=arguments[T];d(c,...P)},Object.assign(f.on,{_beforeBreakpoint:h,_containerClasses(c,p){l.value=p}});const B={...f};if(delete B.wrapperClass,o.value=new X(B),o.value.virtual&&o.value.params.virtual.enabled){o.value.virtual.slides=m.value;const c={cache:!1,slides:m.value,renderExternal:p=>{i.value=p},renderExternalUpdate:!1};z(o.value.params.virtual,c),z(o.value.originalParams.virtual,c)}G(()=>{!g.value&&o.value&&(o.value.emitSlidesClasses(),g.value=!0);const{passedParams:c}=V(a),p=ve(c,x.value,m.value,S.value,P=>P.props&&P.props.key);x.value=c,(p.length||e.value)&&o.value&&!o.value.destroyed&&Y({swiper:o.value,slides:m.value,passedParams:c,changedParams:p,nextEl:O.value,prevEl:j.value,scrollbarEl:y.value,paginationEl:N.value}),e.value=!1}),Z("swiper",o),J(i,()=>{ae(()=>{ge(o.value)})}),q(()=>{r.value&&(ce({el:r.value,nextEl:O.value,prevEl:j.value,paginationEl:N.value,scrollbarEl:y.value,swiper:o.value},f),d("swiper",o.value))}),K(()=>{o.value&&!o.value.destroyed&&o.value.destroy(!0,!1)});function E(c){return f.virtual?ye(o,c,i.value):(c.forEach((p,P)=>{p.props||(p.props={}),p.props.swiperRef=o,p.props.swiperSlideIndex=P}),c)}return()=>{const{slides:c,slots:p}=I(n,m,S);return w(t,{ref:r,class:W(l.value)},[p["container-start"],w(s,{class:k(f.wrapperClass)},[p["wrapper-start"],E(c),p["wrapper-end"]]),U(a)&&[w("div",{ref:j,class:"swiper-button-prev"}),w("div",{ref:O,class:"swiper-button-next"})],H(a)&&w("div",{ref:y,class:"swiper-scrollbar"}),D(a)&&w("div",{ref:N,class:"swiper-pagination"}),p["container-end"]])}}},xe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(a,u){let{slots:n}=u,d=!1;const{swiperRef:t}=a,s=v(null),l=v("swiper-slide"),i=v(!1);function e(o,x,m){x===s.value&&(l.value=m)}q(()=>{!t||!t.value||(t.value.on("_slideClass",e),d=!0)}),ee(()=>{d||!t||!t.value||(t.value.on("_slideClass",e),d=!0)}),G(()=>{!s.value||!t||!t.value||(typeof a.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=a.swiperSlideIndex),t.value.destroyed&&l.value!=="swiper-slide"&&(l.value="swiper-slide"))}),K(()=>{!t||!t.value||t.value.off("_slideClass",e)});const g=C(()=>({isActive:l.value.indexOf("swiper-slide-active")>=0,isVisible:l.value.indexOf("swiper-slide-visible")>=0,isPrev:l.value.indexOf("swiper-slide-prev")>=0,isNext:l.value.indexOf("swiper-slide-next")>=0}));Z("swiperSlide",g);const r=()=>{i.value=!0};return()=>w(a.tag,{class:W(`${l.value}`),ref:s,"data-swiper-slide-index":typeof a.virtualIndex>"u"&&t&&t.value&&t.value.params.loop?a.swiperSlideIndex:a.virtualIndex,onLoadCapture:r},a.zoom?w("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof a.zoom=="number"?a.zoom:void 0},[n.default&&n.default(g.value),a.lazy&&!i.value&&w("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(g.value),a.lazy&&!i.value&&w("div",{class:"swiper-lazy-preloader"})])}},he={class:"base-carousel"},be={key:1,class:"swiper-pagination"},we=te({__name:"BaseCarousel",props:{slidesPerView:{default:1},spaceBetween:{default:20},navigation:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},arrowPadding:{default:30},autoplay:{type:[Boolean,Object],default:!1},pagination:{type:Boolean,default:!1},arrowColor:{default:"#000"},arrowBgColor:{default:"rgba(255, 255, 255, 0.5)"},arrowSize:{default:"medium"},breakpoints:{default:()=>({640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:30},1024:{slidesPerView:4,spaceBetween:40}})}},emits:["swiper","slideChange","reachEnd","reachBeginning"],setup(a,{expose:u,emit:n}){const d=a,t=n,s=v(null),l=C(()=>[ue,fe,pe]),i=C(()=>({nextEl:".swiper-button-next",prevEl:".swiper-button-prev",enabled:d.navigation})),e=C(()=>({el:".swiper-pagination",clickable:!0,enabled:d.pagination})),g=C(()=>typeof d.autoplay=="object"?{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,...d.autoplay}:d.autoplay),r={small:{size:"24px",fontSize:"12px"},medium:{size:"30px",fontSize:"14px"},large:{size:"36px",fontSize:"16px"}},o=C(()=>({"--arrow-size":r[d.arrowSize].size,"--arrow-font-size":r[d.arrowSize].fontSize,"--arrow-color":d.arrowColor,"--arrow-bg-color":d.arrowBgColor})),x=C(()=>d.breakpoints),m=f=>{s.value=f,t("swiper",f)},S=f=>{t("slideChange",f),f.isEnd&&t("reachEnd"),f.isBeginning&&t("reachBeginning")};return u({swiper:s,slideTo:(f,b,h)=>{var B;(B=s.value)==null||B.slideTo(f,b,h)},slideNext:(f,b)=>{var h;(h=s.value)==null||h.slideNext(f,b)},slidePrev:(f,b)=>{var h;(h=s.value)==null||h.slidePrev(f,b)},update:()=>{var f;(f=s.value)==null||f.update()}}),(f,b)=>(_(),R("div",he,[ne(se(me),{modules:l.value,"slides-per-view":d.slidesPerView,breakpoints:x.value,"space-between":f.spaceBetween,navigation:i.value,autoplay:g.value,loop:f.loop,pagination:e.value,onSwiper:m,onSlideChange:S},{default:le(()=>[ie(f.$slots,"default",{},void 0,!0),f.navigation?(_(),R(oe,{key:0},[A("div",{class:"swiper-button-prev custom-swiper-button",style:F(o.value)},null,4),A("div",{class:"swiper-button-next custom-swiper-button",style:F(o.value)},null,4)],64)):L("",!0),f.pagination?(_(),R("div",be)):L("",!0)]),_:3},8,["modules","slides-per-view","breakpoints","space-between","navigation","autoplay","loop","pagination"])]))}}),Ee=re(we,[["__scopeId","data-v-ad7c6325"]]),Pe=(a=[])=>{const{$api:u}=de(),n=v([...a]),d=v(a.length===0);J(()=>a,y=>{y&&y.length>0&&(n.value=[...y])},{immediate:!0,deep:!0});const t=v([]),s=v(null),l=v(!1),i=v(null),e=v({currentPage:1,lastPage:1,perPage:8,total:0}),g=C(()=>l.value),r=C(()=>i.value!==null),o=C(()=>e.value.currentPage<e.value.lastPage),x=C(()=>s.value?t.value:n.value),m=async(y=1,f=!0)=>{var b,h,B,E;try{l.value=!0,i.value=null;const c=await u.get("/api/recommended/projects",{params:{page:y}});return console.log("All projects response:",c.data),f?n.value=c.data.projects||[]:n.value=[...n.value,...c.data.projects||[]],s.value||(e.value={currentPage:((b=c.data.pagination)==null?void 0:b.current_page)||y,lastPage:((h=c.data.pagination)==null?void 0:h.last_page)||1,perPage:((B=c.data.pagination)==null?void 0:B.per_page)||8,total:((E=c.data.pagination)==null?void 0:E.total)||0}),c.data}catch(c){throw console.error("Error fetching recommended projects:",c),i.value="Failed to fetch recommended projects",c}finally{l.value=!1}},S=async(y,f=1,b=!0)=>{var h,B,E,c;try{l.value=!0,i.value=null;const p=await u.get(`/guest/recommended/projects/${y}`,{params:{page:f}});return console.log("Category projects response:",p.data),b?t.value=p.data.projects||[]:t.value=[...t.value,...p.data.projects||[]],e.value={currentPage:((h=p.data.pagination)==null?void 0:h.current_page)||f,lastPage:((B=p.data.pagination)==null?void 0:B.last_page)||1,perPage:((E=p.data.pagination)==null?void 0:E.per_page)||8,total:((c=p.data.pagination)==null?void 0:c.total)||0},p.data}catch(p){throw console.error(`Error fetching recommended projects for category ${y}:`,p),i.value="Failed to fetch recommended projects for this category",p}finally{l.value=!1}};return{recommendedProjects:n,currentCategoryProjects:t,selectedCategory:s,loading:l,error:i,pagination:e,isLoading:g,initialLoading:d,hasError:r,hasMorePages:o,displayedProjects:x,fetchRecommendedProjects:m,fetchRecommendedProjectsByCategory:S,selectCategory:async y=>{s.value=y,y?await S(y.slug):n.value.length===0&&await m()},loadMoreProjects:async()=>{if(l.value||!o.value)return;const y=e.value.currentPage+1;s.value?await S(s.value.slug,y,!1):await m(y,!1)},resetState:()=>{n.value=[],t.value=[],s.value=null,i.value=null,e.value={currentPage:1,lastPage:1,perPage:8,total:0}}}};export{xe as S,Ee as _,Pe as u};

import{n as F,k as j,j as w,c as i,l as I,o as u,m as _,p as l,w as a,b as r,v as V,x as N,q as x,s as d,a as p,F as S,D as $,T as L,V as B,du as E,_ as G}from"./CGQimWOm.js";import{u as K}from"./Bqf7UgIb.js";import{V as v}from"./CS8xUUzH.js";import{V as k}from"./CRY4crBU.js";import{V as P}from"./BSH7BhKc.js";import{d as R,b as D,e as U,V as A,a as Y,c as q}from"./BkTuXOR_.js";import{V as H}from"./CMsVONS5.js";import{V as J}from"./GXZRJwQ4.js";import{V as Q}from"./BcH3Kywr.js";import{u as W}from"./BW5EWlXk.js";import{u as X}from"./D78L5r-E.js";/* empty css        */import"./xvVMJZi9.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";const Z={class:"collections-page pa-4"},ee={class:"header-content"},te={class:"text-subtitle-1 text-medium-emphasis mt-2"},ae={class:"collection-preview pa-2"},le={class:"empty-state"},oe=F({__name:"TalentCollectionPage",setup(M){const y=j(),o=K(),t=w(!1),n=w(!1),c=w(""),f=w(""),b=i(()=>o.collections),O=g=>{const e=new Date(g),C=new Date().getTime()-e.getTime(),m=Math.floor(C/6e4),T=Math.floor(m/60),z=Math.floor(T/24);return m<60?`${m}m ago`:T<24?`${T}h ago`:z<30?`${z}d ago`:e.toLocaleDateString()},h=async()=>{if(c.value.trim()){t.value=!0,f.value="";try{const g=await o.createCollection(c.value.trim());n.value=!1,c.value="",y.push(`/talents/collections/${g.id}`)}catch(g){f.value=g.message||"Failed to create collection"}finally{t.value=!1}}};return I(async()=>{await o.fetchCollections(!0)}),(g,e)=>(u(),_("div",Z,[l(k,{class:"mb-8",align:"center"},{default:a(()=>[l(v,{cols:"12",sm:"8"},{default:a(()=>[r("div",ee,[e[5]||(e[5]=r("h1",{class:"text-h4 font-weight-bold gradient-text"}," Your Collections ",-1)),r("p",te,V(N(o).collections.length)+" collections · Organize your talents ",1)])]),_:1}),l(v,{cols:"12",sm:"4",class:"d-flex justify-end"},{default:a(()=>[l(x,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=s=>n.value=!0),elevation:"1",class:"create-btn"},{default:a(()=>e[6]||(e[6]=[d(" New Collection ")])),_:1})]),_:1})]),_:1}),N(o).isLoading?(u(),p(k,{key:0},{default:a(()=>[(u(),_(S,null,$(8,s=>l(v,{key:s,cols:"12",sm:"6",md:"4",lg:"3"},{default:a(()=>e[7]||(e[7]=[r("div",{class:"custom-skeleton"},[r("div",{class:"skeleton-preview animate-pulse"}),r("div",{class:"skeleton-content"},[r("div",{class:"skeleton-title animate-pulse"}),r("div",{class:"skeleton-subtitle animate-pulse"})])],-1)])),_:2},1024)),64))]),_:1})):b.value.length?(u(),p(k,{key:1},{default:a(()=>[(u(!0),_(S,null,$(b.value,s=>(u(),p(v,{key:s.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:a(()=>[l(A,{to:`/talents/collections/${s.id}`,class:"collection-card",elevation:0,rounded:"lg"},{default:a(()=>{var C;return[r("div",ae,[(C=s.preview_talents)!=null&&C.length?(u(),p(L,{key:0,name:"preview",tag:"div",class:"preview-grid"},{default:a(()=>[(u(!0),_(S,null,$(s.preview_talents.slice(0,4),m=>(u(),p(P,{key:m.id,src:m.profile_photo,alt:m.username,cover:"",class:"preview-image"},{placeholder:a(()=>e[8]||(e[8]=[r("div",{class:"image-placeholder"},null,-1)])),_:2},1032,["src","alt"]))),128))]),_:2},1024)):(u(),p(B,{key:1,size:"48",class:"placeholder-icon"},{default:a(()=>e[9]||(e[9]=[d(" mdi-folder-outline ")])),_:1}))]),l(R,null,{default:a(()=>[l(D,{class:"collection-title"},{default:a(()=>[d(V(s.name),1)]),_:2},1024),l(U,{class:"collection-meta"},{default:a(()=>[d(V(s.talents_count)+" talents · "+V(O(s.updated_at)),1)]),_:2},1024)]),_:2},1024)]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):(u(),p(k,{key:2,justify:"center",class:"py-12"},{default:a(()=>[l(v,{cols:"12",sm:"8",md:"6",class:"text-center"},{default:a(()=>[r("div",le,[l(B,{size:"72",class:"empty-icon"},{default:a(()=>e[10]||(e[10]=[d("mdi-folder-outline")])),_:1}),e[12]||(e[12]=r("h3",{class:"text-h5 mt-6"},"Start Your First Collection",-1)),e[13]||(e[13]=r("p",{class:"text-medium-emphasis my-4"}," Create collections to organize and manage your favorite talents ",-1)),l(x,{color:"primary","prepend-icon":"mdi-plus",onClick:e[1]||(e[1]=s=>n.value=!0),size:"large",class:"mt-4"},{default:a(()=>e[11]||(e[11]=[d(" Create Collection ")])),_:1})])]),_:1})]),_:1})),l(Q,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value=s),"max-width":"500"},{default:a(()=>[l(A,{class:"dialog-card"},{default:a(()=>[l(D,{class:"pt-6 px-6"},{default:a(()=>e[14]||(e[14]=[d("Create New Collection")])),_:1}),l(Y,{class:"px-6 pt-4"},{default:a(()=>[l(H,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),label:"Collection name",variant:"outlined","error-messages":f.value,autofocus:"",onKeyup:E(h,["enter"]),class:"collection-input"},null,8,["modelValue","error-messages"])]),_:1}),l(q,{class:"pa-6"},{default:a(()=>[l(J),l(x,{variant:"text",onClick:e[3]||(e[3]=s=>n.value=!1)},{default:a(()=>e[15]||(e[15]=[d(" Cancel ")])),_:1}),l(x,{color:"primary",loading:t.value,disabled:!c.value.trim(),onClick:h},{default:a(()=>e[16]||(e[16]=[d(" Create ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),se=G(oe,[["__scopeId","data-v-ca3217cd"]]),be=F({__name:"index",setup(M){const y=W();I(async()=>{await y.fetchTalaStageApp()});const o=i(()=>y.talastageApp);return X({title:i(()=>{var t;return`Talent Collections - ${((t=o.value)==null?void 0:t.name)||"TalaStage"}`}),description:i(()=>"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work."),keywords:i(()=>"talent collections, organize talents, TalaStage"),image:i(()=>{var t;return((t=o.value)==null?void 0:t.logo_url)||"https://talastage.com/social-card.png"}),type:"website",siteName:i(()=>{var t;return((t=o.value)==null?void 0:t.name)||"TalaStage"}),url:i(()=>{var t;return(t=o.value)!=null&&t.canonical_url?`${o.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"}),noIndex:!0,canonical:i(()=>{var t;return(t=o.value)!=null&&t.canonical_url?`${o.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"}),openGraph:i(()=>{var t,n,c,f;return{title:`Talent Collections - ${((t=o.value)==null?void 0:t.name)||"TalaStage"}`,description:"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work.",url:(n=o.value)!=null&&n.canonical_url?`${o.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections",image:((c=o.value)==null?void 0:c.logo_url)||"https://talastage.com/social-card.png",siteName:((f=o.value)==null?void 0:f.name)||"TalaStage",type:"website"}}),twitter:i(()=>{var t,n;return{card:"summary_large_image",title:`Talent Collections - ${((t=o.value)==null?void 0:t.name)||"TalaStage"}`,description:"Browse and manage your talent collections on TalaStage. Organize your favorite talents and explore their work.",image:((n=o.value)==null?void 0:n.logo_url)||"https://talastage.com/social-card.png"}}),link:i(()=>{var t;return[{rel:"icon",href:((t=o.value)==null?void 0:t.favicon_url)||"/favicon.ico"}]})}),(t,n)=>{const c=se;return u(),_("div",null,[l(c)])}}});export{be as default};

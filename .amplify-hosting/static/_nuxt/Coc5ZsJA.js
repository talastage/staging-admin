import{u as I,_ as B}from"./CArSrBcq.js";import{n as $,a5 as P,o as n,a as f,w as o,p as e,b as v,x as i,q as M,s as S,y as p,m,D as A,F as V,V as D,A as F,_ as b,l as j,c as l}from"./CGQimWOm.js";import{u as q}from"./CgCCmWi5.js";import{V as z}from"./CS8xUUzH.js";import{V as E,b as G,a as Y}from"./BkTuXOR_.js";import{V as w}from"./BvtSni_j.js";import{V as N}from"./BRveoiXI.js";import{V as h}from"./tTgLLTve.js";import{V as H}from"./f5lwX8SZ.js";import{V as J}from"./CRY4crBU.js";import{V as K}from"./BhN2__aY.js";import{u as O}from"./BW5EWlXk.js";import{u as Q}from"./D78L5r-E.js";import"./BCoct7aH.js";import"./DsvAftJq.js";import"./2hEmiBig.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./CDtnx0aA.js";import"./DyYnZ78z.js";/* empty css        */import"./Dn0bXcU5.js";const U={class:"text-center py-8"},W={key:3,class:"pa-4 text-center"},X={key:5,class:"pa-4 text-center text-grey"},Z=$({__name:"NotificationPage",setup(C){const u=I(),{notifications:a,unreadCount:t,loading:s,hasMorePages:c}=P(u),_=async d=>{await u.fetchNotifications(d)},{sentinelRef:g,page:k,isLoading:et,initLoader:ot}=q(_,c,{immediate:!0}),T=async d=>{await u.markAsRead(d)},R=async()=>{await u.markAllAsRead()},L=async(d,r,x)=>{await u.handleAction(d,r,x)};return(d,r)=>{const x=B;return n(),f(K,null,{default:o(()=>[e(J,null,{default:o(()=>[e(z,{cols:"12",md:"8","offset-md":"2"},{default:o(()=>[e(E,{elevation:"10"},{default:o(()=>[e(G,{class:"d-flex justify-space-between align-center pa-4"},{default:o(()=>[r[1]||(r[1]=v("span",{class:"text-h5"},"Notifications",-1)),i(t)>0?(n(),f(M,{key:0,variant:"text",onClick:R,disabled:i(s)},{default:o(()=>r[0]||(r[0]=[S(" Mark all as read ")])),_:1},8,["disabled"])):p("",!0)]),_:1}),e(w),e(Y,{class:"pa-0"},{default:o(()=>[!i(s)||i(k)>1?(n(),f(N,{key:0},{default:o(()=>[(n(!0),m(V,null,A(i(a),y=>(n(),m(V,{key:y.id},[e(x,{notification:y,onAction:L,onRead:T},null,8,["notification"]),e(w)],64))),128))]),_:1})):p("",!0),i(s)&&i(k)===1?(n(),f(N,{key:1},{default:o(()=>[(n(),m(V,null,A(10,y=>(n(),m(V,{key:y},[e(h,null,{default:o(()=>[e(H,{type:"list-item-avatar-two-line"})]),_:1}),e(w)],64))),64))]),_:1})):p("",!0),!i(s)&&i(a).length===0?(n(),f(N,{key:2},{default:o(()=>[e(h,null,{default:o(()=>[v("div",U,[e(D,{size:"64",color:"grey"},{default:o(()=>r[2]||(r[2]=[S("mdi-bell-off")])),_:1}),r[3]||(r[3]=v("div",{class:"text-h6 mt-4"},"No notifications",-1)),r[4]||(r[4]=v("div",{class:"text-body-2 text-grey"},"You're all caught up!",-1))])]),_:1})]),_:1})):p("",!0),i(s)&&i(k)>1?(n(),m("div",W,[e(F,{indeterminate:"",color:"primary"})])):p("",!0),i(c)?(n(),m("div",{key:4,ref_key:"sentinelRef",ref:g,class:"sentinel"},null,512)):i(a).length>0?(n(),m("div",X," No more notifications ")):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),tt=b(Z,[["__scopeId","data-v-acba0ab9"]]),at=$({__name:"notifications",setup(C){const u=O();j(async()=>{await u.fetchTalaStageApp()});const a=l(()=>u.talastageApp);return Q({title:l(()=>{var t;return`Notifications - ${((t=a.value)==null?void 0:t.name)||"TalaStage"}`}),description:l(()=>{var t;return`View your latest notifications on ${(t=a.value)==null?void 0:t.name}. Stay updated on your activities and interactions.`}),keywords:l(()=>{var t;return`notifications, alerts, updates, activity, interactions, ${((t=a.value)==null?void 0:t.name)||"TalaStage"}`}),image:l(()=>{var t;return((t=a.value)==null?void 0:t.logo_url)||"/default-social-image.png"}),type:"website",siteName:l(()=>{var t;return((t=a.value)==null?void 0:t.name)||"TalaStage"}),url:l(()=>{var t;return`${((t=a.value)==null?void 0:t.canonical_url)||"https://talastage.com"}/notifications`}),canonical:l(()=>{var t;return`${((t=a.value)==null?void 0:t.canonical_url)||"https://talastage.com"}/notifications`}),noIndex:!0,openGraph:l(()=>{var t,s,c,_,g;return{title:`Notifications - ${((t=a.value)==null?void 0:t.name)||"TalaStage"}`,description:`View your latest notifications on ${(s=a.value)==null?void 0:s.name}. Stay updated on your activities and interactions.`,url:`${((c=a.value)==null?void 0:c.canonical_url)||"https://talastage.com"}/notifications`,image:((_=a.value)==null?void 0:_.logo_url)||"/default-social-image.png",siteName:((g=a.value)==null?void 0:g.name)||"TalaStage",type:"website"}}),twitter:l(()=>{var t,s,c;return{card:"summary_large_image",title:`Notifications - ${((t=a.value)==null?void 0:t.name)||"TalaStage"}`,description:`View your latest notifications on ${(s=a.value)==null?void 0:s.name}. Stay updated on your activities and interactions.`,image:((c=a.value)==null?void 0:c.logo_url)||"/default-social-image.png"}}),link:l(()=>{var t;return[{rel:"icon",href:((t=a.value)==null?void 0:t.favicon_url)||"/favicon.ico"}]})}),(t,s)=>{const c=tt;return n(),m("div",null,[e(c)])}}}),ht=b(at,[["__scopeId","data-v-d7efadca"]]);export{ht as default};

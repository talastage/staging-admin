import{n as P,k as H,a6 as U,j as N,c as l,l as I,o,m as i,b as T,a as k,w as p,s as D,V as q,F as x,p as _,A as G,G as d,cF as $,v as g,y as B,_ as M,i as O,D as L,q as W}from"./CGQimWOm.js";import{u as J}from"./BW5EWlXk.js";import{V as E}from"./f5lwX8SZ.js";import{V as K}from"./CRY4crBU.js";import{V as Q}from"./BSH7BhKc.js";import{u as X}from"./DMBY-Kaj.js";import{useSocialProvidersStore as Y}from"./Bd-Y0pe4.js";import{V as Z}from"./BvtSni_j.js";const ee={class:"logo-container"},te={key:2,class:"slogan"},oe=P({__name:"AppLogo",props:{size:{default:"md"},layout:{default:"horizontal"},customSize:{default:0},showText:{type:Boolean,default:!0},showSlogan:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},isHeading:{type:Boolean,default:!1},textAlign:{default:"left"},eager:{type:Boolean,default:!1},errorColor:{default:"error"},darkMode:{type:Boolean,default:!1}},setup(w){const a=w,r=J(),z=H(),{mobile:u,smAndDown:m}=U(),h=N(!1),v=l(()=>r.loading),c=l(()=>{var e;return(e=r.talastageApp)==null?void 0:e.name}),f=l(()=>{var e;return(e=r.talastageApp)==null?void 0:e.slogan}),y=l(()=>u.value),S=l(()=>"/talastage_logo.png"),t=l(()=>{const e={xs:{width:16,height:16,iconSize:14},sm:{width:20,height:20,iconSize:18},md:{width:28,height:28,iconSize:24},lg:{width:36,height:36,iconSize:32},xl:{width:48,height:48,iconSize:40},custom:{width:a.customSize,height:a.customSize,iconSize:a.customSize*.75}};return y.value&&a.size==="md"?{width:24,height:24,iconSize:20}:e[a.size]}),s=l(()=>({"--logo-gap":a.layout==="vertical"?"0.5rem":"1rem","--logo-direction":a.layout==="vertical"?"column":"row","--logo-alignment":a.layout==="icon"?"center":"flex-start"})),n=l(()=>({width:`${t.value.width}px`,height:`${t.value.height}px`,fontSize:`${t.value.iconSize*.6}px`,backgroundColor:"var(--v-primary-base)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",fontWeight:"bold"})),b=l(()=>["logo-image",{rounded:a.layout==="icon"}]),C=l(()=>["logo-title",`text-${a.size}`,{"text-primary":!a.darkMode}]),F=l(()=>a.layout==="icon"?"avatar":"image"),j=()=>{a.clickable&&z.push("/")},R=()=>{h.value=!0};return I(async()=>{r.talastageApp||await r.fetchTalaStageApp()}),(e,V)=>{var A;return o(),i("div",{class:d(["app-logo",`app-logo--${e.size}`,`app-logo--${e.layout}`,{"app-logo--clickable":e.clickable}]),style:$(s.value),onClick:j},[T("div",ee,[v.value?(o(),k(E,{key:0,type:F.value,width:t.value.width,height:t.value.height},null,8,["type","width","height"])):h.value?(o(),k(q,{key:1,size:t.value.iconSize,color:e.errorColor},{default:p(()=>V[0]||(V[0]=[D(" mdi-alert-circle ")])),_:1},8,["size","color"])):(o(),i(x,{key:2},[S.value?(o(),k(Q,{key:0,src:S.value,width:t.value.width,height:t.value.height,alt:c.value,class:d(b.value),cover:"",eager:e.eager,onError:R},{placeholder:p(()=>[_(K,{class:"fill-height ma-0",align:"center",justify:"center"},{default:p(()=>[_(G,{indeterminate:"",color:"primary",size:"20"})]),_:1})]),_:1},8,["src","width","height","alt","class","eager"])):(o(),i("div",{key:1,class:"text-logo",style:$(n.value)},g(((A=c.value)==null?void 0:A.charAt(0))||"A"),5))],64)),e.showText&&c.value&&!y.value?(o(),i("div",{key:3,class:d(["logo-text",`text-${e.textAlign}`,{"mt-2":e.layout==="vertical"}])},[e.isHeading?(o(),i("h1",{key:0,class:d(C.value)},g(c.value),3)):(o(),i("span",{key:1,class:d(C.value)},g(c.value),3)),e.showSlogan&&f.value?(o(),i("small",te,g(f.value),1)):B("",!0)],2)):B("",!0)])],6)}}}),ve=M(oe,[["__scopeId","data-v-34a62b63"]]),ae={class:"social-login-section"},se={key:0,class:"social-buttons-container"},le={key:1,class:"social-buttons-container"},ie={key:2,class:"text-center text-caption text-medium-emphasis py-2"},ne=P({__name:"SocialLoginButtons",props:{mode:{default:"login"}},emits:["social-success","social-error"],setup(w,{emit:a}){const r=O(),z=X(),u=Y(),m=N(null),h=w,v=l(()=>u.activeProviders),c=l(()=>u.isLoading),f=t=>{const s=h.mode==="register"?"Continue with":"Login with",n=t.charAt(0).toUpperCase()+t.slice(1);return`${s} ${n}`};I(()=>{u.isLoaded||u.fetchActiveProviders()});const y=a,S=async t=>{try{m.value=t;const s=await r.initiateSocialLogin(t);s.redirect_url&&(window.location.href=s.redirect_url)}catch(s){console.error(`${t} login error:`,s),z.error(s.message||`Failed to login with ${t}`),y("social-error",s.message)}finally{m.value=null}};return(t,s)=>(o(),i("div",ae,[_(Z,{class:"my-3"},{default:p(()=>s[0]||(s[0]=[T("span",{class:"text-caption text-medium-emphasis px-2"},"Or continue with",-1)])),_:1}),c.value?(o(),i("div",se,[(o(),i(x,null,L(2,n=>_(E,{key:n,type:"button",class:"mb-1",height:"36"})),64))])):v.value.length>0?(o(),i("div",le,[(o(!0),i(x,null,L(v.value,n=>(o(),k(W,{key:n.name,color:n.color,variant:"outlined",loading:m.value===n.name,onClick:b=>S(n.name),class:"social-btn","prepend-icon":n.icon,block:""},{default:p(()=>[D(g(f(n.name)),1)]),_:2},1032,["color","loading","onClick","prepend-icon"]))),128))])):(o(),i("div",ie," No social providers available "))]))}}),fe=M(ne,[["__scopeId","data-v-0b073d6e"]]);export{ve as _,fe as a};

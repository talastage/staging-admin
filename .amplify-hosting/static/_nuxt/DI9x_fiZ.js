import{n as b,u as w,g as I,j as m,l as x,o as n,a as f,w as a,p as t,A as L,s as u,v as _,q as y,m as C,D as N,b as $,F as R,V as j,_ as P,c as l,Q as h}from"./CGQimWOm.js";import{V as v}from"./CRY4crBU.js";import{V}from"./CS8xUUzH.js";import{V as M}from"./P_q-BwEt.js";import{V as z,d as E,b as F,e as H,a as O,c as q}from"./BkTuXOR_.js";import{V as T}from"./BvtSni_j.js";import{V as Q}from"./GXZRJwQ4.js";import{V as U}from"./BhN2__aY.js";import{u as W}from"./BW5EWlXk.js";import{u as G}from"./D78L5r-E.js";/* empty css        */import"./xvVMJZi9.js";import"./BSH7BhKc.js";const J=["id"],K={class:"text-h5 font-weight-medium mb-4"},X=["innerHTML"],Y=b({__name:"PolicyDetailPage",setup(k){const S=w(),{$axios:s}=I(),d=m(""),o=m(""),e=m([]),g=m(!0),c=m(""),A=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",D=async()=>{g.value=!0,c.value="";try{const i=await s.get(`/api/policies/${S.params.policySlug}`);d.value=i.data.name,o.value=i.data.updated_at,e.value=i.data.contents.map((r,p)=>({id:`section-${p+1}`,title:r.title,content:r.content}))}catch(i){console.error("Error fetching policy details:",i),c.value="Unable to load policy. Please try again later."}finally{g.value=!1}},B=()=>{window.scrollTo({top:0,behavior:"smooth"})};return x(()=>{D()}),(i,r)=>(n(),f(U,{class:"policy-detail-container"},{default:a(()=>[g.value?(n(),f(v,{key:0},{default:a(()=>[t(V,{cols:"12",class:"d-flex justify-center align-center py-12"},{default:a(()=>[t(L,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):c.value?(n(),f(v,{key:1},{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[t(M,{type:"error",variant:"tonal",class:"mb-4"},{default:a(()=>[u(_(c.value),1)]),_:1}),t(y,{color:"primary",to:"/policies","prepend-icon":"mdi-arrow-left"},{default:a(()=>r[0]||(r[0]=[u(" Back to Policies ")])),_:1})]),_:1})]),_:1})):(n(),f(v,{key:2},{default:a(()=>[t(V,{cols:"12"},{default:a(()=>[t(z,{class:"policy-content-card",rounded:"lg"},{default:a(()=>[t(E,null,{default:a(()=>[t(F,{class:"text-h4 font-weight-bold"},{default:a(()=>[u(_(d.value),1)]),_:1}),t(H,{class:"mt-2"},{default:a(()=>[u(" Last updated: "+_(A(o.value)),1)]),_:1})]),_:1}),t(T),t(O,{class:"policy-content"},{default:a(()=>[(n(!0),C(R,null,N(e.value,p=>(n(),C("div",{key:p.id,id:p.id,class:"policy-section mb-8"},[$("h2",K,_(p.title),1),$("div",{innerHTML:p.content,class:"policy-html-content"},null,8,X)],8,J))),128))]),_:1}),t(T),t(q,{class:"pa-4"},{default:a(()=>[t(y,{color:"primary",variant:"text",to:"/policies","prepend-icon":"mdi-arrow-left"},{default:a(()=>r[1]||(r[1]=[u(" Back to Policies ")])),_:1}),t(Q),t(y,{icon:"",onClick:B},{default:a(()=>[t(j,null,{default:a(()=>r[2]||(r[2]=[u("mdi-arrow-up")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}))}}),Z=P(Y,[["__scopeId","data-v-cb807f14"]]),ee=b({__name:"[policySlug]",setup(k){const s=w().params.policySlug,d=W();x(async()=>{await d.fetchTalaStageApp()});const o=l(()=>d.talastageApp);return G({title:l(()=>{var e;return(e=o.value)!=null&&e.name?`${s.replace(/-/g," ").toUpperCase()} Policy - ${o.value.name}`:`${s.replace(/-/g," ").toUpperCase()} Policy - TalaStage`}),description:l(()=>{var e;return`Read the ${s.replace(/-/g," ").toUpperCase()} policy of ${((e=o.value)==null?void 0:e.name)||"TalaStage"}. Understand our guidelines and terms.`}),keywords:l(()=>{var e;return[`${s} policy`,"terms","guidelines","TalaStage",((e=o.value)==null?void 0:e.name)||"TalaStage"].join(", ")}),image:l(()=>{var e;return((e=o.value)==null?void 0:e.logo_url)||"/default-policy-image.png"}),url:l(()=>`${h().public.frontendUrl}/policies/${s}`),type:"website",siteName:l(()=>{var e;return((e=o.value)==null?void 0:e.name)||"TalaStage"}),twitterUsername:"@talastage",structured:{"@context":"https://schema.org","@type":"WebPage",name:l(()=>{var e;return(e=o.value)!=null&&e.name?`${s.replace(/-/g," ").toUpperCase()} Policy - ${o.value.name}`:`${s.replace(/-/g," ").toUpperCase()} Policy - TalaStage`}),description:l(()=>{var e;return`Read the ${s.replace(/-/g," ").toUpperCase()} policy of ${((e=o.value)==null?void 0:e.name)||"TalaStage"}. Understand our guidelines and terms.`}),url:l(()=>`${h().public.frontendUrl}/policies/${s}`),publisher:{"@type":"Organization",name:l(()=>{var e;return((e=o.value)==null?void 0:e.name)||"TalaStage"}),logo:{"@type":"ImageObject",url:l(()=>{var e;return((e=o.value)==null?void 0:e.logo_url)||"/default-policy-image.png"})}}}}),(e,g)=>{const c=Z;return n(),f(U,{class:"policy-detail-page"},{default:a(()=>[t(c)]),_:1})}}}),fe=P(ee,[["__scopeId","data-v-c4c56d02"]]);export{fe as default};

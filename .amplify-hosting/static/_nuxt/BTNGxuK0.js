import{_ as q}from"./tV-NkviW.js";import{u as R}from"./CiN8dqd8.js";import{u as E}from"./Bp2sYpJN.js";import{u as L}from"./DMBY-Kaj.js";import{n as T,L as j,g as G,a6 as U,a5 as H,j as _,c as o,l as N,o as S,m as C,b as r,p as l,w as i,V as x,s as m,q as A,F as J,D as K,v as $,_ as I,a as O}from"./CGQimWOm.js";import{V as Q}from"./xvVMJZi9.js";import{a as D,V as F}from"./BkTuXOR_.js";import{u as X}from"./BW5EWlXk.js";import{u as Y}from"./D78L5r-E.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BSH7BhKc.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";const Z={class:"deposit-content"},ee={class:"deposit-header mb-4"},te={class:"d-flex align-center"},ae={class:"action-buttons mb-4"},oe={class:"text-body-2 font-weight-medium mb-2 d-flex align-center"},se={class:"info-list"},le={class:"text-caption"},ne=T({__name:"WalletDepositPage",setup(z){const v=j(),a=L(),{$axios:e}=G();U();const u=R(),s=E(),{wallet:f}=H(u),d=_(null),c=_(!1),g=_([]);_("deposit"),_(null),o(()=>{var n,t;return((t=(n=f.value)==null?void 0:n.data)==null?void 0:t.balance)||"0"});const V=o(()=>d.value!==null&&d.value>0),B=[{icon:"mdi-shield-check-outline",text:"Secure transaction with end-to-end encryption"},{icon:"mdi-cash-check",text:"Funds available immediately for in-app purchases"},{icon:"mdi-information-outline",text:"Transaction receipt will be sent to your email"}];N(async()=>{try{s.isFetched||await s.fetchCurrencies(),await u.fetchWallet()}catch{a.error("Failed to load wallet information")}});const M=n=>n?isNaN(n)||n<=0?"Please enter a valid amount":!0:"Amount is required",P=()=>{d.value=null,g.value=[]},W=async()=>{var n,t,b,p,h,k;if(!(!V.value||!s.selectedCurrency))try{c.value=!0,g.value=[];const w={paying_amount:d.value,currency_id:s.selectedCurrency.id,payment_type:"deposit",payable_type:"App\\Models\\Wallet",payable_id:(t=(n=f.value)==null?void 0:n.data)==null?void 0:t.id},y=await e.post("/api/cart/items",w);if((b=y.data)!=null&&b.success)a.success("Deposit initiated successfully"),v.push("/checkout");else throw new Error(((p=y.data)==null?void 0:p.message)||"Failed to process deposit")}catch(w){console.error("Deposit error:",w);const y=((k=(h=w.response)==null?void 0:h.data)==null?void 0:k.message)||"Failed to process deposit request";g.value=[y],a.error(y)}finally{c.value=!1}};return(n,t)=>{const b=q;return S(),C("div",Z,[r("div",ee,[r("div",te,[l(Q,{size:"32",color:"primary",class:"mr-3"},{default:i(()=>[l(x,{color:"white",size:"18"},{default:i(()=>t[1]||(t[1]=[m("mdi-cash-plus")])),_:1})]),_:1}),t[2]||(t[2]=r("div",null,[r("h2",{class:"text-h5 font-weight-bold mb-0"},"Add Funds"),r("p",{class:"text-caption text-medium-emphasis mb-0"},"Deposit money to your wallet")],-1))])]),l(F,{class:"amount-card mb-4",elevation:"1",rounded:"lg"},{default:i(()=>[l(D,{class:"pa-3"},{default:i(()=>[t[3]||(t[3]=r("div",{class:"text-body-2 text-medium-emphasis mb-2"}," Amount to deposit ",-1)),l(b,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=p=>d.value=p),label:"0.00",rules:[M],required:"",disabled:c.value,loading:c.value,"error-messages":g.value,variant:"outlined",density:"compact",class:"deposit-amount-input"},null,8,["modelValue","rules","disabled","loading","error-messages"])]),_:1})]),_:1}),r("div",ae,[l(A,{color:"primary",size:"large",loading:c.value,disabled:!V.value||c.value,onClick:W,class:"deposit-button",block:"",rounded:"lg"},{default:i(()=>[l(x,{class:"mr-2"},{default:i(()=>t[4]||(t[4]=[m("mdi-cash-plus")])),_:1}),t[5]||(t[5]=m(" Continue to Payment "))]),_:1},8,["loading","disabled"]),l(A,{color:"grey",variant:"outlined",disabled:c.value,onClick:P,size:"small",class:"mt-2",block:"",rounded:"lg"},{default:i(()=>t[6]||(t[6]=[m(" Reset Amount ")])),_:1},8,["disabled"])]),l(F,{class:"info-card",elevation:"1",rounded:"lg"},{default:i(()=>[l(D,{class:"pa-3"},{default:i(()=>[r("div",oe,[l(x,{size:"16",color:"primary",class:"mr-2"},{default:i(()=>t[7]||(t[7]=[m("mdi-information-outline")])),_:1}),t[8]||(t[8]=m(" Important Information "))]),r("div",se,[(S(),C(J,null,K(B,(p,h)=>r("div",{key:h,class:"info-item d-flex align-center mb-1"},[l(x,{color:"success",size:"14",class:"mr-2"},{default:i(()=>[m($(p.icon),1)]),_:2},1024),r("span",le,$(p.text),1)])),64))])]),_:1})]),_:1})])}}}),re=I(ne,[["__scopeId","data-v-283a7f02"]]),ie=T({__name:"deposit",setup(z){const v=X();N(async()=>{await v.fetchTalaStageApp()});const a=o(()=>v.talastageApp);return Y({title:o(()=>{var e;return`Deposit Funds - ${((e=a.value)==null?void 0:e.name)||"TalaStage"}`}),description:o(()=>{var e;return`Securely deposit funds into your wallet on ${(e=a.value)==null?void 0:e.name}. Choose your preferred payment method and add funds to your account.`}),keywords:o(()=>{var e;return`wallet, deposit, fund wallet, payment, secure payment, ${((e=a.value)==null?void 0:e.name)||"TalaStage"}`}),image:o(()=>{var e;return((e=a.value)==null?void 0:e.logo_url)||"/default-social-image.png"}),type:"website",siteName:o(()=>{var e;return((e=a.value)==null?void 0:e.name)||"TalaStage"}),url:o(()=>{var e;return`${((e=a.value)==null?void 0:e.canonical_url)||"https://talastage.com"}/wallet/deposit`}),canonical:o(()=>{var e;return`${((e=a.value)==null?void 0:e.canonical_url)||"https://talastage.com"}/wallet/deposit`}),openGraph:o(()=>{var e,u,s,f,d;return{title:`Deposit Funds - ${((e=a.value)==null?void 0:e.name)||"TalaStage"}`,description:`Securely deposit funds into your wallet on ${(u=a.value)==null?void 0:u.name}. Choose your preferred payment method and add funds to your account.`,url:`${((s=a.value)==null?void 0:s.canonical_url)||"https://talastage.com"}/wallet/deposit`,image:((f=a.value)==null?void 0:f.logo_url)||"/default-social-image.png",siteName:((d=a.value)==null?void 0:d.name)||"TalaStage",type:"website"}}),twitter:o(()=>{var e,u,s;return{card:"summary_large_image",title:`Deposit Funds - ${((e=a.value)==null?void 0:e.name)||"TalaStage"}`,description:`Securely deposit funds into your wallet on ${(u=a.value)==null?void 0:u.name}. Choose your preferred payment method and add funds to your account.`,image:((s=a.value)==null?void 0:s.logo_url)||"/default-social-image.png"}}),link:o(()=>{var e;return[{rel:"icon",href:((e=a.value)==null?void 0:e.favicon_url)||"/favicon.ico"}]})}),(e,u)=>{const s=re;return S(),O(s)}}}),Ce=I(ie,[["__scopeId","data-v-8dec91f4"]]);export{Ce as default};

import{n as W,t as p,a as U,b as j,u as X,c as Y,i as k,d as J,e as K,f as Z}from"./DyYnZ78z.js";import{c as I,j as E,t as H,z as N,l as ee,a4 as te,U as ne,ci as re}from"./CGQimWOm.js";function A(r){var o;const t=p(r);return(o=t==null?void 0:t.$el)!=null?o:t}const T=J?window:void 0;function V(...r){let o,t,f,i;if(typeof r[0]=="string"||Array.isArray(r[0])?([t,f,i]=r,o=T):[o,t,f,i]=r,!o)return W;Array.isArray(t)||(t=[t]),Array.isArray(f)||(f=[f]);const a=[],l=()=>{a.forEach(e=>e()),a.length=0},u=(e,n,m,w)=>(e.addEventListener(n,m,w),()=>e.removeEventListener(n,m,w)),d=H(()=>[A(o),p(i)],([e,n])=>{if(l(),!e)return;const m=k(n)?{...n}:n;a.push(...t.flatMap(w=>f.map(h=>u(e,w,h,m))))},{immediate:!0,flush:"post"}),c=()=>{d(),l()};return j(c),c}function oe(){const r=E(!1),o=re();return o&&ee(()=>{r.value=!0},o),r}function G(r){const o=oe();return I(()=>(o.value,!!r()))}function _(r,o={}){const{window:t=T}=o,f=G(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let i;const a=E(!1),l=c=>{a.value=c.matches},u=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",l):i.removeListener(l))},d=te(()=>{f.value&&(u(),i=t.matchMedia(p(r)),"addEventListener"in i?i.addEventListener("change",l):i.addListener(l),a.value=i.matches)});return j(()=>{d(),u(),i=void 0}),a}function de(r,o={}){function t(e,n){let m=p(r[p(e)]);return n!=null&&(m=K(m,n)),typeof m=="number"&&(m=`${m}px`),m}const{window:f=T,strategy:i="min-width"}=o;function a(e){return f?f.matchMedia(e).matches:!1}const l=e=>_(()=>`(min-width: ${t(e)})`,o),u=e=>_(()=>`(max-width: ${t(e)})`,o),d=Object.keys(r).reduce((e,n)=>(Object.defineProperty(e,n,{get:()=>i==="min-width"?l(n):u(n),enumerable:!0,configurable:!0}),e),{});function c(){const e=Object.keys(r).map(n=>[n,l(n)]);return I(()=>e.filter(([,n])=>n.value).map(([n])=>n))}return Object.assign(d,{greaterOrEqual:l,smallerOrEqual:u,greater(e){return _(()=>`(min-width: ${t(e,.1)})`,o)},smaller(e){return _(()=>`(max-width: ${t(e,-.1)})`,o)},between(e,n){return _(()=>`(min-width: ${t(e)}) and (max-width: ${t(n,-.1)})`,o)},isGreater(e){return a(`(min-width: ${t(e,.1)})`)},isGreaterOrEqual(e){return a(`(min-width: ${t(e)})`)},isSmaller(e){return a(`(max-width: ${t(e,-.1)})`)},isSmallerOrEqual(e){return a(`(max-width: ${t(e)})`)},isInBetween(e,n){return a(`(min-width: ${t(e)}) and (max-width: ${t(n,-.1)})`)},current:c,active(){const e=c();return I(()=>e.value.length===0?"":e.value.at(-1))}})}function ie(r,o,t={}){const{root:f,rootMargin:i="0px",threshold:a=.1,window:l=T,immediate:u=!0}=t,d=G(()=>l&&"IntersectionObserver"in l),c=I(()=>{const h=p(r);return(Array.isArray(h)?h:[h]).map(A).filter(U)});let e=W;const n=E(u),m=d.value?H(()=>[c.value,A(f),n.value],([h,L])=>{if(e(),!n.value||!h.length)return;const y=new IntersectionObserver(o,{root:A(L),rootMargin:i,threshold:a});h.forEach(v=>v&&y.observe(v)),e=()=>{y.disconnect(),e=W}},{immediate:u,flush:"post"}):W,w=()=>{e(),m(),n.value=!1};return j(w),{isSupported:d,isActive:n,pause(){e(),n.value=!1},resume(){n.value=!0},stop:w}}function se(r,o={}){const{window:t=T,scrollTarget:f,threshold:i=0}=o,a=E(!1);return ie(r,l=>{let u=a.value,d=0;for(const c of l)c.time>=d&&(d=c.time,u=c.isIntersecting);a.value=u},{root:f,window:t,threshold:i}),a}const R=1;function le(r,o={}){const{throttle:t=0,idle:f=200,onStop:i=W,onScroll:a=W,offset:l={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:d="auto",window:c=T,onError:e=s=>{console.error(s)}}=o,n=E(0),m=E(0),w=I({get(){return n.value},set(s){L(s,void 0)}}),h=I({get(){return m.value},set(s){L(void 0,s)}});function L(s,O){var b,x,$;if(!c)return;const S=p(r);S&&(($=S instanceof Document?c.document.body:S)==null||$.scrollTo({top:(b=p(O))!=null?b:h.value,left:(x=p(s))!=null?x:w.value,behavior:p(d)}))}const y=E(!1),v=N({left:!0,right:!1,top:!0,bottom:!1}),g=N({left:!1,right:!1,top:!1,bottom:!1}),P=s=>{y.value&&(y.value=!1,g.left=!1,g.right=!1,g.top=!1,g.bottom=!1,i(s))},Q=Z(P,t+f),D=s=>{var O;if(!c)return;const b=((O=s==null?void 0:s.document)==null?void 0:O.documentElement)||(s==null?void 0:s.documentElement)||A(s),{display:x,flexDirection:$}=getComputedStyle(b),S=b.scrollLeft;g.left=S<n.value,g.right=S>n.value;const C=Math.abs(S)<=(l.left||0),F=Math.abs(S)+b.clientWidth>=b.scrollWidth-(l.right||0)-R;x==="flex"&&$==="row-reverse"?(v.left=F,v.right=C):(v.left=C,v.right=F),n.value=S;let M=b.scrollTop;s===c.document&&!M&&(M=c.document.body.scrollTop),g.top=M<m.value,g.bottom=M>m.value;const z=Math.abs(M)<=(l.top||0),B=Math.abs(M)+b.clientHeight>=b.scrollHeight-(l.bottom||0)-R;x==="flex"&&$==="column-reverse"?(v.top=B,v.bottom=z):(v.top=z,v.bottom=B),m.value=M},q=s=>{var O;if(!c)return;const b=(O=s.target.documentElement)!=null?O:s.target;D(b),y.value=!0,Q(s),a(s)};return V(r,"scroll",t?X(q,t,!0,!1):q,u),Y(()=>{try{const s=p(r);if(!s)return;D(s)}catch(s){e(s)}}),V(r,"scrollend",P,u),{x:w,y:h,isScrolling:y,arrivedState:v,directions:g,measure(){const s=p(r);c&&s&&D(s)}}}function ae(r){return typeof Window<"u"&&r instanceof Window?r.document.documentElement:typeof Document<"u"&&r instanceof Document?r.documentElement:r}function fe(r,o,t={}){var f;const{direction:i="bottom",interval:a=100,canLoadMore:l=()=>!0}=t,u=N(le(r,{...t,offset:{[i]:(f=t.distance)!=null?f:0,...t.offset}})),d=E(),c=I(()=>!!d.value),e=I(()=>ae(p(r))),n=se(e);function m(){if(u.measure(),!e.value||!n.value||!l(e.value))return;const{scrollHeight:w,clientHeight:h,scrollWidth:L,clientWidth:y}=e.value,v=i==="bottom"||i==="top"?w<=h:L<=y;(u.arrivedState[i]||v)&&(d.value||(d.value=Promise.all([o(u),new Promise(g=>setTimeout(g,a))]).finally(()=>{d.value=null,ne(()=>m())})))}return H(()=>[u.arrivedState[i],n.value],m,{immediate:!0}),{isLoading:c}}function me(r={}){const{window:o=T,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:f=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:a=!0}=r,l=E(t),u=E(f),d=()=>{o&&(a?(l.value=o.innerWidth,u.value=o.innerHeight):(l.value=o.document.documentElement.clientWidth,u.value=o.document.documentElement.clientHeight))};if(d(),Y(d),V("resize",d,{passive:!0}),i){const c=_("(orientation: portrait)");H(c,()=>d())}return{width:l,height:u}}export{ie as a,de as b,fe as c,me as u};

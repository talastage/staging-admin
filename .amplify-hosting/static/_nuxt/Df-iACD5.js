import{_ as I}from"./pIdhy95N.js";import{n as T,u as $,k as L,j as n,c as f,t as S,o as r,a as p,w as t,p as a,V as k,s as w,b as c,q as U,m as R,v as q,F as A,D as j,y as C,_ as B,l as z,Q as D}from"./CGQimWOm.js";import{u as E}from"./CatCOsi_.js";import{V as m}from"./CRY4crBU.js";import{V as x}from"./f5lwX8SZ.js";import{V as d}from"./CS8xUUzH.js";import{V as M}from"./BRveoiXI.js";import{V as G}from"./BEZsNnc4.js";import{V as H}from"./BhN2__aY.js";import{u as J}from"./BW5EWlXk.js";import{u as K}from"./D78L5r-E.js";import"./DL649WMo.js";import"./BkTuXOR_.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./DsvAftJq.js";import"./2hEmiBig.js";import"./BHJozufe.js";/* empty css        */import"./tTgLLTve.js";import"./Dn0bXcU5.js";import"./BvtSni_j.js";const O={class:"text-h4 font-weight-bold mb-4"},W={class:"text-body-1 text-grey-darken-1"},X=T({__name:"HelpSearchResultsPage",setup(N){var b;const g=$();L();const l=n(((b=g.query.q)==null?void 0:b.toString())||""),s=n([]),i=n(0),u=n(1),h=n(10),_=n(!0),y=n(!1),P=f(()=>Math.ceil(i.value/h.value)),V=async()=>{if(!l.value){s.value=[],i.value=0,_.value=!1;return}_.value=!0,y.value=!1;try{const{get:o}=E(),e=await o("/api/help/search",{params:{q:l.value,page:u.value,limit:h.value}});s.value=e.data,i.value=e.total}catch(o){console.error("Failed to fetch search results:",o),y.value=!0}finally{_.value=!1}};return S(u,V),S(()=>g.query.q,o=>{l.value=(o==null?void 0:o.toString())||"",u.value=1,V()},{immediate:!0}),(o,e)=>{const F=I;return r(),p(H,{class:"help-search-results-page"},{default:t(()=>[_.value?(r(),p(m,{key:0},{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[a(x,{type:"heading",class:"mb-4"}),a(x,{type:"paragraph",class:"mb-2"}),a(x,{type:"paragraph",class:"mb-2"})]),_:1})]),_:1})):y.value?(r(),p(m,{key:1},{default:t(()=>[a(d,{cols:"12",class:"text-center py-12"},{default:t(()=>[a(k,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:t(()=>e[1]||(e[1]=[w(" mdi-alert-circle-outline ")])),_:1}),e[3]||(e[3]=c("h3",{class:"text-h6 text-grey-darken-1"},"Search Error",-1)),e[4]||(e[4]=c("p",{class:"text-body-2 text-grey"}," An error occurred while fetching search results. ",-1)),a(U,{color:"primary",to:"/help","prepend-icon":"mdi-arrow-left"},{default:t(()=>e[2]||(e[2]=[w(" Return to Help Center ")])),_:1})]),_:1})]),_:1})):(r(),R(A,{key:2},[a(m,null,{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[c("h1",O,' Search Results for "'+q(l.value)+'" ',1),c("p",W," Found "+q(i.value)+" results ",1)]),_:1})]),_:1}),a(m,null,{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[a(M,{lines:"none"},{default:t(()=>[(r(!0),R(A,null,j(s.value,v=>(r(),p(F,{key:v.id,article:v},null,8,["article"]))),128))]),_:1})]),_:1})]),_:1}),i.value>h.value?(r(),p(m,{key:0},{default:t(()=>[a(d,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[a(G,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=v=>u.value=v),length:P.value,"total-visible":7},null,8,["modelValue","length"])]),_:1})]),_:1})):C("",!0),s.value.length===0?(r(),p(m,{key:1},{default:t(()=>[a(d,{cols:"12",class:"text-center py-12"},{default:t(()=>[a(k,{icon:"mdi-file-search-outline",size:"64",color:"grey",class:"mb-3"}),e[5]||(e[5]=c("div",{class:"text-subtitle-1 font-weight-medium mb-1"}," No results found ",-1)),e[6]||(e[6]=c("div",{class:"text-body-2 text-grey"}," Try different keywords or browse categories ",-1))]),_:1})]),_:1})):C("",!0)],64))]),_:1})}}}),Y=B(X,[["__scopeId","data-v-8b9d3262"]]),Z=T({__name:"index",setup(N){const g=J();z(async()=>{await g.fetchTalaStageApp()});const l=f(()=>g.talastageApp);return K({title:f(()=>{var s;return(s=l.value)!=null&&s.name?`Help Search Results - ${l.value.name}`:"Help Search Results - TalaStage"}),description:"Browse search results for help articles to find answers to your questions and get the support you need on TalaStage.",keywords:"help, support, articles, FAQ, knowledge base, TalaStage, search results",image:f(()=>{var s;return((s=l.value)==null?void 0:s.logo_url)||"/default-support-image.png"}),url:f(()=>`${D().public.frontendUrl}/help/search`),type:"website",siteName:f(()=>{var s;return((s=l.value)==null?void 0:s.name)||"TalaStage"}),twitterUsername:"@talastage"}),(s,i)=>{const u=Y;return r(),p(H,{class:"help-search-results-page"},{default:t(()=>[a(u)]),_:1})}}}),Ve=B(Z,[["__scopeId","data-v-72a1143f"]]);export{Ve as default};

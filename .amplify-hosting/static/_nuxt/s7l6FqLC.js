import{_ as k}from"./DL649WMo.js";import{_ as b,a6 as j,o as c,a as y,w as a,p as n,b as t,x as o,y as C,n as V,L as A,m as h,C as w,A as F,V as d,s as m,v as r,G as N,F as U,D as R}from"./CGQimWOm.js";import{a as $}from"./BkTuXOR_.js";import{V as p}from"./f5lwX8SZ.js";import{_ as E}from"./BeQTM7t9.js";import{u as G}from"./BCoct7aH.js";import{u as M}from"./B3G4pkyN.js";import{V as O}from"./BSH7BhKc.js";import{a as q}from"./DsvAftJq.js";import{V as H}from"./BvtSni_j.js";const J={class:"skeleton-layout"},K={class:"skeleton-content"},Q={class:"d-flex align-center mb-3"},W={class:"skeleton-preview"},X={__name:"PaymentListSkeleton",setup(v){const{mobile:u,smAndDown:l}=j();return(f,i)=>{const _=k;return c(),y(_,{class:"mb-3 payment-skeleton"},{default:a(()=>[n($,null,{default:a(()=>[t("div",J,[t("div",K,[t("div",Q,[n(p,{type:"avatar",size:"24",class:"mr-3"}),n(p,{type:"text",width:"120",class:"amount-skeleton"}),n(p,{type:"chip",width:"80",class:"ml-2 status-skeleton"})]),n(p,{type:"text",width:"180",class:"mb-2"}),n(p,{type:"text",width:"140"})]),t("div",W,[n(p,{type:o(l)?"avatar":"image",width:o(l)?40:120,height:o(l)?40:68,class:"preview-skeleton"},null,8,["type","width","height"]),o(l)?C("",!0):(c(),y(p,{key:0,type:"text",width:"80",class:"mt-2 name-skeleton"}))])])]),_:1})]),_:1})}}},xe=b(X,[["__scopeId","data-v-22c8f91e"]]),Y={class:"payment-item-content"},Z={class:"preview-section"},ee={class:"d-flex align-center justify-center fill-height"},te={class:"play-overlay"},se={class:"text-caption mt-1 project-name"},ne={class:"text-caption mt-1 recipient-name"},ae={class:"payment-details"},oe={class:"d-flex align-center justify-between mb-2 payment-header"},ie={class:"d-flex align-center"},re={class:"text-body-2 text-medium-emphasis mb-2 payment-info"},ce={class:"d-flex align-center flex-wrap gap-2"},le={class:"d-flex align-center"},pe={class:"date-text"},me={class:"payment-type"},de={class:"d-flex align-center justify-between text-caption text-medium-emphasis"},ue={class:"d-flex align-center payment-method"},_e={class:"order-ref"},ye={class:"chevron-container"},he=V({__name:"PaymentListItem",props:{payment:{}},setup(v){const{formatRelativeDate:u}=G(),{currencyFormatter:l}=M(),{mobile:f,smAndDown:i}=j(),_=A(),g=e=>({pending:"warning",processing:"info",completed:"success",failed:"error",cancelled:"grey",refunded:"purple"})[e]||"grey",z=e=>({pending:"mdi-clock-outline",processing:"mdi-progress-clock",completed:"mdi-check-circle",failed:"mdi-alert-circle",cancelled:"mdi-cancel",refunded:"mdi-cash-refund"})[e]||"mdi-help-circle",P=e=>e.charAt(0).toUpperCase()+e.slice(1),x=e=>({tip:"User Tip",project_tip:"Project Tip",project_watching:"Project Purchase"})[e]||e,D=(e,s)=>e.length>s?e.substring(0,s)+"...":e,T=e=>{_.push(`/watch/${e}`)},B=e=>{e&&_.push(`/${e}`)};return(e,s)=>{const I=E,L=k;return c(),y(L,{to:`/payments/payment-${e.payment.reference}`,hover:"",class:"mb-3 payment-list-item"},{default:a(()=>[n($,{class:"pa-4"},{default:a(()=>[t("div",Y,[t("div",Z,[["project_watching","project_tip"].includes(e.payment.payment_type)&&e.payment.project?(c(),h("div",{key:0,class:"project-preview clickable",onClick:s[0]||(s[0]=w(S=>T(e.payment.project.access_uuid),["stop"]))},[n(O,{src:e.payment.project.thumbnail_url,alt:e.payment.project.name,width:o(i)?64:80,height:o(i)?36:45,cover:"",class:"rounded-lg project-thumbnail"},{placeholder:a(()=>[t("div",ee,[n(F,{indeterminate:"",color:"grey-lighten-4",size:"20"})])]),default:a(()=>[t("div",te,[n(d,{color:"white",size:"20"},{default:a(()=>s[2]||(s[2]=[m("mdi-play")])),_:1})])]),_:1},8,["src","alt","width","height"]),t("div",se,r(D(e.payment.project.name,40)),1)])):e.payment.payment_type==="tip"&&e.payment.recipient?(c(),h("div",{key:1,class:"user-preview clickable",onClick:s[1]||(s[1]=w(S=>B(e.payment.recipient.username),["stop"]))},[n(I,{username:e.payment.recipient.username,profile_photo:e.payment.recipient.profile_photo,size:o(i)?"sm":"md",class:"user-avatar"},null,8,["username","profile_photo","size"]),t("div",ne,r(e.payment.recipient.display_name),1)])):C("",!0)]),t("div",ae,[t("div",oe,[t("div",ie,[n(d,{color:g(e.payment.status),size:o(i)?18:20,class:"mr-2"},{default:a(()=>[m(r(z(e.payment.status)),1)]),_:1},8,["color","size"]),t("span",{class:N([o(i)?"text-subtitle-2":"text-subtitle-1","font-weight-medium"])},r(o(l)(e.payment.amount,e.payment.currency.symbol,e.payment.currency.code)),3)]),n(q,{color:g(e.payment.status),size:"small",class:"status-chip",variant:"tonal"},{default:a(()=>[m(r(P(e.payment.status)),1)]),_:1},8,["color"])]),t("div",re,[t("div",ce,[t("div",le,[n(d,{size:"14",class:"mr-1"},{default:a(()=>s[3]||(s[3]=[m("mdi-clock-outline")])),_:1}),t("span",pe,r(o(u)(e.payment.created_at)),1)]),n(H,{vertical:"",class:"separator-divider"}),t("span",me,r(x(e.payment.payment_type)),1)])]),t("div",de,[t("div",ue,[n(d,{size:"14",class:"mr-1"},{default:a(()=>s[4]||(s[4]=[m("mdi-wallet-outline")])),_:1}),t("span",null,r(e.payment.payment_method.name),1)]),t("span",_e,"Order #"+r(e.payment.order.reference.slice(-8)),1)])]),t("div",ye,[n(d,{size:"18",color:"grey-lighten-1"},{default:a(()=>s[5]||(s[5]=[m("mdi-chevron-right")])),_:1})])])]),_:1})]),_:1},8,["to"])}}}),fe=b(he,[["__scopeId","data-v-73d9c264"]]),ve={class:"payment-list"},De=V({__name:"PaymentList",props:{payments:{},loading:{type:Boolean}},setup(v){return(u,l)=>{const f=fe;return c(),h("div",ve,[(c(!0),h(U,null,R(u.payments,i=>(c(),y(f,{key:i.reference,payment:i},null,8,["payment"]))),128))])}}});export{xe as _,De as a};

import{_ as le}from"./Bem91KZK.js";import{V as G}from"./xvVMJZi9.js";import{V as re,a as ce}from"./tTgLLTve.js";import{n as ee,j as P,c as p,l as ie,t as H,o as f,m as D,b as C,a as _,y as j,v as J,p as t,w as o,s as q,O as me,J as de,_ as te,f as ge,L as pe,B as fe,x as n,F as ye,q as he,V as ve,Q as _e}from"./CGQimWOm.js";import{V as be}from"./DbQnG3uQ.js";import{u as Ce,a as Pe,_ as Se,b as Ve}from"./CvtmPE-9.js";import{_ as xe}from"./GjSan1Rr.js";import{u as we}from"./CiN8dqd8.js";import{u as Q}from"./DZ_gEEDV.js";import{V as F}from"./CRY4crBU.js";import{V as w}from"./CS8xUUzH.js";import{V as K,b as oe,a as se}from"./BkTuXOR_.js";import{V as X}from"./f5lwX8SZ.js";import{V as Z}from"./BvtSni_j.js";import{V as je}from"./BhN2__aY.js";import{u as qe}from"./BW5EWlXk.js";import{u as ke}from"./D78L5r-E.js";import"./BSH7BhKc.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BRveoiXI.js";import"./Dn0bXcU5.js";import"./IpAEdaYr.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./DsvAftJq.js";import"./QtD4Idd3.js";import"./P_q-BwEt.js";/* empty css        */const Re={class:"category-select-dropdown"},Ie={key:0,class:"selected-item-display"},$e={class:"d-flex align-items-center"},Be={class:"item-info"},Te={class:"text-subtitle-1 font-weight-medium"},ze={key:0,class:"text-caption text-medium-emphasis"},We=ee({__name:"CategorySelectDropdown",props:{modelValue:{type:Object,default:null},errorMessage:{type:String,default:""},items:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},preSelectedItem:{type:Object,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:"Select an Item"},placeholder:{type:String,default:"Choose..."},itemTitle:{type:String,default:"name"},itemValue:{type:String,default:"slug"}},emits:["update:modelValue","item-selected"],setup(l,{emit:m}){const e=l,y=m,i=P(null),d=P(!1),g=P(!1),V=p(()=>e.errorMessage?[e.errorMessage]:[]),u=P(null);ie(()=>{e.modelValue?i.value=e.modelValue:e.preSelectedItem&&(i.value=e.preSelectedItem)}),H(()=>e.modelValue,c=>{c!==i.value&&(i.value=c,d.value=!1,g.value=!1)}),H(()=>e.preSelectedItem,c=>{c&&!i.value&&(i.value=c,d.value=!1,g.value=!1)});function h(){d.value=!0,g.value=!0}H(g,c=>{c||i.value&&(d.value=!1)});function k(c){i.value=c,y("update:modelValue",c),y("item-selected",c),c&&(d.value=!1,g.value=!1)}return(c,v)=>{const Y=le;return f(),D("div",Re,[i.value&&!d.value?(f(),D("div",Ie,[C("div",$e,[i.value.image_url?(f(),_(G,{key:0,image:i.value.image_url,size:"32",class:"mr-3"},null,8,["image"])):j("",!0),C("div",Be,[C("div",Te,J(i.value.name),1),i.value.description?(f(),D("div",ze,J(i.value.description),1)):j("",!0)])]),t(Y,{title:"Change",action:h,disabled:l.disabled,color:"primary",variant:"elevated",height:48,elevation:"2",customClass:"ml-4"},null,8,["disabled"])])):(f(),_(be,{key:1,ref_key:"selectRef",ref:u,modelValue:i.value,"onUpdate:modelValue":[v[0]||(v[0]=r=>i.value=r),k],items:l.items,loading:l.isLoading&&!l.items.length,disabled:l.disabled,menu:g.value,"onUpdate:menu":v[1]||(v[1]=r=>g.value=r),"item-title":l.itemTitle,"item-value":l.itemValue,label:l.label,placeholder:l.placeholder,"return-object":"",clearable:"",density:"comfortable",variant:"outlined","menu-props":{maxHeight:"400px"},class:"generic-category-select","error-messages":V.value,"hide-details":"auto"},{selection:o(({item:r})=>{var x,S;return[(x=r==null?void 0:r.raw)!=null&&x.image_url?(f(),_(G,{key:0,image:r.raw.image_url,size:"24",class:"mr-2"},null,8,["image"])):j("",!0),q(" "+J((S=r==null?void 0:r.raw)==null?void 0:S.name),1)]}),item:o(({item:r,props:x})=>{var S,L;return[t(re,me(x,{title:(S=r==null?void 0:r.raw)==null?void 0:S.name,subtitle:(L=r==null?void 0:r.raw)==null?void 0:L.description,class:"generic-category-item"}),{prepend:o(()=>{var R,N;return[(R=r==null?void 0:r.raw)!=null&&R.image_url?(f(),_(G,{key:0,image:(N=r==null?void 0:r.raw)==null?void 0:N.image_url,size:"40"},null,8,["image"])):j("",!0)]}),_:2},1040,["title","subtitle"])]}),loader:o(()=>[t(de,{indeterminate:"",color:"primary"})]),"no-data":o(()=>[t(re,null,{default:o(()=>[t(ce,{class:"text-center py-2"},{default:o(()=>v[2]||(v[2]=[q(" No items available ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","loading","disabled","menu","item-title","item-value","label","placeholder","error-messages"]))])}}}),Me=te(We,[["__scopeId","data-v-e13bd299"]]),Ue=ge("premieringCategories",{state:()=>({categories:[],categoriesWithProjects:[],currentCategory:null,currentCategoryProjects:[],loading:!1,error:null,pagination:{currentPage:1,lastPage:1,perPage:20,total:0}}),actions:{async fetchCategories(){const{fetchCategories:l,categories:m,error:e}=Q();this.loading=!0,this.error=null,await l(),this.categories=m.value,this.error=e.value,this.loading=!1},async fetchCategoriesWithProjects(){const{fetchCategoriesWithProjects:l,categoriesWithProjects:m,error:e}=Q();this.loading=!0,this.error=null,await l(),this.categoriesWithProjects=m.value,this.error=e.value,this.loading=!1},async fetchCategoryProjects(l,m=1){const{fetchCategoryProjects:e,currentCategory:y,currentCategoryProjects:i,pagination:d,error:g}=Q();this.loading=!0,this.error=null,await e(l,m),m===1?(this.currentCategory=y.value,this.currentCategoryProjects=i.value):this.currentCategoryProjects=[...this.currentCategoryProjects,...i.value],this.pagination=d.value,this.error=g.value,this.loading=!1},async loadMoreProjects(){!this.loading&&this.currentCategory&&this.pagination.currentPage<this.pagination.lastPage&&await this.fetchCategoryProjects(this.currentCategory.slug,this.pagination.currentPage+1)},resetCurrentCategory(){this.currentCategory=null,this.currentCategoryProjects=[],this.pagination={currentPage:1,lastPage:1,perPage:20,total:0}}},getters:{hasMorePages:l=>l.pagination.currentPage<l.pagination.lastPage,isLoading:l=>l.loading,getCategoryBySlug:l=>m=>l.categories.find(e=>e.slug===m)}}),De={class:"premiering-content"},Le={key:1},Ne=ee({__name:"PremieringPage",setup(l){const m=we(),e=Ce(),y=Ue(),i=pe(),d=P(null),g=P(null),V=P(!0),u=P(null),h=p(()=>y.categories),k=p(()=>y.loading&&h.value.length===0),c=p(()=>{var s,a,b,I,A,E,O,$,B,T,z,W,M,U;return{amount:((a=(s=e.requirements)==null?void 0:s.premiering_fee)==null?void 0:a.amount)||0,currency:{id:((A=(I=(b=e.requirements)==null?void 0:b.premiering_fee)==null?void 0:I.currency)==null?void 0:A.id)||0,name:(($=(O=(E=e.requirements)==null?void 0:E.premiering_fee)==null?void 0:O.currency)==null?void 0:$.name)||"",code:((z=(T=(B=e.requirements)==null?void 0:B.premiering_fee)==null?void 0:T.currency)==null?void 0:z.code)||"",symbol:((U=(M=(W=e.requirements)==null?void 0:W.premiering_fee)==null?void 0:M.currency)==null?void 0:U.symbol)||""}}}),v=p(()=>{var a;return`Premiering Fee for ${((a=e.selectedCategory)==null?void 0:a.name)||"Selected Category"}`}),{status:Y,isEligible:r}=Pe(c),x=p(()=>{const s=c.value.currency.code,a=c.value.amount,b=m.currentBalance;return`You need ${s}${a} to proceed, but your current balance is ${s}${b}.`}),S=p(()=>e.requirements&&!e.loading&&!e.error),L=s=>{u.value=s};H(()=>h.value,s=>{if(V.value&&s.length>0){const a=s.find(b=>b.slug==="music-video");a&&(g.value=a,d.value=a,R(a)),V.value=!1}},{immediate:!0});const R=async s=>{if(s)try{e.error=null,d.value=s,await e.selectCategory(s)}catch(a){console.error("Error selecting category:",a),s&&(e.error="Unable to load category requirements. Please try again.")}},N=()=>{if(r&&e.selectedCategory){const s=e.selectedCategory.slug;s?i.push(`/premiering/${s}`):console.error("Selected category does not have a slug.")}},ne=()=>{i.push("/help/premiering-guide")};return ie(async()=>{try{const s=[];m.wallet||s.push(m.fetchWallet()),h.value.length||s.push(y.fetchCategories()),await Promise.all(s)}catch(s){console.error("Error during initialization:",s)}}),fe(()=>{e.resetState()}),(s,a)=>{const b=Me,I=Se,A=le,E=Ve,O=xe;return f(),_(je,{fluid:""},{default:o(()=>[C("div",De,[t(F,{justify:"center"},{default:o(()=>[t(w,{cols:"12",md:"10",lg:"8"},{default:o(()=>{var $,B,T,z,W,M,U,ae;return[t(K,{class:"mb-6 pa-6",elevation:"10"},{default:o(()=>[a[1]||(a[1]=C("div",{class:"text-center mb-4"},[C("h2",{class:"text-h5 font-weight-bold mb-2"}," Start premiering by selecting a category that best fits your content. ")],-1)),t(b,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=ue=>d.value=ue),items:h.value,"is-loading":k.value,disabled:n(e).loading,"pre-selected-item":g.value,onItemSelected:R,label:"Select Premiering Category",placeholder:"Choose a category...","error-message":n(e).error,"item-title":"name","item-value":"slug"},null,8,["modelValue","items","is-loading","disabled","pre-selected-item","error-message"])]),_:1}),n(e).loading?(f(),D(ye,{key:0},[t(F,null,{default:o(()=>[t(w,{cols:"12",md:"6"},{default:o(()=>[t(X,{type:"card",height:"200",class:"mb-4"})]),_:1}),t(w,{cols:"12",md:"6"},{default:o(()=>[t(X,{type:"card",height:"200",class:"mb-4"})]),_:1})]),_:1}),t(X,{type:"card",height:"100",class:"mt-4"})],64)):S.value?(f(),D("div",Le,[t(F,{class:"mb-3"},{default:o(()=>[t(w,{cols:"12",md:"6"},{default:o(()=>[t(K,{flat:""},{default:o(()=>[t(oe,{class:"text-subtitle-1 py-2"},{default:o(()=>a[2]||(a[2]=[q("Main Video Requirements")])),_:1}),t(Z),t(se,{class:"pa-2"},{default:o(()=>[t(I,{loading:n(e).loading,error:n(e).error,"max-size":n(e).mainRequirements.maxSize,resolution:n(e).mainRequirements.resolution,format:n(e).mainRequirements.format,duration:n(e).mainRequirements.duration,layout:"vertical"},null,8,["loading","error","max-size","resolution","format","duration"])]),_:1})]),_:1})]),_:1}),t(w,{cols:"12",md:"6"},{default:o(()=>[t(K,{flat:""},{default:o(()=>[t(oe,{class:"text-subtitle-1 py-2"},{default:o(()=>a[3]||(a[3]=[q("Trailer Requirements")])),_:1}),t(Z),t(se,{class:"pa-2"},{default:o(()=>[t(I,{loading:n(e).loading,error:n(e).error,"max-size":n(e).trailerRequirements.maxSize,resolution:n(e).trailerRequirements.resolution,format:n(e).trailerRequirements.format,duration:n(e).trailerRequirements.duration,layout:"vertical"},null,8,["loading","error","max-size","resolution","format","duration"])]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{amount:((B=($=n(e).requirements)==null?void 0:$.premiering_fee)==null?void 0:B.amount)||0,"currency-symbol":((W=(z=(T=n(e).requirements)==null?void 0:T.premiering_fee)==null?void 0:z.currency)==null?void 0:W.symbol)||"","currency-code":((ae=(U=(M=n(e).requirements)==null?void 0:M.premiering_fee)==null?void 0:U.currency)==null?void 0:ae.code)||"",loading:n(e).loading,disabled:!n(r),"payment-label":v.value},{actions:o(()=>[n(r)?(f(),_(A,{key:0,title:"Continue To Upload",action:N,loading:n(e).loading,disabled:!n(r),color:"primary",variant:"elevated","full-width":!0,elevation:1,"custom-class":"continue-button",height:"48"},null,8,["loading","disabled"])):j("",!0)]),_:1},8,["amount","currency-symbol","currency-code","loading","disabled","payment-label"]),n(r)?j("",!0):(f(),_(O,{key:0,amount:c.value.amount,currency:c.value.currency,"wallet-status":n(Y),"payment-label":v.value,"insufficient-funds-message":x.value,onValidate:L,class:"mt-4"},null,8,["amount","currency","wallet-status","payment-label","insufficient-funds-message"]))])):(f(),_(F,{key:2,justify:"center",class:"mt-8"},{default:o(()=>[t(w,{cols:"12",md:"8",class:"text-center"},{default:o(()=>[t(Z,{class:"mb-8"}),a[6]||(a[6]=C("h3",{class:"text-h5 mb-4"},"Need Help Getting Started?",-1)),a[7]||(a[7]=C("p",{class:"text-medium-emphasis mb-4"}," Our support team is here to help you through the premiering process. ",-1)),t(he,{color:"primary",variant:"tonal",onClick:ne},{default:o(()=>[t(ve,{start:""},{default:o(()=>a[4]||(a[4]=[q("mdi-help-circle")])),_:1}),a[5]||(a[5]=q(" View Premiering Guide "))]),_:1})]),_:1})]),_:1}))]}),_:1})]),_:1})])]),_:1})}}}),Ae=te(Ne,[["__scopeId","data-v-ac309aa4"]]),Ee=ee({__name:"index",setup(l){const m=qe(),e=p(()=>m.talastageApp),y=p(()=>{var u;return((u=e.value)==null?void 0:u.name)||"TalaStage"}),i=p(()=>{var u;return(u=e.value)!=null&&u.name?`Premiere Your Project - ${e.value.name}`:"Premiere Your Project - TalaStage"}),d=p(()=>{var u;return(u=e.value)!=null&&u.seo_description?`Upload and premiere your music, movies, and other projects on ${e.value.seo_description}.`:"Upload and premiere your creative projects on TalaStage and share them with the world."}),g=p(()=>`${_e().public.frontendUrl}/premiering`),V=()=>{var u;return{"@context":"https://schema.org","@type":"WebPage",name:i.value,description:d.value,url:g.value,publisher:{"@type":"Organization",name:y.value,logo:{"@type":"ImageObject",url:((u=m.talastageApp)==null?void 0:u.logo_url)||"https://talastage.com/default-thumbnail.png"}}}};return ke({title:i,description:d,keywords:p(()=>{var u;return`upload, premiere, project, music, movie, video, share, ${((u=e.value)==null?void 0:u.meta_keywords)||"entertainment, creative, TalaStage"}`}),image:p(()=>{var u,h;return((u=e.value)==null?void 0:u.thumbnail_url)||((h=e.value)==null?void 0:h.logo_url)||"https://talastage.com/default-upload-page.png"}),type:"website",siteName:y,url:g,noIndex:!0,structuredDataFactory:V}),(u,h)=>{const k=Ae;return f(),_(k)}}}),wt=te(Ee,[["__scopeId","data-v-ce2f8c4e"]]);export{wt as default};

import{_ as Q}from"./DL649WMo.js";import{n as L,o as i,a as U,w as m,b as $,G as W,v as G,m as d,y as h,M as X,_ as M,p as n,F as D,D as I,A as Y,s as S,g as Z,j as f,u as j,c as r,t as A,l as H,B as ee,q as te,x as V,V as ae}from"./CGQimWOm.js";import{_ as se}from"./sCKccXa7.js";import{_ as oe}from"./DXm3zw6l.js";import{_ as le}from"./DVEFYz_L.js";import{V as w}from"./CS8xUUzH.js";import{V as B}from"./CRY4crBU.js";import{V as R}from"./f5lwX8SZ.js";import{V as E}from"./P_q-BwEt.js";import{u as re}from"./Rg_xdRgE.js";import{u as ne}from"./BW5EWlXk.js";import{u as ie}from"./D78L5r-E.js";import"./BkTuXOR_.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./DMLzsDc7.js";import"./GXZRJwQ4.js";/* empty css        */import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BvtSni_j.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./Dn0bXcU5.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";import"./C9TGCd7W.js";import"./DbQnG3uQ.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./DsvAftJq.js";import"./DjbnUXUR.js";import"./CkOuN04m.js";const ue={class:"d-flex align-center justify-space-between"},ce={class:"d-flex align-center"},pe={class:"category-info"},me={key:0,class:"text-subtitle-1 text-medium-emphasis mb-0 mt-1"},de={key:0,class:"category-actions d-flex align-center gap-2"},ge=L({__name:"CategoryHeader",props:{category:{},gradient:{type:Boolean,default:!1},titleClass:{default:"text-h3"}},setup(b){return(l,u)=>{const a=Q;return i(),U(a,{class:"category-header py-2 px-4"},{default:m(()=>{var t,e;return[$("div",ue,[$("div",ce,[$("div",pe,[$("h2",{class:W([l.titleClass||"text-h3","font-weight-bold",{"gradient-text":l.gradient}])},G((t=l.category)==null?void 0:t.name),3),(e=l.category)!=null&&e.description?(i(),d("p",me,G(l.category.description),1)):h("",!0)])]),l.$slots.actions?(i(),d("div",de,[X(l.$slots,"actions",{},void 0,!0)])):h("",!0)])]}),_:3})}}}),ve=M(ge,[["__scopeId","data-v-301ebca4"]]),_e={class:"users-grid"},ye={key:0,class:"loading mt-4"},fe={key:1,class:"text-center my-4"},he={key:2,class:"no-more-content text-center my-6"},$e={key:3,class:"text-center my-6"},Ce=L({__name:"UsersGrid",props:{users:{},isLoading:{type:Boolean},hasMore:{type:Boolean}},setup(b){return(l,u)=>{const a=le;return i(),d("div",_e,[n(B,null,{default:m(()=>[(i(!0),d(D,null,I(l.users,t=>(i(),U(w,{key:t.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:m(()=>[n(a,{user:t},null,8,["user"])]),_:2},1024))),128))]),_:1}),l.isLoading&&l.users.length===0?(i(),d("div",ye,[n(B,null,{default:m(()=>[(i(),d(D,null,I(6,t=>n(w,{key:t,cols:"12",sm:"6",md:"4",lg:"3"},{default:m(()=>[n(R,{type:"card"})]),_:2},1024)),64))]),_:1})])):h("",!0),l.isLoading&&l.users.length>0?(i(),d("div",fe,[n(Y,{indeterminate:"",color:"primary"})])):h("",!0),!l.hasMore&&l.users.length>0?(i(),d("div",he,[n(E,{type:"info",variant:"tonal"},{default:m(()=>u[0]||(u[0]=[S(" No more users to display. ")])),_:1})])):h("",!0),!l.isLoading&&l.users.length===0?(i(),d("div",$e,[n(E,{type:"warning",variant:"tonal"},{default:m(()=>u[1]||(u[1]=[S(" No users found for the selected filters. ")])),_:1})])):h("",!0)])}}}),Se=M(Ce,[["__scopeId","data-v-f4be1c4f"]]);function be(b){const{$axios:l}=Z(),u=f([]),a=f(!1),t=f(null),e=f(!0),o=f(1),s=f({country:null,talent:null}),c=async()=>{if(!(a.value||!e.value)){a.value=!0;try{const g={page:o.value,per_page:18};s.value.country&&(g.country=s.value.country),s.value.talent&&(g.talent=s.value.talent);const _=await l.get(`/guest/talent/categories/${b}/users`,{params:g}),N=_.data.users,F=_.data.meta.meta.last_page;o.value===1?u.value=N:u.value.push(...N),e.value=o.value<F,o.value++}catch(g){t.value=g}finally{a.value=!1}}};return{users:u,isLoading:a,error:t,hasMore:e,loadMore:()=>{c()},setFilters:g=>{s.value=g,u.value=[],o.value=1,e.value=!0,c()},resetUsers:()=>{u.value=[],o.value=1,e.value=!0,t.value=null}}}const xe={class:"filters-section mb-6"},Te={class:"d-flex justify-end mt-2"},ke={key:1},Ve={key:2},we={key:0,class:"text-center py-4 text-body-2 text-medium-emphasis"},Ne=L({__name:"TalentCategoryDetailPage",setup(b){const l=j(),u=r(()=>l.params.categorySlug),a=re(),t=r(()=>a.isFetchingCategory),e=r(()=>a.currentCategory),{users:o,isLoading:s,hasMore:c,loadMore:v,setFilters:z,resetUsers:C}=be(u.value),g=f(null),_=f(null),N=r(()=>g.value!==null||_.value!==null),F=()=>{g.value=null,_.value=null,C(),z({country:null,talent:null})};A([g,_],()=>{var y,p;C(),z({country:((y=g.value)==null?void 0:y.id)||null,talent:((p=_.value)==null?void 0:p.id)||null})},{deep:!0}),A(e,y=>{y&&(C(),v())});const x=f(null);let T=null;async function P(){try{await a.fetchCategoryBySlug(u.value)}catch(y){console.error("Error initializing data:",y)}}return H(()=>{C(),P(),T=new IntersectionObserver(y=>{y[0].isIntersecting&&c.value&&!s.value&&v()},{threshold:.5}),x.value&&T.observe(x.value)}),ee(()=>{T&&x.value&&(T.unobserve(x.value),T=null)}),A(u,()=>{a.resetTalents(),C(),F(),P()}),(y,p)=>{const q=ve,O=se,J=oe,K=Se;return i(),d("div",null,[e.value?(i(),U(q,{key:0,category:e.value,class:"mb-5"},null,8,["category"])):h("",!0),$("div",xe,[p[3]||(p[3]=$("h3",{class:"text-h6 mb-3"},"Find the perfect talent",-1)),n(B,null,{default:m(()=>[n(w,{cols:"12",sm:"6"},{default:m(()=>[n(O,{modelValue:g.value,"onUpdate:modelValue":p[0]||(p[0]=k=>g.value=k),label:"Filter by location",hint:"Find talent in specific countries"},null,8,["modelValue"])]),_:1}),n(w,{cols:"12",sm:"6"},{default:m(()=>[n(J,{modelValue:_.value,"onUpdate:modelValue":p[1]||(p[1]=k=>_.value=k),category:e.value,label:"Specific talent",hint:"Narrow down by specific skills"},null,8,["modelValue","category"])]),_:1})]),_:1}),$("div",Te,[N.value?(i(),U(te,{key:0,size:"small",variant:"text",color:"primary","prepend-icon":"mdi-filter-remove",onClick:F},{default:m(()=>p[2]||(p[2]=[S(" Clear filters ")])),_:1})):h("",!0)])]),t.value?(i(),d("div",ke,[n(E,{type:"info",variant:"tonal",class:"mb-4"},{default:m(()=>p[4]||(p[4]=[S(" Loading talent category information... ")])),_:1}),n(B,null,{default:m(()=>[(i(),d(D,null,I(12,k=>n(w,{key:k,cols:"12",sm:"6",md:"4",lg:"3",class:"pa-2"},{default:m(()=>[n(R,{type:"card"})]),_:2},1024)),64))]),_:1})])):(i(),d("div",Ve,[n(K,{users:V(o),isLoading:V(s),hasMore:V(c)},null,8,["users","isLoading","hasMore"])])),$("div",{ref_key:"infiniteScrollTrigger",ref:x,class:"infinite-scroll-trigger"},[V(c)&&!V(s)?(i(),d("div",we,[n(ae,{size:"small",class:"me-1"},{default:m(()=>p[5]||(p[5]=[S("mdi-gesture-swipe-up")])),_:1}),p[6]||(p[6]=S(" Scroll for more talent "))])):h("",!0)],512)])}}}),Fe=M(Ne,[["__scopeId","data-v-9ec3b71b"]]),Ue=L({__name:"index",setup(b){const l=ne(),u=j();H(async()=>{await l.fetchTalaStageApp()});const a=r(()=>l.talastageApp),t=r(()=>u.params.categorySlug);return ie({title:r(()=>{var s;const e=((s=a.value)==null?void 0:s.name)||"TalaStage";return`Talents in ${t.value?t.value.replace(/-/g," "):"Category"} - ${e}`}),description:r(()=>{var s;const e=((s=a.value)==null?void 0:s.name)||"TalaStage";return`Explore talented individuals in the ${t.value?t.value.replace(/-/g," "):"this category"} category on ${e}. Discover amazing artists and professionals.`}),keywords:r(()=>{var s;const e=((s=a.value)==null?void 0:s.name)||"TalaStage";return`talents, ${t.value?`${t.value.replace(/-/g," ")},`:""} talent, artists, professionals, discover, ${e}`}),image:r(()=>{var e;return((e=a.value)==null?void 0:e.logo_url)||"/default-social-image.png"}),type:"website",siteName:r(()=>{var e;return((e=a.value)==null?void 0:e.name)||"TalaStage"}),url:r(()=>{var o;const e=((o=a.value)==null?void 0:o.canonical_url)||"https://talastage.com";return t.value?`${e}/talents/categories/${t.value}`:`${e}/talents/categories`}),canonical:r(()=>{var o;const e=((o=a.value)==null?void 0:o.canonical_url)||"https://talastage.com";return t.value?`${e}/talents/categories/${t.value}`:`${e}/talents/categories`}),openGraph:r(()=>{var e,o;return{title:r(()=>{var v;const s=((v=a.value)==null?void 0:v.name)||"TalaStage";return`Talents in ${t.value?t.value.replace(/-/g," "):"Category"} - ${s}`}).value,description:r(()=>{var v;const s=((v=a.value)==null?void 0:v.name)||"TalaStage";return`Explore talented individuals in the ${t.value?t.value.replace(/-/g," "):"this category"} category on ${s}. Discover amazing artists and professionals.`}).value,url:r(()=>{var c;const s=((c=a.value)==null?void 0:c.canonical_url)||"https://talastage.com";return t.value?`${s}/talents/categories/${t.value}`:`${s}/talents/categories`}).value,image:((e=a.value)==null?void 0:e.logo_url)||"/default-social-image.png",siteName:((o=a.value)==null?void 0:o.name)||"TalaStage",type:"website"}}),twitter:r(()=>{var e;return{card:"summary_large_image",title:r(()=>{var c;const o=((c=a.value)==null?void 0:c.name)||"TalaStage";return`Talents in ${t.value?t.value.replace(/-/g," "):"Category"} - ${o}`}).value,description:r(()=>{var c;const o=((c=a.value)==null?void 0:c.name)||"TalaStage";return`Explore talented individuals in the ${t.value?t.value.replace(/-/g," "):"this category"} category on ${o}. Discover amazing artists and professionals.`}).value,image:((e=a.value)==null?void 0:e.logo_url)||"/default-social-image.png"}}),link:r(()=>{var e;return[{rel:"icon",href:((e=a.value)==null?void 0:e.favicon_url)||"/favicon.ico"}]})}),(e,o)=>{const s=Fe;return i(),d("div",null,[n(s)])}}}),yt=M(Ue,[["__scopeId","data-v-2dd37b2e"]]);export{yt as default};

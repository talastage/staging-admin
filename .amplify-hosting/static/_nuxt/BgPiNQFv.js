import{_ as J}from"./Cw5ECwNl.js";import{_ as K}from"./DL649WMo.js";import{_ as O}from"./BWXQ7vJw.js";import{_ as Q}from"./DlHEyw4l.js";import{_ as X}from"./Corpgyop.js";import{n as Y,k as Z,l as tt,c as m,o as i,m as _,p as s,b as n,x as t,a as l,w as r,s as c,v as u,V as et,F as g,D,y,q as k,_ as at}from"./CGQimWOm.js";import{u as ot}from"./BCoct7aH.js";import{u as st}from"./B3G4pkyN.js";import{u as rt}from"./YfmytIFT.js";import{u as it}from"./BW5EWlXk.js";import{u as nt}from"./D78L5r-E.js";import{V as f}from"./f5lwX8SZ.js";import{b as z,a as B}from"./BkTuXOR_.js";import{V as N}from"./CRY4crBU.js";import{V as v}from"./CS8xUUzH.js";import{V as lt}from"./P_q-BwEt.js";import{a as pt}from"./DsvAftJq.js";import{V as $}from"./BvtSni_j.js";import"./BeQTM7t9.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./tTgLLTve.js";import"./3SmzOII5.js";import"./DcSlHAeh.js";/* empty css        */import"./2hEmiBig.js";const mt={class:"payment-status-container"},ct={class:"text-h5 mb-4"},ut={class:"text-body-1 mb-4"},dt={class:"text-body-1"},_t={class:"text-caption text-medium-emphasis ml-2"},yt={class:"text-subtitle-1 font-weight-bold mb-3"},ft={key:2,class:"text-body-1 text-medium-emphasis"},gt=Y({__name:"tip-[reference]",setup(vt){const x=Z(),{formatRelativeDate:A,formatLocalDateTime:P}=ot(),{currencyFormatter:F}=st(),{currentPayment:e,loading:R,error:h,initPaymentDetail:E,getStatusColor:w,getStatusIcon:L,getPaymentTypeTitle:W,getRecipientTitle:I,formatStatus:M,projectPaymentTypes:H}=rt(),V=it(),U=a=>{x.push(`/watch/${a}`)},j=a=>{x.push(`/studio/projects/${a}/edit_draft`)};tt(async()=>{E(),await V.fetchTalaStageApp()});const p=m(()=>V.talastageApp);return nt({title:m(()=>{var a;return`Tip Details - ${((a=p.value)==null?void 0:a.name)||"TalaStage"}`}),description:m(()=>{var a;return((a=p.value)==null?void 0:a.seo_description)||"View details of your tip transaction on TalaStage"}),keywords:m(()=>{var a;return((a=p.value)==null?void 0:a.meta_keywords)||""}),image:m(()=>{var a,o;return((a=p.value)==null?void 0:a.thumbnail_url)||((o=p.value)==null?void 0:o.logo_url)||"https://talastage.com/app-logo.png"}),url:m(()=>{var a;return((a=p.value)==null?void 0:a.canonical_url)||"https://talastage.com"}),type:"website",siteName:m(()=>{var a;return((a=p.value)==null?void 0:a.name)||"TalaStage"}),twitter:{card:"summary_large_image",site:"@talastage"},script:m(()=>{var o;const a=(o=p.value)==null?void 0:o.schema_markup;return a?[{type:"application/ld+json",innerHTML:a}]:[]}),link:m(()=>{var a;return[{rel:"icon",type:"image/png",href:((a=p.value)==null?void 0:a.favicon_url)||"/favicon.png"}]})}),(a,o)=>{const q=J,C=K,T=O,G=Q,S=X;return i(),_("div",null,[s(q,{title:"Tip Details","margin-bottom":24}),n("div",mt,[t(R)?(i(),l(C,{key:0},{default:r(()=>[s(z,{class:"d-flex align-center pb-2"},{default:r(()=>[s(f,{type:"avatar",size:"32",class:"mr-2"}),s(f,{type:"text",width:"150"})]),_:1}),s(B,null,{default:r(()=>[s(N,null,{default:r(()=>[s(v,{cols:"12",sm:"6"},{default:r(()=>[s(f,{type:"heading",class:"mb-4"}),s(f,{type:"chip"})]),_:1}),s(v,{cols:"12",sm:"6"},{default:r(()=>[s(f,{type:"text",class:"mb-4"}),s(f,{type:"text"})]),_:1})]),_:1})]),_:1})]),_:1})):t(h)?(i(),l(lt,{key:1,type:"error",class:"mb-4"},{default:r(()=>[c(u(t(h)),1)]),_:1})):t(e)?(i(),l(C,{key:2},{default:r(()=>[s(z,{class:"d-flex align-center pb-2"},{default:r(()=>[s(et,{color:t(w)(t(e).status),size:"32",class:"mr-2"},{default:r(()=>[c(u(t(L)(t(e).status)),1)]),_:1},8,["color"]),c(" "+u(t(W)(t(e).payment_type)),1)]),_:1}),s(B,null,{default:r(()=>[s(N,null,{default:r(()=>[s(v,{cols:"12",sm:"6"},{default:r(()=>[o[2]||(o[2]=n("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount",-1)),n("div",ct,u(t(F)(t(e).amount,t(e).currency.symbol,t(e).currency.code)),1),o[3]||(o[3]=n("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status",-1)),s(pt,{color:t(w)(t(e).status),"text-color":"white"},{default:r(()=>[c(u(t(M)(t(e).status)),1)]),_:1},8,["color"])]),_:1}),s(v,{cols:"12",sm:"6"},{default:r(()=>[o[4]||(o[4]=n("div",{class:"text-subtitle-1 font-weight-bold mb-2"}," Reference ",-1)),n("div",ut,u(t(e).reference),1),o[5]||(o[5]=n("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date",-1)),n("div",dt,[c(u(t(P)(t(e).created_at))+" ",1),n("span",_t," ("+u(t(A)(t(e).created_at))+") ",1)])]),_:1})]),_:1}),s($,{class:"my-4"}),n("div",yt,u(t(I)(t(e).payment_type)),1),t(e).payment_type==="tip"?(i(),_(g,{key:0},[t(e).recipient?(i(),l(T,{key:0,user:t(e).recipient,size:"medium",layout:"compact"},null,8,["user"])):t(e).recipients&&t(e).recipients.length?(i(!0),_(g,{key:1},D(t(e).recipients,(d,b)=>(i(),_("div",{key:b,class:"mb-3"},[s(T,{user:d,size:"medium",layout:"compact"},null,8,["user"])]))),128)):y("",!0)],64)):t(H).includes(t(e).payment_type)?(i(),_(g,{key:1},[t(e).projects&&t(e).projects.length>0?(i(!0),_(g,{key:0},D(t(e).projects,(d,b)=>(i(),_("div",{key:d.id,class:"mb-4"},[s(S,{project:d,size:"md"},{actions:r(()=>[t(e).payment_type==="project_watching"?(i(),l(G,{key:0,"access-uuid":d.access_uuid,size:"md"},{default:r(()=>o[6]||(o[6]=[c(" Start Watching ")])),_:2},1032,["access-uuid"])):t(e).payment_type==="project_premiering"?(i(),l(k,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:bt=>j(d.access_uuid)},{default:r(()=>o[7]||(o[7]=[c(" Edit Draft ")])),_:2},1032,["onClick"])):y("",!0)]),_:2},1032,["project"]),b<t(e).projects.length-1?(i(),l($,{key:0,class:"my-3"})):y("",!0)]))),128)):t(e).project?(i(),l(S,{key:1,project:t(e).project,size:"md"},{actions:r(()=>[t(e).payment_type==="project_watching"?(i(),l(k,{key:0,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-play-circle-outline",onClick:o[0]||(o[0]=d=>U(t(e).project.access_uuid))},{default:r(()=>o[8]||(o[8]=[c(" Watch Now ")])),_:1})):t(e).payment_type==="project_premiering"?(i(),l(k,{key:1,color:"primary",variant:"tonal",size:"small","prepend-icon":"mdi-pencil",onClick:o[1]||(o[1]=d=>j(t(e).project.access_uuid))},{default:r(()=>o[9]||(o[9]=[c(" Edit Draft ")])),_:1})):y("",!0)]),_:1},8,["project"])):(i(),_("div",ft," No projects found for this payment. "))],64)):y("",!0)]),_:1})]),_:1})):y("",!0)])])}}}),Gt=at(gt,[["__scopeId","data-v-8e72255a"]]);export{Gt as default};

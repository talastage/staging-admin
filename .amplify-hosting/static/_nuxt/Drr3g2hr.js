import{_ as me}from"./Bem91KZK.js";import{L as pe,g as X,j as I,o as i,a as V,x,n as A,l as W,aM as fe,m as T,p as a,w as t,F as U,D as j,y as b,M as ge,b as S,_ as Z,z as Y,c as v,t as ye,C as ve,q as E,s as h,V as z,v as D,P as he}from"./CGQimWOm.js";import{u as be}from"./BJ8eCgsi.js";import{u as _e}from"./CgCCmWi5.js";import{_ as Ie}from"./UwQjOBYT.js";import{V as Ve}from"./C9TGCd7W.js";import{_ as Se}from"./DVEFYz_L.js";import{_ as ke}from"./Uy8WGKCW.js";import{_ as we}from"./Cxb8uY_z.js";import{V as L}from"./CRY4crBU.js";import{V as C}from"./CS8xUUzH.js";import{V as ee}from"./BhN2__aY.js";import{a as H,V as J}from"./BkTuXOR_.js";import{V as xe}from"./CiXMVmI4.js";import{a as G,V as Te}from"./DsvAftJq.js";import{a as Ce}from"./BSH7BhKc.js";import{u as Be}from"./BW5EWlXk.js";import{u as ze}from"./D78L5r-E.js";import"./CDtnx0aA.js";import"./DyYnZ78z.js";import"./DbQnG3uQ.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./xvVMJZi9.js";import"./Dn0bXcU5.js";import"./BvtSni_j.js";import"./IpAEdaYr.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./DjbnUXUR.js";import"./CkOuN04m.js";import"./f5lwX8SZ.js";/* empty css        */const Q={__name:"RegisterTalentButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String,default:"primary"},variant:{type:String,default:"elevated"},fullWidth:{type:Boolean,default:!1},prependIcon:{type:String,default:"mdi-account-plus"},appendIcon:{type:String,default:""},customClass:{type:String,default:""},elevation:{type:[Number,String],default:0},height:{type:[Number,String],default:40}},setup(n){const m=pe(),{$protectedAction:u}=X(),f=I(!1),d=()=>{m.push("/register/talent")},l=()=>{f.value=!0,u(()=>Promise.resolve(),{requiresAuth:!0,onSuccess:()=>{d()},onError:p=>{console.error("Error in protected action:",p)}}).finally(()=>{f.value=!1})};return(p,g)=>{const y=me;return i(),V(y,{title:"Register as Talent",action:l,color:n.color,variant:n.variant,disabled:n.disabled,loading:n.loading||x(f),"full-width":n.fullWidth,"prepend-icon":n.prependIcon,"append-icon":n.appendIcon,"custom-class":n.customClass,elevation:n.elevation,height:n.height},null,8,["color","variant","disabled","loading","full-width","prepend-icon","append-icon","custom-class","elevation","height"])}}},$e=A({__name:"CategorySelect",props:{modelValue:{type:[Number,Object],default:null},categories:{type:Array,required:!0,default:()=>[]},loading:{type:Boolean,default:!1},label:{type:String,default:"Category"},placeholder:{type:String,default:"Select category"},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},variant:{type:String,default:"outlined"},density:{type:String,default:"comfortable"},prependInnerIcon:{type:String,default:"mdi-tag-multiple"}},emits:["update:modelValue"],setup(n,{emit:m}){const u=m,f=d=>{u("update:modelValue",d)};return(d,l)=>(i(),V(Ve,{"model-value":n.modelValue,"onUpdate:modelValue":f,items:n.categories,"item-title":"name","item-value":"id",label:n.label,placeholder:n.placeholder,clearable:n.clearable,"hide-details":n.hideDetails,loading:n.loading,disabled:n.disabled,variant:n.variant,density:n.density,"prepend-inner-icon":n.prependInnerIcon,"return-object":""},null,8,["model-value","items","label","placeholder","clearable","hide-details","loading","disabled","variant","density","prepend-inner-icon"]))}}),Le={class:"talent-grid"},Fe=A({__name:"TalentGrid",props:{talents:{},isLoading:{type:Boolean,default:!1},hasMorePages:{type:Boolean,default:!1},cardSize:{default:"medium"}},emits:["load-more"],setup(n,{emit:m}){const u=n,f=m,d=I(null);return W(()=>{const l=new IntersectionObserver(([p])=>{p.isIntersecting&&u.hasMorePages&&!u.isLoading&&f("load-more")},{threshold:.1,rootMargin:"100px"});d.value&&l.observe(d.value),fe(()=>{l.disconnect()})}),(l,p)=>{const g=Se,y=ke,o=we;return i(),T("div",Le,[a(ee,{class:"pa-0"},{default:t(()=>[a(L,{class:"talent-grid__row"},{default:t(()=>[(i(!0),T(U,null,j(l.talents,s=>(i(),V(C,{key:s.id,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-grid__col"},{default:t(()=>[a(g,{user:s,size:l.cardSize},null,8,["user","size"])]),_:2},1024))),128)),l.isLoading&&!l.talents.length?(i(),T(U,{key:0},j(8,s=>a(C,{key:`skeleton-${s}`,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-grid__col"},{default:t(()=>[a(y,{size:l.cardSize},null,8,["size"])]),_:2},1024)),64)):b("",!0),l.isLoading&&l.talents.length?(i(),T(U,{key:1},j(4,s=>a(C,{key:`loading-more-${s}`,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-grid__col"},{default:t(()=>[a(y,{size:l.cardSize},null,8,["size"])]),_:2},1024)),64)):b("",!0)]),_:1}),!l.isLoading&&l.talents.length===0?(i(),V(L,{key:0},{default:t(()=>[a(C,{cols:"12",class:"text-center py-12"},{default:t(()=>[ge(l.$slots,"empty-state",{},()=>[a(o,{title:"No Talents Found",message:"We haven't found any talents in this category right now."})],!0)]),_:3})]),_:3})):b("",!0),!l.isLoading&&!l.hasMorePages&&l.talents.length>0?(i(),V(L,{key:1},{default:t(()=>[a(C,{cols:"12",class:"text-center py-4"},{default:t(()=>p[0]||(p[0]=[S("p",{class:"text-body-2 text-grey-darken-1"}," You've reached the end of the list ",-1)])),_:1})]),_:1})):b("",!0),l.hasMorePages?(i(),T("div",{key:2,ref_key:"intersectionTarget",ref:d,class:"intersection-target"},null,512)):b("",!0)]),_:3})])}}}),Ne=Z(Fe,[["__scopeId","data-v-80b270f6"]]),Re={class:"d-flex flex-column flex-md-row align-center justify-space-between"},Ae={key:0,class:"d-flex justify-end align-center mb-4"},Me={class:"d-flex flex-wrap justify-center gap-3"},Pe=A({__name:"TalentsPage",setup(n){const{$axios:m}=X(),u=I([]),f=I([]),d=I(!1),l=I(!1),p=I(!1),g=I(""),y=I(null),o=I([]),s=I(!0),{hasTalent:F,isTalentUndecided:te}=be(),_=Y({countryId:null,categoryId:null}),c=Y({countryId:null,categoryId:null}),ae=v(()=>!F.value||te.value),M=v(()=>!!c.countryId||!!c.categoryId),N=v(()=>y.value?y.value.current_page<y.value.last_page:!1),le=async()=>{if(!(u.value.length>0)){d.value=!0;try{const r=await m.get("/api/talents/countries");r.data&&r.data.countries&&(u.value=r.data.countries)}catch(r){console.error("Error fetching countries:",r)}finally{d.value=!1}}},ne=async()=>{if(!(f.value.length>0)){l.value=!0;try{const r=await m.get("/api/talents/categories");r.data&&r.data.categories&&(f.value=r.data.categories)}catch(r){console.error("Error fetching categories:",r)}finally{l.value=!1}}},oe=async r=>{const e={page:r,per_page:12};c.countryId&&(e.country_id=c.countryId.id),c.categoryId&&(e.category_id=c.categoryId.id),g.value&&(e.search=g.value);try{const w=await m.get("/api/talents",{params:e,timeout:8e3});if(w&&w.data){y.value=w.data.meta||null;const R=w.data.data||[];r===1?o.value=R:o.value=[...o.value,...R]}}catch(w){console.error("Error fetching talents:",w)}},{sentinelRef:se,isLoading:k,initLoader:B,loadNextPage:re}=_e(oe,N,{immediate:!1}),ie=v(()=>s.value||k.value),ue=()=>{c.countryId=_.countryId?{..._.countryId}:null,c.categoryId=_.categoryId?{..._.categoryId}:null,o.value=[],s.value=!0,B().finally(()=>{s.value=!1})},q=r=>{_[r]=null,c[r]=null,o.value=[],s.value=!0,B().finally(()=>{s.value=!1})},O=()=>{_.countryId=null,_.categoryId=null,c.countryId=null,c.categoryId=null,g.value="",o.value=[],s.value=!0,B().finally(()=>{s.value=!1})},de=()=>{p.value=!0,s.value=!0,o.value=[],B().finally(()=>{p.value=!1,s.value=!1})},K=()=>{g.value="",M.value&&(o.value=[],s.value=!0,B().finally(()=>{s.value=!1}))},ce=()=>{!k.value&&N.value&&re()};let P=null;return ye(g,r=>{if(P&&clearTimeout(P),!r){K();return}P=setTimeout(()=>{de()},500)}),W(async()=>{s.value=!0;try{await Promise.all([le(),ne()]),await B()}catch(r){console.error("Error fetching initial data:",r)}finally{s.value=!1}}),(r,e)=>{const w=Q,R=Q;return i(),V(ee,null,{default:t(()=>[a(J,{class:"mb-6 bg-primary-lighten-5 border-0",elevation:"10"},{default:t(()=>[a(H,{class:"py-6"},{default:t(()=>[S("div",Re,[e[4]||(e[4]=S("div",{class:"mb-4 mb-md-0"},[S("h1",{class:"text-h4 font-weight-bold text-primary mb-2"}," Find Talented individuals "),S("p",{class:"text-body-1 text-medium-emphasis mb-0"}," Discover skilled professionals from around the world. Connect with talents that match your needs and collaborate on exciting projects. ")],-1)),S("div",null,[x(F)?b("",!0):(i(),V(w,{key:0,variant:"flat",color:"primary",size:"large","prepend-icon":"mdi-account-plus"}))])])]),_:1})]),_:1}),a(J,{class:"mb-6",elevation:"1"},{default:t(()=>[a(H,null,{default:t(()=>[a(xe,{onSubmit:ve(ue,["prevent"])},{default:t(()=>[a(L,null,{default:t(()=>[a(C,{cols:"12",sm:"6"},{default:t(()=>[a(Ie,{modelValue:_.countryId,"onUpdate:modelValue":e[0]||(e[0]=$=>_.countryId=$),countries:u.value,loading:d.value,disabled:x(k)},null,8,["modelValue","countries","loading","disabled"])]),_:1}),a(C,{cols:"12",sm:"6"},{default:t(()=>[a($e,{modelValue:_.categoryId,"onUpdate:modelValue":e[1]||(e[1]=$=>_.categoryId=$),categories:f.value,loading:l.value,disabled:x(k)},null,8,["modelValue","categories","loading","disabled"])]),_:1})]),_:1}),a(L,{class:"mt-2"},{default:t(()=>[a(C,{cols:"12",class:"d-flex justify-end align-center"},{default:t(()=>[a(E,{variant:"text",class:"me-2",disabled:x(k)||!M.value,onClick:O},{default:t(()=>e[5]||(e[5]=[h(" Clear ")])),_:1},8,["disabled"]),a(E,{type:"submit",color:"primary",class:"px-6",loading:x(k),disabled:x(k)},{default:t(()=>[a(z,{start:""},{default:t(()=>e[6]||(e[6]=[h("mdi-filter")])),_:1}),e[7]||(e[7]=h(" Apply Filters "))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o.value.length>0&&(M.value||g.value)?(i(),T("div",Ae,[a(Te,null,{default:t(()=>[c.countryId?(i(),V(G,{key:0,closable:"",size:"small",class:"ml-2","onClick:close":e[2]||(e[2]=$=>q("countryId"))},{default:t(()=>[a(z,{start:"",size:"small"},{default:t(()=>e[8]||(e[8]=[h("mdi-map-marker")])),_:1}),h(" "+D(c.countryId.name),1)]),_:1})):b("",!0),c.categoryId?(i(),V(G,{key:1,closable:"",size:"small",class:"ml-2","onClick:close":e[3]||(e[3]=$=>q("categoryId"))},{default:t(()=>[a(z,{start:"",size:"small"},{default:t(()=>e[9]||(e[9]=[h("mdi-tag")])),_:1}),h(" "+D(c.categoryId.name),1)]),_:1})):b("",!0),g.value?(i(),V(G,{key:2,closable:"",size:"small",class:"ml-2","onClick:close":K},{default:t(()=>[a(z,{start:"",size:"small"},{default:t(()=>e[10]||(e[10]=[h("mdi-magnify")])),_:1}),h(" "+D(g.value),1)]),_:1})):b("",!0)]),_:1})])):b("",!0),a(Ne,{talents:o.value,"is-loading":ie.value,"has-more-pages":N.value,"card-size":"medium",onLoadMore:ce},{"empty-state":t(()=>[a(Ce,{class:"text-center py-8"},{default:t(()=>[a(z,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:t(()=>e[11]||(e[11]=[h("mdi-account-search")])),_:1}),e[14]||(e[14]=S("h3",{class:"text-h5 mb-2"},"No Talents Found",-1)),e[15]||(e[15]=S("p",{class:"text-body-1 text-medium-emphasis mb-6 mx-auto",style:{"max-width":"500px"}}," We couldn't find any talents matching your current filters. Try adjusting your search criteria or explore other options. ",-1)),S("div",Me,[a(E,{color:"primary",variant:"outlined",onClick:O},{default:t(()=>[a(z,{start:""},{default:t(()=>e[12]||(e[12]=[h("mdi-refresh")])),_:1}),e[13]||(e[13]=h(" Reset Filters "))]),_:1}),ae.value?(i(),V(R,{key:0,variant:"flat",color:"primary","prepend-icon":"mdi-account-plus"})):b("",!0)])]),_:1})]),_:1},8,["talents","is-loading","has-more-pages"]),N.value&&!x(k)&&!s.value?(i(),T("div",{key:1,ref_key:"sentinelRef",ref:se,class:"sentinel-element"},null,512)):b("",!0)]),_:1})}}}),Ue=Z(Pe,[["__scopeId","data-v-d853fa7d"]]),Ct=A({__name:"index",setup(n){he();const m=Be();W(async()=>{await m.fetchTalaStageApp()});const u=v(()=>{var o;return((o=m.talastageApp)==null?void 0:o.name)||"TalaStage"}),f=v(()=>{var o;return((o=m.talastageApp)==null?void 0:o.canonical_url)||"https://talastage.com"}),d=v(()=>{var o;return((o=m.talastageApp)==null?void 0:o.logo_url)||"/default-social-image.png"}),l=v(()=>`Discover Talents - ${u.value}`),p=v(()=>`Explore a diverse range of talented individuals and connect with the best talent on ${u.value}. Browse by category.`),g=v(()=>`talents, categories, find talent, connect, artists, professionals, ${u.value}`),y=v(()=>`${f.value}/talents`);return ze({title:l,description:p,keywords:g,image:d,type:"website",siteName:u,url:y,canonical:y,openGraph:v(()=>({title:l.value,description:p.value,url:y.value,image:d.value,siteName:u.value,type:"website"})),twitter:v(()=>({card:"summary_large_image",title:l.value,description:p.value,image:d.value}))}),(o,s)=>{const F=Ue;return i(),T("div",null,[a(F)])}}});export{Ct as default};

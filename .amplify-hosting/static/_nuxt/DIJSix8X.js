import{_ as G}from"./ChkTFCz_.js";import{_ as H}from"./DVEFYz_L.js";import{_ as Y}from"./DPoG3AgV.js";import{_ as J}from"./DM0UXmJz.js";import{n as z,u as L,j as p,c as r,l as R,o as m,m as _,p as n,w as s,b as g,q as C,s as f,a as x,y as h,F as N,D as F,V as O,du as Q,bH as B,_ as W}from"./CGQimWOm.js";import{u as X}from"./Bqf7UgIb.js";import{V as U}from"./CRY4crBU.js";import{V as A}from"./CS8xUUzH.js";import{V as Z}from"./f5lwX8SZ.js";import{V as ee}from"./BEy3SeWo.js";import{V as ae,b as te,a as le,c as oe}from"./BkTuXOR_.js";import{V as ne}from"./CMsVONS5.js";import{V as ie}from"./GXZRJwQ4.js";import{V as se}from"./BcH3Kywr.js";import{u as re}from"./BW5EWlXk.js";import{u as ue}from"./D78L5r-E.js";import"./DJ0NdY24.js";import"./CjukEv2V.js";import"./BSH7BhKc.js";import"./CkOuN04m.js";import"./BvtSni_j.js";import"./xvVMJZi9.js";/* empty css        */import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./C-GTDzx5.js";import"./IpAEdaYr.js";const ce={class:"collection-page"},de={class:"d-flex gap-2 flex-wrap"},me={class:"page-content"},pe={key:0,class:"loading-state"},ve={key:1,class:"empty-state"},fe={class:"text-center"},_e={key:2,class:"talents-grid"},ge=z({__name:"TalentCollectionDetailPage",setup(E){const $=L(),V=X(),e=p(null),o=p([]),t=p(!0),l=p(!1),i=p(!1),d=p(!1),y=p(!1),v=p(""),T=p(""),I=r(()=>{var c;return`Are you sure you want to delete "${(c=e.value)==null?void 0:c.name}"? This action cannot be undone.`}),M=async()=>{try{const c=await V.fetchCollection($.params.id);e.value=c.collection,o.value=c.talents.data,v.value=e.value.name}catch(c){console.error("Failed to fetch collection:",c),B("/talents/collections")}finally{t.value=!1}},S=async()=>{if(v.value.trim()){l.value=!0,T.value="";try{await V.updateCollection(e.value.id,{name:v.value.trim()}),e.value.name=v.value.trim(),d.value=!1}catch(c){T.value=c.message||"Failed to update collection"}finally{l.value=!1}}},K=async()=>{var c;if(!(!((c=e.value)!=null&&c.id)||i.value)){i.value=!0;try{await V.deleteCollection(e.value.id)&&(y.value=!1,setTimeout(()=>{B("/talents/collections",{replace:!0,force:!0})},300))}catch(a){console.error("Failed to delete collection:",a)}finally{i.value=!1}}},P=(c,a)=>{const w=o.value.find(b=>b.id===c);w&&(w.is_fanned_by_auth_user=a)};return R(M),(c,a)=>{var k;const w=G,b=H,j=Y,q=J;return m(),_("div",ce,[n(j,{title:((k=e.value)==null?void 0:k.name)||"Loading...",subtitle:e.value?"Manage your saved talents":""},{action:s(()=>[g("div",de,[n(C,{variant:"text",to:"/talents/collections",class:"back-button","prepend-icon":"mdi-arrow-left"},{default:s(()=>a[6]||(a[6]=[f(" Back to Collections ")])),_:1}),e.value?(m(),x(C,{key:0,"prepend-icon":"mdi-pencil",variant:"tonal",onClick:a[0]||(a[0]=u=>d.value=!0)},{default:s(()=>a[7]||(a[7]=[f(" Rename ")])),_:1})):h("",!0),e.value?(m(),x(C,{key:1,color:"error",variant:"tonal","prepend-icon":"mdi-delete",onClick:a[1]||(a[1]=u=>y.value=!0)},{default:s(()=>a[8]||(a[8]=[f(" Delete ")])),_:1})):h("",!0)])]),content:s(()=>[g("div",me,[t.value?(m(),_("div",pe,[n(U,null,{default:s(()=>[(m(),_(N,null,F(4,u=>n(A,{key:u,cols:"12",sm:"6",md:"4",lg:"3",class:"mb-6"},{default:s(()=>[n(Z,{type:"image, card, actions"})]),_:2},1024)),64))]),_:1})])):o.value.length?(m(),_("div",_e,[n(U,null,{default:s(()=>[(m(!0),_(N,null,F(o.value,u=>(m(),x(A,{key:u.id,cols:"12",sm:"6",md:"4",lg:"3",class:"talent-column"},{default:s(()=>[n(b,{user:u,size:"medium",class:"talent-card",elevation:"0"},{action:s(()=>[n(w,{username:u.username,"initial-fanning-state":u.is_fanned_by_auth_user,onFanningUpdated:D=>P(u.id,D)},null,8,["username","initial-fanning-state","onFanningUpdated"])]),_:2},1032,["user"])]),_:2},1024))),128))]),_:1})])):(m(),_("div",ve,[n(ee,{class:"pa-16 rounded-lg",color:"surface-variant"},{default:s(()=>[g("div",fe,[n(O,{icon:"mdi-account-group-outline",size:"64",class:"mb-6",color:"medium-emphasis"}),a[10]||(a[10]=g("h2",{class:"text-h5 mb-4"},"Start Your Collection",-1)),a[11]||(a[11]=g("p",{class:"text-body-1 text-medium-emphasis mb-8"}," Discover and add talented individuals to your collection ",-1)),n(C,{color:"primary",size:"large","prepend-icon":"mdi-plus",to:"/talents"},{default:s(()=>a[9]||(a[9]=[f(" Browse Talents ")])),_:1})])]),_:1})]))])]),_:1},8,["title","subtitle"]),n(se,{modelValue:d.value,"onUpdate:modelValue":a[4]||(a[4]=u=>d.value=u),"max-width":"480"},{default:s(()=>[n(ae,{class:"dialog-card"},{default:s(()=>[n(te,{class:"dialog-title pa-6"},{default:s(()=>a[12]||(a[12]=[f(" Rename Collection ")])),_:1}),n(le,{class:"dialog-content pa-6 pt-0"},{default:s(()=>[n(ne,{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=u=>v.value=u),label:"Collection name",variant:"outlined","error-messages":T.value,autofocus:"",onKeyup:Q(S,["enter"])},null,8,["modelValue","error-messages"])]),_:1}),n(oe,{class:"dialog-actions pa-6 pt-0"},{default:s(()=>{var u;return[n(ie),n(C,{variant:"tonal",onClick:a[3]||(a[3]=D=>d.value=!1)},{default:s(()=>a[13]||(a[13]=[f(" Cancel ")])),_:1}),n(C,{color:"primary",loading:l.value,disabled:!v.value.trim()||v.value===((u=e.value)==null?void 0:u.name),onClick:S},{default:s(()=>a[14]||(a[14]=[f(" Save Changes ")])),_:1},8,["loading","disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"]),g("template",null,[n(q,{"model-value":y.value,title:"Delete Collection",message:I.value,loading:i.value,onConfirm:K,onCancel:a[5]||(a[5]=u=>y.value=!1)},null,8,["model-value","message","loading"])])])}}}),Ce=W(ge,[["__scopeId","data-v-c9bb395c"]]),Je=z({__name:"[id]",setup(E){const $=re(),V=L();R(async()=>{await $.fetchTalaStageApp()});const e=r(()=>$.talastageApp),o=r(()=>V.params.uuid);return ue({title:r(()=>{var l;const t=((l=e.value)==null?void 0:l.name)||"TalaStage";return o.value?`Collection Details - ${o.value} - ${t}`:`Talent Collection Details - ${t}`}),description:r(()=>{var l;const t=((l=e.value)==null?void 0:l.name)||"TalaStage";return o.value?`View the detailed information for talent collection ${o.value} on ${t}.`:`View the detailed information for a talent collection on ${t}.`}),keywords:r(()=>{var t;return`talent collection, details, organize talents, view collection, ${((t=e.value)==null?void 0:t.name)||"TalaStage"}`}),image:r(()=>{var t;return((t=e.value)==null?void 0:t.logo_url)||"https://talastage.com/social-card.png"}),type:"website",siteName:r(()=>{var t;return((t=e.value)==null?void 0:t.name)||"TalaStage"}),url:r(()=>{var t,l;return(t=e.value)!=null&&t.canonical_url&&o.value?`${e.value.canonical_url}/talents/collections/${o.value}`:(l=e.value)!=null&&l.canonical_url?`${e.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"}),noIndex:!0,canonical:r(()=>{var t,l;return(t=e.value)!=null&&t.canonical_url&&o.value?`${e.value.canonical_url}/talents/collections/${o.value}`:(l=e.value)!=null&&l.canonical_url?`${e.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"}),openGraph:r(()=>{var t,l;return{title:r(()=>{var d;const i=((d=e.value)==null?void 0:d.name)||"TalaStage";return o.value?`Collection Details - ${o.value} - ${i}`:`Talent Collection Details - ${i}`}).value,description:r(()=>{var d;const i=((d=e.value)==null?void 0:d.name)||"TalaStage";return o.value?`View the detailed information for talent collection ${o.value} on ${i}.`:`View the detailed information for a talent collection on ${i}.`}).value,url:r(()=>{var i,d;return(i=e.value)!=null&&i.canonical_url&&o.value?`${e.value.canonical_url}/talents/collections/${o.value}`:(d=e.value)!=null&&d.canonical_url?`${e.value.canonical_url}/talents/collections`:"https://talastage.com/talents/collections"}).value,image:((t=e.value)==null?void 0:t.logo_url)||"https://talastage.com/social-card.png",siteName:((l=e.value)==null?void 0:l.name)||"TalaStage",type:"website"}}),twitter:r(()=>{var t;return{card:"summary_large_image",title:r(()=>{var i;const l=((i=e.value)==null?void 0:i.name)||"TalaStage";return o.value?`Collection Details - ${o.value} - ${l}`:`Talent Collection Details - ${l}`}).value,description:r(()=>{var i;const l=((i=e.value)==null?void 0:i.name)||"TalaStage";return o.value?`View the detailed information for talent collection ${o.value} on ${l}.`:`View the detailed information for a talent collection on ${l}.`}).value,image:((t=e.value)==null?void 0:t.logo_url)||"https://talastage.com/social-card.png"}}),link:r(()=>{var t;return[{rel:"icon",href:((t=e.value)==null?void 0:t.favicon_url)||"/favicon.ico"}]})}),(t,l)=>{const i=Ce;return m(),_("div",null,[n(i)])}}});export{Je as default};

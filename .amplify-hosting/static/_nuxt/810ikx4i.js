import{_ as q,a as D}from"./s7l6FqLC.js";import{_ as F}from"./Cxb8uY_z.js";import{_ as I}from"./DPoG3AgV.js";import{u as N}from"./YfmytIFT.js";import{u as E}from"./CgCCmWi5.js";import{V as U}from"./DbQnG3uQ.js";import{n as P,a6 as z,j,t as Y,o as n,m as l,p as o,w as s,b as m,G,x as e,F as H,D as M,A as O,a as f,s as y,y as V,q as k,V as T,v as J,_ as C,P as K,L as Q}from"./CGQimWOm.js";import{a as W}from"./DsvAftJq.js";import{V as X}from"./P_q-BwEt.js";import{V as Z}from"./BhN2__aY.js";import"./DL649WMo.js";import"./BkTuXOR_.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./f5lwX8SZ.js";import"./BeQTM7t9.js";import"./BCoct7aH.js";import"./B3G4pkyN.js";import"./BvtSni_j.js";import"./CDtnx0aA.js";import"./DyYnZ78z.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./Dn0bXcU5.js";import"./IpAEdaYr.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";/* empty css        */const tt={class:"user-payments"},et={class:"filter-controls"},ot={key:0,class:"skeleton-container"},st={key:1,class:"payments-container"},nt={key:0,class:"loading-more"},at={key:2,class:"empty-state-container"},rt={class:"d-flex flex-column"},it={class:"text-body-2 mt-1"},lt=P({__name:"UserPaymentsPage",setup(b){const{mobile:p,smAndDown:v,mdAndDown:c}=z(),r=j("all"),u=[{title:"All Statuses",value:"all"},{title:"Completed",value:"completed"},{title:"Pending",value:"pending"},{title:"Failed",value:"failed"}],{payments:a,loading:_,error:i,hasMore:x,fetchPayments:h}=N(),{sentinelRef:L,initLoader:g}=E(h,x,{immediate:!0}),w=()=>{i.value=null,a.value=[],g()};return Y(r,()=>{a.value=[],g()}),(S,t)=>{const $=q,A=D,B=F,R=I;return n(),l("div",tt,[o(R,{title:"Payment History",subtitle:"View and manage your payment transactions"},{action:s(()=>[m("div",et,[o(U,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=d=>r.value=d),items:u,label:"Filter by Status",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-filter-variant",class:G(["filter-select",{"filter-select-mobile":e(p)}])},null,8,["modelValue","class"])])]),content:s(()=>[e(_)&&!e(a).length?(n(),l("div",ot,[(n(),l(H,null,M(3,d=>o($,{key:d})),64))])):e(a).length?(n(),l("div",st,[o(A,{payments:e(a),loading:e(_)},null,8,["payments","loading"]),m("div",{ref_key:"sentinelRef",ref:L,class:"d-flex justify-center my-6"},[e(_)?(n(),l("div",nt,[o(O,{indeterminate:"",color:"primary",size:"28",width:"3"}),t[3]||(t[3]=m("span",{class:"text-body-2 text-medium-emphasis ml-3"}," Loading more payments... ",-1))])):e(x)?V("",!0):(n(),f(W,{key:1,variant:"tonal",color:"primary","prepend-icon":"mdi-check-circle",class:"end-message"},{default:s(()=>t[4]||(t[4]=[y(" All payments loaded ")])),_:1}))],512)])):(n(),l("div",at,[o(B,{title:"No Payments Found",message:"You haven't made any payments yet. Your payment history will appear here once you start making transactions.",icon:"mdi-credit-card-outline","icon-color":"primary"},{default:s(()=>[o(k,{color:"primary",variant:"elevated","prepend-icon":"mdi-plus",onClick:t[1]||(t[1]=d=>S.$router.push("/premieres"))},{default:s(()=>t[5]||(t[5]=[y(" Explore Premieres ")])),_:1})]),_:1})])),e(i)?(n(),f(X,{key:3,type:"error",variant:"tonal",class:"mt-4 error-alert",closable:"","onClick:close":t[2]||(t[2]=d=>i.value=null)},{prepend:s(()=>[o(T,{icon:"mdi-alert-circle"})]),append:s(()=>[o(k,{variant:"text",size:"small",onClick:w},{default:s(()=>t[7]||(t[7]=[y(" Retry ")])),_:1})]),default:s(()=>[m("div",rt,[t[6]||(t[6]=m("strong",null,"Error Loading Payments",-1)),m("span",it,J(e(i)),1)])]),_:1})):V("",!0)]),_:1})])}}}),mt=C(lt,[["__scopeId","data-v-18947f47"]]),pt=P({__name:"index",setup(b){const p=K(),v=Q(),c=p.query.tx_ref,r=p.query.transaction_id,u=p.query.status;if(c){const a={...u&&{status:u},...r&&{transaction_id:r},tx_ref:c};v.replace({path:`/payments/payment-${c}`,query:a})}return(a,_)=>{const i=mt;return n(),f(Z,{class:"payments-page"},{default:s(()=>[o(i)]),_:1})}}}),Jt=C(pt,[["__scopeId","data-v-d1de2687"]]);export{Jt as default};

import{_ as W}from"./Bem91KZK.js";import{_ as X}from"./Cw5ECwNl.js";import{_ as Z}from"./UwQjOBYT.js";import{_ as ee}from"./DL649WMo.js";import{_ as D,k as M,a6 as te,c as $,o as s,a as c,w as t,p as e,b as u,G as N,v as T,V as q,x as m,y as h,q as oe,s as E,n as O,m as C,D as j,F as z,u as se,g as ae,j as P,z as re,l as ne}from"./CGQimWOm.js";import{V as ie}from"./BSH7BhKc.js";import{V as A}from"./f5lwX8SZ.js";import{c as le,V as ce}from"./BkTuXOR_.js";import{V as g}from"./CS8xUUzH.js";import{V as R}from"./P_q-BwEt.js";import{V as w}from"./CRY4crBU.js";import{u as ue}from"./CgCCmWi5.js";import{V as me}from"./BhN2__aY.js";import"./C9TGCd7W.js";import"./DbQnG3uQ.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./xvVMJZi9.js";import"./Dn0bXcU5.js";import"./BvtSni_j.js";import"./IpAEdaYr.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./DsvAftJq.js";import"./DjbnUXUR.js";/* empty css        */import"./CDtnx0aA.js";import"./DyYnZ78z.js";const pe={class:"card-content"},de={class:"d-flex align-center justify-space-between"},fe={class:"d-flex align-center my-1"},ge={class:"mt-2"},_e={__name:"PageInvestorCard",props:{page:{type:Object,required:!0}},setup(r){const n=r,_=M(),{smAndDown:i,width:p}=te(),l=$(()=>p.value<400?120:p.value<600?140:160),f=$(()=>i.value?"text-subtitle-2":"text-subtitle-1"),I=$(()=>i.value?"text-caption":"text-body-2"),V=$(()=>i.value?"text-subtitle-2":"text-subtitle-1"),d=()=>{_.push(`/profile/${n.page.type}/${n.page.slug}`)};return(L,y)=>(s(),c(ce,{class:"investor-card",elevation:"2"},{default:t(()=>{var B;return[e(ie,{src:r.page.avatar_url,height:l.value,cover:"",class:"cursor-pointer",onClick:d},{placeholder:t(()=>[e(A,{type:"image"})]),_:1},8,["src","height"]),u("div",pe,[u("div",de,[u("div",{class:N(["text-truncate font-weight-bold",f.value])},T(r.page.name),3),r.page.is_verified?(s(),c(q,{key:0,color:"primary",icon:"mdi-check-decagram",size:m(i)?"x-small":"small"},null,8,["size"])):h("",!0)]),u("div",fe,[e(q,{icon:"mdi-map-marker",size:m(i)?"x-small":"small",color:"grey",class:"me-1"},null,8,["size"]),u("span",{class:N([I.value,"text-medium-emphasis"])},T(r.page.country),3)]),u("div",ge,[y[0]||(y[0]=u("div",{class:"text-caption text-medium-emphasis"},"Max Project Budget",-1)),u("div",{class:N([V.value,"font-weight-bold primary--text"])},T((B=r.page.investment_settings)==null?void 0:B.formatted_amount),3)])]),e(le,{class:"card-actions"},{default:t(()=>[e(oe,{block:"",color:"primary",variant:"tonal",to:`/profile/${r.page.type}/${r.page.slug}`,class:"text-none",size:m(i)?"x-small":"small"},{default:t(()=>y[1]||(y[1]=[E(" View Profile ")])),_:1},8,["to","size"])]),_:1})]}),_:1}))}},ye=D(_e,[["__scopeId","data-v-fe5c37c3"]]),ve=O({__name:"PageGrid",props:{pages:{},loading:{type:Boolean},pageType:{}},setup(r){return(n,_)=>{const i=ye;return s(),c(w,null,{default:t(()=>[(s(!0),C(z,null,j(n.pages,p=>(s(),c(g,{key:p.id,cols:"12",sm:"6",md:"3",class:"d-flex"},{default:t(()=>[e(i,{page:p,pageType:n.pageType,class:"w-100"},null,8,["page","pageType"])]),_:2},1024))),128)),!n.pages.length&&!n.loading?(s(),c(g,{key:0,cols:"12"},{default:t(()=>[e(R,{type:"info",variant:"tonal",border:"start",class:"mb-0"},{default:t(()=>_[0]||(_[0]=[E(" No pages found. ")])),_:1})]),_:1})):h("",!0)]),_:1})}}}),F="investor",S=15,xe=O({__name:"index",setup(r){const n=M(),_=se(),i=()=>{n.push("/investors/investor/register")},{$axios:p}=ae(),l=P([]),f=P(!0),I=P([]),V=P(!1),d=re({country_id:null,status:"active"}),L=async()=>{V.value=!0;try{const o=await p.get(`/api/pages/category/${F}/countries`);I.value=o.data.countries}catch(o){console.error("Error fetching countries:",o)}finally{V.value=!1}},y=async o=>{const a={...d,page:o,per_page:S};Object.keys(a).forEach(x=>{(a[x]===null||Array.isArray(a[x])&&a[x].length===0)&&delete a[x]});const b=(await p.get(`/api/pages/category/${F}`,{params:a})).data.data;o===1?l.value=b:l.value=[...l.value,...b],f.value=b.length===S},{sentinelRef:B,isLoading:v,initLoader:H}=ue(y,f),Q=()=>{const o={};d.country_id&&(o.country_id=String(d.country_id)),n.replace({query:o})},U=()=>{const o=_.query;o.country_id&&(d.country_id=Number(o.country_id))},Y=()=>{f.value=!0,H(),Q()};return ne(async()=>{try{await L(),U()}catch(o){console.error("Error during initialization:",o)}}),(o,a)=>{const G=W,b=X,x=Z,J=ee,K=ve;return s(),c(me,null,{default:t(()=>[e(b,{title:"Become an Investor",subtitle:"Invest in projects, earn from views, and grow your portfolio as an investor.","margin-bottom":"1.5rem"},{actionable:t(()=>[e(G,{title:"Become an Investor",action:i,color:"primary"})]),_:1}),e(J,{class:"mb-4"},{default:t(()=>[e(w,{align:"center","no-gutters":""},{default:t(()=>[e(g,{cols:"12",sm:"12",md:"5",lg:"4",class:"px-4 py-2"},{default:t(()=>a[1]||(a[1]=[u("h1",{class:"text-h4 text-sm-h4 text-md-h3 font-weight-bold mb-0"}," Find Investors for your project ",-1)])),_:1}),e(g,{cols:"12",sm:"12",md:"7",lg:"8",class:"px-4 py-2"},{default:t(()=>[e(x,{modelValue:d.country_id,"onUpdate:modelValue":[a[0]||(a[0]=k=>d.country_id=k),Y],countries:I.value,loading:V.value,disabled:m(v)},null,8,["modelValue","countries","loading","disabled"])]),_:1})]),_:1})]),_:1}),m(v)&&l.value.length===0?(s(),c(w,{key:0},{default:t(()=>[(s(),C(z,null,j(6,k=>e(g,{key:k,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(A,{type:"card"})]),_:2},1024)),64))]),_:1})):(s(),C(z,{key:1},[e(K,{pages:l.value,loading:m(v),pageType:"investor"},null,8,["pages","loading"]),m(v)&&l.value.length>0?(s(),c(w,{key:0},{default:t(()=>[(s(),C(z,null,j(3,k=>e(g,{key:k,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(A,{type:"card"})]),_:2},1024)),64))]),_:1})):h("",!0),f.value?(s(),C("div",{key:1,ref_key:"sentinelRef",ref:B,class:"sentinel"},null,512)):h("",!0),!f.value&&l.value.length>0&&!m(v)?(s(),c(R,{key:2,type:"info",text:"",class:"text-center my-4"},{default:t(()=>a[2]||(a[2]=[E(" No more investors to load ")])),_:1})):h("",!0),l.value.length===0&&!m(v)?(s(),c(w,{key:3,justify:"center"},{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(R,{type:"info",text:"No investors found matching your criteria."})]),_:1})]),_:1})):h("",!0)],64))]),_:1})}}}),st=D(xe,[["__scopeId","data-v-ae852376"]]);export{st as default};

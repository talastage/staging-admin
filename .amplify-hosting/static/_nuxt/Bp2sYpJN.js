import{f,j as a,g as y,c as d}from"./CGQimWOm.js";const g=f("currency",()=>{const c=a([]),t=a(null),n=a(!1),r=a(!1),{$axios:s}=y(),i=d(()=>t.value?t.value:c.value.find(e=>e.is_default)||null),o=async()=>{if(!r.value){r.value=!0;try{const e=await s.get("/api/currencies"),{data:u,user_currency:l}=e.data;c.value=u,t.value=l,n.value=!0}catch(e){console.error("Error fetching currencies:",e)}finally{r.value=!1}}};return{currencies:c,selectedCurrency:i,userCurrency:t,isFetched:n,isLoading:r,fetchCurrencies:o,fetchGuestCurrencies:async()=>{if(!r.value){r.value=!0;try{const e=await s.get("/api/currencies");c.value=e.data.data,n.value=!0}catch(e){console.error("Error fetching guest currencies:",e)}finally{r.value=!1}}},updateCurrency:async e=>{try{await s.post("/api/user/currency",{currency_code:e}),await o()}catch(u){throw console.error("Error updating currency:",u),u}}}});export{g as u};

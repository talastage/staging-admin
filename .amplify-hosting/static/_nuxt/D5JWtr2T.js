import{_ as F}from"./FspEDv8o.js";import{V as k}from"./f5lwX8SZ.js";import{V as j}from"./CS8xUUzH.js";import{V as B}from"./CRY4crBU.js";import{n as I,o as l,m as b,b as d,p as n,w as i,F as T,D as M,k as O,a as g,M as L,q as z,x as f,v as H,_ as q,V as G,y as K,u as Q,j as N,c as u,t as v,l as J,Q as X}from"./CGQimWOm.js";import{_ as Y}from"./DL649WMo.js";import{_ as Z}from"./f6uf29Wa.js";import{V as ee}from"./P_q-BwEt.js";import{V as te}from"./BkTuXOR_.js";import{V as re}from"./BhN2__aY.js";import{u as h}from"./D78L5r-E.js";import{u as ae}from"./DZ_gEEDV.js";import{u as oe}from"./De3D2xlH.js";/* empty css        */import"./3SmzOII5.js";import"./DcSlHAeh.js";import"./BSH7BhKc.js";import"./BeQTM7t9.js";import"./xvVMJZi9.js";import"./Corpgyop.js";import"./BCoct7aH.js";import"./CDtnx0aA.js";import"./DyYnZ78z.js";const ne={class:"category-skeleton mb-12"},se={class:"d-flex align-center mb-6"},ie=I({__name:"ProjectCategorySkeleton",props:{projectCount:{type:Number,default:4}},setup(a){return(m,o)=>{const c=F;return l(),b("div",ne,[d("div",se,[n(k,{type:"avatar",size:"40",class:"mr-3"}),n(k,{type:"text",width:"200"})]),n(B,null,{default:i(()=>[(l(),b(T,null,M(4,s=>n(j,{key:s,cols:"12",sm:"6",md:"4",lg:"3"},{default:i(()=>[n(c)]),_:2},1024)),64))]),_:1})])}}}),le={class:"d-flex align-center"},ce={class:"text-h4"},ue=I({__name:"PremieringCategoryHeader",props:{category:{}},setup(a){const m=O();return(o,c)=>{const s=Y;return l(),g(s,{class:"category-header"},{default:i(()=>{var t;return[d("div",le,[L(o.$slots,"prepend",{},()=>[n(z,{icon:"mdi-arrow-left",variant:"text",class:"mr-4",onClick:c[0]||(c[0]=_=>f(m).back())})],!0),d("h1",ce,H((t=o.category)==null?void 0:t.name),1),L(o.$slots,"append",{},void 0,!0)])]}),_:3})}}}),me=q(ue,[["__scopeId","data-v-b5bf8fca"]]),pe={__name:"WatchCategoryProjectsPage",props:{category:{type:Object,default:null},items:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},error:{type:String,default:null},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},setup(a){return(m,o)=>{const c=ie,s=me,t=Z;return l(),g(re,null,{default:i(()=>[a.isLoading&&!a.category?(l(),g(c,{key:0})):a.error?(l(),g(B,{key:1},{default:i(()=>[n(j,{cols:"12"},{default:i(()=>[n(ee,{type:"error",text:a.error,class:"mb-4"},null,8,["text"])]),_:1})]),_:1})):a.category?(l(),b(T,{key:2},[n(s,{category:a.category},null,8,["category"]),n(t,{projects:a.items,"current-page":a.currentPage,"last-page":a.lastPage,"is-loading":a.isLoading,variant:"grid"},{"empty-state":i(()=>[n(te,{class:"text-center pa-8"},{default:i(()=>[n(G,{size:"64",color:"grey-lighten-1",icon:"mdi-movie-open-off",class:"mb-4"}),o[0]||(o[0]=d("h3",{class:"text-h5 mb-2"},"No Premieres Available",-1)),o[1]||(o[1]=d("p",{class:"text-body-1 text-medium-emphasis"}," There are currently no premieres in this category ",-1))]),_:1})]),_:1},8,["projects","current-page","last-page","is-loading"])],64)):K("",!0)]),_:1})}}},Re={__name:"[premiering_category_slug]",setup(a){const m=Q(),o=m.params.premiering_category_slug,s=X().public.frontendUrl||"https://talastage.com",t=N(null),_=N(null),{fetchCategoryProjects:D}=ae(),U=async e=>{try{const r=await D(o,e);if(e===1){const{projects:y,pagination:de,...E}=r;t.value=E}return r.projects}catch(r){return _.value="Failed to load category",console.error("Error fetching category:",r),[]}},{items:p,isLoading:A,hasMore:ge,currentPage:R,reset:C}=oe(U,{threshold:200,throttle:300,direction:"vertical"}),W=u(()=>{var e,r;return((r=(e=t.value)==null?void 0:e.pagination)==null?void 0:r.last_page)||1}),P=u(()=>t.value?`${t.value.name||"Category"} Premieres | TalaStage`:"Browse Premieres | TalaStage"),$=u(()=>{if(!t.value)return"Discover the latest premieres from talented creators in entertainment on TalaStage";const e=t.value.name||"entertainment";return`Watch the latest ${e} premieres from talented creators on TalaStage. Discover new projects and connect with creators in the ${e.toLowerCase()} industry.`}),x=u(()=>{var e;return((e=t.value)==null?void 0:e.avatar_url)||`${s}/app-logo.png`}),w=u(()=>`${s}/watch/category/${o}`),S=u(()=>{if(!t.value)return"talent, premieres, entertainment, creative projects";const e=t.value.name||"";return`${e}, premieres, talent, entertainment, creative projects, ${e.toLowerCase()} industry`}),V=u(()=>!t.value||!p.value.length?null:{"@context":"https://schema.org","@type":"ItemList",name:`${t.value.name} Premieres on TalaStage`,description:`Browse the latest ${t.value.name} premieres from talented creators on TalaStage`,numberOfItems:p.value.length,itemListElement:p.value.map((r,y)=>({"@type":"ListItem",position:y+1,item:{"@type":"VideoObject",name:r.name,description:`${r.name} by ${r.creator.display_name}`,thumbnailUrl:r.thumbnail_url,uploadDate:r.created_at,contentUrl:r.video_url,embedUrl:r.video_url,interactionStatistic:{"@type":"InteractionCounter",interactionType:"https://schema.org/WatchAction",userInteractionCount:r.views_count},author:{"@type":"Person",name:r.creator.display_name,url:`${s}/${r.creator.username}`}}}))});return h({title:P.value,description:$.value,image:x.value,url:w.value,keywords:S.value,type:"website"}),v(()=>t.value,e=>{e&&h({title:P.value,description:$.value,image:x.value,url:w.value,keywords:S.value,type:"website",structured:V.value})},{deep:!0}),v(()=>p.value,e=>{t.value&&e.length&&h({structured:V.value})},{deep:!0}),v(()=>m.params.premiering_category_slug,e=>{e&&(C(),t.value=null,_.value=null)}),J(()=>{C()}),(e,r)=>{const y=pe;return l(),g(y,{category:t.value,items:f(p),"is-loading":f(A),error:_.value,"current-page":f(R),"last-page":W.value??1},null,8,["category","items","is-loading","error","current-page","last-page"])}}};export{Re as default};

import{n as C,Z as P,o as l,m as g,b as s,F as B,D as H,G as A,a as p,w as i,s as f,v as b,V as w,y as v,_ as V,c as S,p as o,q as F,x as T,P as z,g as D,j as x,l as I,t as N}from"./CGQimWOm.js";import{_ as L}from"./DL649WMo.js";import{u as E}from"./BCoct7aH.js";import{V as _}from"./f5lwX8SZ.js";import{V as y}from"./BhN2__aY.js";import{a as M}from"./DsvAftJq.js";import{V as Q}from"./BSH7BhKc.js";import{u as j}from"./D78L5r-E.js";import"./BkTuXOR_.js";import"./xvVMJZi9.js";/* empty css        */import"./2hEmiBig.js";const q={class:"help-breadcrumb"},G={class:"breadcrumb-list"},R={key:1,class:"breadcrumb-text"},Z=C({__name:"HelpBreadcrumb",props:{items:{}},setup(k){return(a,d)=>{const t=P("router-link");return l(),g("nav",q,[s("ol",G,[(l(!0),g(B,null,H(a.items,(n,e)=>(l(),g("li",{key:e,class:A(["breadcrumb-item",{"is-current":e===a.items.length-1}])},[n.to&&e!==a.items.length-1?(l(),p(t,{key:0,to:n.to,class:"breadcrumb-link"},{default:i(()=>[f(b(n.text),1)]),_:2},1032,["to"])):(l(),g("span",R,b(n.text),1)),e<a.items.length-1?(l(),p(w,{key:2,size:"14",class:"breadcrumb-separator"},{default:i(()=>d[0]||(d[0]=[f(" mdi-chevron-right ")])),_:1})):v("",!0)],2))),128))])])}}}),J=V(Z,[["__scopeId","data-v-6d5e3174"]]),K={class:"help-article-page"},O={class:"article-wrapper"},U={class:"text-center"},W={key:2,class:"article-layout"},X={class:"article-header"},Y={class:"article-wrapper"},ee={class:"article-title"},te={class:"article-meta"},ae={class:"d-flex align-center gap-4"},re={class:"d-flex align-center"},se={class:"text-body-2"},oe={class:"article-wrapper"},le=["innerHTML"],ne=C({__name:"HelpArticleDetailPage",props:{article:{},error:{},isPending:{type:Boolean}},setup(k){const a=k,{formatLocalDateTime:d}=E(),t=S(()=>{if(!a.article)return[];const e=[{text:"Help Center",to:"/help"}];return a.article.category&&e.push({text:a.article.category.name,to:`/help/${a.article.category.slug}`}),a.article.sub_category&&e.push({text:a.article.sub_category.name,to:`/help/${a.article.category.slug}/${a.article.sub_category.slug}`}),e.push({text:a.article.title}),e});function n(e){return e?e.replace(/\r\n/g,"<br>"):""}return(e,r)=>{const $=J,c=L;return l(),g("div",K,[e.isPending?(l(),p(y,{key:0,class:"py-8"},{default:i(()=>[s("div",O,[o(_,{type:"breadcrumbs",class:"mb-6"}),o(_,{type:"heading",class:"mb-4"}),o(_,{type:"text",width:"200px",class:"mb-8"}),o(_,{type:"paragraph",class:"mb-4"}),o(_,{type:"paragraph",class:"mb-4"}),o(_,{type:"paragraph",width:"80%"})])]),_:1})):e.error?(l(),p(y,{key:1,class:"py-12"},{default:i(()=>[s("div",U,[o(w,{size:"80",color:"error",class:"mb-6"},{default:i(()=>r[0]||(r[0]=[f("mdi-file-document-remove")])),_:1}),r[2]||(r[2]=s("h2",{class:"text-h5 mb-4"},"Article Not Found",-1)),r[3]||(r[3]=s("p",{class:"text-body-1 text-medium-emphasis mb-6"}," The article you're looking for doesn't exist or has been moved. ",-1)),o(F,{color:"primary",size:"large",to:"/help","prepend-icon":"mdi-arrow-left"},{default:i(()=>r[1]||(r[1]=[f(" Back to Help Center ")])),_:1})])]),_:1})):e.article?(l(),g("div",W,[s("div",X,[o(y,{class:"py-6"},{default:i(()=>[s("div",Y,[o($,{items:t.value},null,8,["items"]),s("h1",ee,b(e.article.title),1),s("div",te,[s("div",ae,[s("div",re,[o(w,{size:"16",class:"mr-2"},{default:i(()=>r[4]||(r[4]=[f("mdi-clock-outline")])),_:1}),s("span",se,b(T(d)(e.article.updated_at)),1)]),e.article.is_popular?(l(),p(M,{key:0,color:"primary",size:"small","prepend-icon":"mdi-star"},{default:i(()=>r[5]||(r[5]=[f(" Popular ")])),_:1})):v("",!0)])])])]),_:1})]),o(y,{class:"py-8"},{default:i(()=>[s("div",oe,[e.article.thumbnail_url?(l(),p(Q,{key:0,src:e.article.thumbnail_url,class:"article-thumbnail mb-8","max-height":"400",cover:""},null,8,["src"])):v("",!0),o(c,{class:"article-content-card",elevation:"0"},{default:i(()=>[s("div",{class:"article-content",innerHTML:n(e.article.content)},null,8,le)]),_:1})])]),_:1})])):v("",!0)])}}}),ie=V(ne,[["__scopeId","data-v-879f9b93"]]),ke=C({__name:"[articleSlug]",setup(k){const a=z(),{$axios:d}=D(),t=x(null),n=x(null),e=x(!0);async function r(){const{categorySlug:c,subCategorySlug:u,articleSlug:h}=a.params;if(!c||!u||!h){n.value=new Error("Invalid route parameters"),e.value=!1;return}try{e.value=!0,n.value=null,console.log("Fetching article:",`/api/help/categories/${c}/${u}/${h}`);const m=await d.get(`/api/help/categories/${c}/${u}/${h}`);if(!m.data||!m.data.data)throw new Error("Article not found");t.value=m.data.data,$()}catch(m){console.error("Failed to fetch article:",m),n.value=m,t.value=null}finally{e.value=!1}}function $(){var c,u;t.value&&j({title:t.value.title,description:t.value.content?t.value.content.replace(/<[^>]+>/g,"").substring(0,160):"Help Center article",type:"article",modifiedTime:t.value.updated_at,publishedTime:t.value.created_at,section:"Help Center",keywords:`help, support, ${((c=t.value.category)==null?void 0:c.name)||""}, ${((u=t.value.sub_category)==null?void 0:u.name)||""}, ${t.value.title}`,structured:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:{"@type":"Question",name:t.value.title,acceptedAnswer:{"@type":"Answer",text:t.value.content}}}})}return I(()=>{r()}),N(()=>a.fullPath,()=>{r()}),(c,u)=>{const h=ie;return l(),p(h,{article:t.value,error:n.value,isPending:e.value},null,8,["article","error","isPending"])}}});export{ke as default};

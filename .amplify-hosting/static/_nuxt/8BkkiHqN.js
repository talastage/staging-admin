import{n as N,c as v,j as u,t as g,k as z,aM as j,o as i,m as q,p as t,w as l,a as V,y as _,q as S,s as h,v as b,_ as A}from"./CGQimWOm.js";import{u as $}from"./DMBY-Kaj.js";import{T as G,Q as H}from"./DMnQvTR4.js";import{V as J,a as K,c as L}from"./BkTuXOR_.js";import{V as x}from"./BvtSni_j.js";import{V as O}from"./GXZRJwQ4.js";import{V as P}from"./BcH3Kywr.js";const W={class:"talent-register-dialog"},X=N({__name:"TalentRegisterDialog",props:{modelValue:{type:Boolean},mode:{}},emits:["update:modelValue","talent-updated"],setup(F,{emit:R}){const c=F,d=R,m=v(()=>c.mode==="create"),s=u(c.modelValue);g(()=>c.modelValue,e=>{s.value=e}),g(s,e=>{d("update:modelValue",e)});const a=u(null),n=u(!1),r=u(null),B=v(()=>{var e;return((e=a.value)==null?void 0:e.formIsValid)??!1}),p=v(()=>{const e=a.value;return(e==null?void 0:e.isUpdating)||(e==null?void 0:e.registering)||!1}),w=()=>{var e;(e=a.value)==null||e.submitTalent()},D=e=>{d("talent-updated",e)},U=z(),T=$(),k=e=>{n.value=!0,T.success(e,{timeout:3e3}),r.value=setTimeout(()=>{C(),U.push("/")},3e3)},E=e=>{d("talent-updated",e),k(`Talent "${e.name}" registered successfully!`)},I=e=>{var o;(o=a.value)==null||o.resetForm()},y=e=>{T.error(e,{timeout:5e3}),console.error("Talent registration error:",e)};function C(){s.value=!1,Q()}function Q(){var e;n.value=!1,(e=a.value)==null||e.resetForm(),f()}function f(){r.value&&(f(r.value),r.value=null)}return g(s,async e=>{e&&a.value&&await a.value.initializeForm()}),j(()=>{f()}),(e,o)=>(i(),q("div",W,[t(P,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=M=>s.value=M),"max-width":"700px",persistent:"",scrim:!0},{default:l(()=>[t(J,null,{default:l(()=>[t(K,{class:"pa-4 pt-6"},{default:l(()=>[m.value?(i(),V(H,{key:0,onTalentRegistered:E,onTalentSelected:I,onError:y})):_("",!0),m.value?(i(),V(x,{key:1,class:"my-4"})):_("",!0),t(G,{ref_key:"talentFormRef",ref:a,mode:e.mode,"is-dialog-mode":!0,onTalentUpdated:D,onSuccess:k,onError:y},null,8,["mode"])]),_:1}),t(x),t(L,{class:"pa-4"},{default:l(()=>[t(O),t(S,{variant:"text",onClick:C,disabled:p.value},{default:l(()=>[h(b(n.value?"Close":"Cancel"),1)]),_:1},8,["disabled"]),n.value?_("",!0):(i(),V(S,{key:0,color:"primary",onClick:w,disabled:!B.value||p.value,loading:p.value,size:"large",class:"register-btn"},{default:l(()=>[h(b(m.value?"Register Talent":"Save Changes"),1)]),_:1},8,["disabled","loading"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),oe=A(X,[["__scopeId","data-v-0331f7b3"]]);export{oe as _};

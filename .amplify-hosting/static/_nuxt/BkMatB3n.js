import{_ as x}from"./CgwEN769.js";import{n as T,o as c,m as A,a as d,w as i,p as v,A as C,s as V,v as w,M as E,P as D,k as P,g as L,dX as B,c as t,j as y,l as b,t as G,q as R,O as j,y as M,u as F,_ as O}from"./CGQimWOm.js";import{V as _}from"./CRY4crBU.js";import{V as k}from"./CS8xUUzH.js";import{V as q}from"./P_q-BwEt.js";import{u as I}from"./DMBY-Kaj.js";import{V as X}from"./BhN2__aY.js";import{u as z}from"./BW5EWlXk.js";import{u as H}from"./D78L5r-E.js";import"./BWXQ7vJw.js";import"./BeQTM7t9.js";import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./BkTuXOR_.js";import"./tTgLLTve.js";import"./3SmzOII5.js";import"./DcSlHAeh.js";import"./BCoct7aH.js";import"./DsvAftJq.js";import"./2hEmiBig.js";import"./BvtSni_j.js";import"./jRUxZAus.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./Bem91KZK.js";import"./COhe-ksk.js";import"./BcH3Kywr.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";import"./Bp2sYpJN.js";import"./B3G4pkyN.js";/* empty css        */const J=T({__name:"LoadingErrorState",props:{isLoading:Boolean,error:String},setup(g){return(p,f)=>(c(),A("div",null,[g.isLoading?(c(),d(_,{key:0,justify:"center",class:"my-8"},{default:i(()=>[v(C,{indeterminate:"",color:"primary"})]),_:1})):g.error?(c(),d(_,{key:1},{default:i(()=>[v(k,null,{default:i(()=>[v(q,{type:"error",class:"ma-6"},{default:i(()=>[V(w(g.error),1)]),_:1})]),_:1})]),_:1})):(c(),d(_,{key:2},{default:i(()=>[E(p.$slots,"default")]),_:3}))]))}}),K=T({__name:"TipUserPage",setup(g){const p=D();P();const{$axios:f}=L(),o=B();I();const l=t(()=>p.params.entityType),n=t(()=>p.params.identifier),s=y(!0),e=y(""),a=y(null),r=y(!1);y(0),b(async()=>{console.log("Component mounted"),await u()}),G(()=>a.value,m=>{console.log("Entity data updated:",m),m&&S()});async function u(){console.log("Fetching entity data"),s.value=!0,e.value="";try{const m=await f.get(`/api/tip/${l.value}/${n.value}`);a.value=m.data.data,console.log("Entity data fetched:",a.value)}catch(m){console.error("Error fetching entity data:",m),e.value="Failed to load data. Please try again.",o.error("Unable to load tipping information. Please try again later.")}finally{s.value=!1}}function S(){console.log("Opening tip dialog"),r.value=!0}return(m,h)=>{const N=x,U=J;return c(),d(X,null,{default:i(()=>[v(_,{justify:"center"},{default:i(()=>[v(k,{cols:"12",sm:"8",md:"6"},{default:i(()=>[v(U,{isLoading:s.value,error:e.value},{default:i(()=>[a.value?(c(),d(N,{key:0,modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=$=>r.value=$),entity:a.value,entityType:l.value,defaultAmount:1e3},{activator:i(({props:$})=>[v(R,j({color:"primary",block:"",class:"mt-4",onClick:S},$),{default:i(()=>[V(" Tip "+w(l.value==="user"?a.value.username:a.value.name),1)]),_:2},1040)]),_:1},8,["modelValue","entity","entityType"])):M("",!0)]),_:1},8,["isLoading","error"])]),_:1})]),_:1})]),_:1})}}}),Q=T({__name:"[identifier]",setup(g){const p=z(),f=F();b(async()=>{await p.fetchTalaStageApp()});const o=t(()=>p.talastageApp),l=t(()=>f.params.entityType),n=t(()=>f.params.identifier),s=t(()=>l.value==="user"?"User":l.value==="talent"?"Talent":"Entity");return H({title:t(()=>{var a;const e=((a=o.value)==null?void 0:a.name)||"TalaStage";return`Give Tip to ${s.value} - ${n.value} - ${e}`}),description:t(()=>{var a;const e=((a=o.value)==null?void 0:a.name)||"TalaStage";return`Support your favorite ${s.value} (${n.value}) by sending them a tip on ${e}. Show your appreciation!`}),keywords:t(()=>{var e;return`tip, support, fan, appreciate, ${l.value}, ${n.value}, ${((e=o.value)==null?void 0:e.name)||"TalaStage"}`}),image:t(()=>{var e;return((e=o.value)==null?void 0:e.logo_url)||"/default-social-image.png"}),type:"website",siteName:t(()=>{var e;return((e=o.value)==null?void 0:e.name)||"TalaStage"}),url:t(()=>{var a;return`${((a=o.value)==null?void 0:a.canonical_url)||"https://talastage.com"}/tip/${l.value}/${n.value}`}),canonical:t(()=>{var a;return`${((a=o.value)==null?void 0:a.canonical_url)||"https://talastage.com"}/tip/${l.value}/${n.value}`}),openGraph:t(()=>{var e,a;return{title:t(()=>{var u;const r=((u=o.value)==null?void 0:u.name)||"TalaStage";return`Give Tip to ${s.value} - ${n.value} - ${r}`}).value,description:t(()=>{var u;const r=((u=o.value)==null?void 0:u.name)||"TalaStage";return`Support your favorite ${s.value} (${n.value}) by sending them a tip on ${r}. Show your appreciation!`}).value,url:t(()=>{var u;return`${((u=o.value)==null?void 0:u.canonical_url)||"https://talastage.com"}/tip/${l.value}/${n.value}`}).value,image:((e=o.value)==null?void 0:e.logo_url)||"/default-social-image.png",siteName:((a=o.value)==null?void 0:a.name)||"TalaStage",type:"website"}}),twitter:t(()=>{var e;return{card:"summary_large_image",title:t(()=>{var r;const a=((r=o.value)==null?void 0:r.name)||"TalaStage";return`Give Tip to ${s.value} - ${n.value} - ${a}`}).value,description:t(()=>{var r;const a=((r=o.value)==null?void 0:r.name)||"TalaStage";return`Support your favorite ${s.value} (${n.value}) by sending them a tip on ${a}. Show your appreciation!`}).value,image:((e=o.value)==null?void 0:e.logo_url)||"/default-social-image.png"}}),link:t(()=>{var e;return[{rel:"icon",href:((e=o.value)==null?void 0:e.favicon_url)||"/favicon.ico"}]})}),(e,a)=>{const r=K;return c(),d(r)}}}),De=O(Q,[["__scopeId","data-v-eda6e1a4"]]);export{De as default};

import{_ as le}from"./DL649WMo.js";import{_ as R,o as d,a as S,w as t,p as e,V as N,s as U,b as o,q as z,f as ve,j as C,g as Q,n as j,v as y,x as c,y as M,m as B,F as O,D as P,c as w,G as ye,A as se,t as Z,aM as he,i as ie,l as ee}from"./CGQimWOm.js";import{d as ge,b as te,e as be,a as Y,V as W}from"./BkTuXOR_.js";import{V as xe}from"./xvVMJZi9.js";import{V as D}from"./CRY4crBU.js";import{V as L}from"./CS8xUUzH.js";import{_ as we}from"./BV7m3wyX.js";import{_ as Te}from"./1tiNUlE7.js";import{u as ue}from"./BCoct7aH.js";import{a as ce}from"./DsvAftJq.js";import{_ as Se}from"./BeQTM7t9.js";import{V as ke}from"./BvtSni_j.js";import{_ as Ve}from"./DPoG3AgV.js";import{V as $e}from"./DbQnG3uQ.js";import{V as oe}from"./BEy3SeWo.js";import{V as Ce}from"./BRveoiXI.js";import{V as re,a as ne}from"./tTgLLTve.js";import{B as Ue}from"./COhe-ksk.js";import{u as Le}from"./CLaLtAAT.js";import{u as Be}from"./DMBY-Kaj.js";import{u as de}from"./De3D2xlH.js";import{V as pe}from"./6HtF_owb.js";import{V as me}from"./BhN2__aY.js";import{_ as Fe}from"./DyXR0ZQU.js";import{_ as Ie}from"./CgwEN769.js";import{u as Ae}from"./BW5EWlXk.js";import{u as De}from"./D78L5r-E.js";import{u as je}from"./BJ8eCgsi.js";import"./BSH7BhKc.js";/* empty css        */import"./B3G4pkyN.js";import"./D4pNkYCe.js";import"./DJ0NdY24.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CiN8dqd8.js";import"./CiXMVmI4.js";import"./f5lwX8SZ.js";import"./P_q-BwEt.js";import"./GXZRJwQ4.js";import"./IpAEdaYr.js";import"./CW50LM9V.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./Dn0bXcU5.js";import"./BcH3Kywr.js";import"./Zmmmyk0F.js";import"./OJq0nmAj.js";import"./BWXQ7vJw.js";import"./3SmzOII5.js";import"./DcSlHAeh.js";import"./jRUxZAus.js";import"./Bem91KZK.js";import"./Bp2sYpJN.js";const Ee={class:"d-flex flex-column flex-md-row gap-3"},Ne={class:"tip-feature d-flex align-center"},ze={class:"tip-feature d-flex align-center"},Me={class:"tip-feature d-flex align-center"},Re={__name:"TipUrlSharingHeader",props:{cardElevation:{type:[Number,String],default:2}},emits:["show-share"],setup(h){return(l,a)=>{const r=le;return d(),S(r,{elevation:h.cardElevation,class:"tip-url-sharing-header-card"},{default:t(()=>[e(ge,null,{prepend:t(()=>[e(xe,{color:"primary",variant:"tonal",size:"48"},{default:t(()=>[e(N,{icon:"mdi-currency-usd"})]),_:1})]),default:t(()=>[e(te,null,{default:t(()=>a[1]||(a[1]=[U("Grow Your Income with Tips")])),_:1}),e(be,null,{default:t(()=>a[2]||(a[2]=[U(" Share your personal tip URL to start receiving support from your fans ")])),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(D,{align:"center"},{default:t(()=>[e(L,{cols:"12",md:"8"},{default:t(()=>[o("div",Ee,[o("div",Ne,[e(N,{icon:"mdi-check-circle",color:"success",class:"mr-2",size:"small"}),a[3]||(a[3]=o("span",{class:"text-caption"},"Direct financial support",-1))]),o("div",ze,[e(N,{icon:"mdi-check-circle",color:"success",class:"mr-2",size:"small"}),a[4]||(a[4]=o("span",{class:"text-caption"},"Easy social sharing",-1))]),o("div",Me,[e(N,{icon:"mdi-check-circle",color:"success",class:"mr-2",size:"small"}),a[5]||(a[5]=o("span",{class:"text-caption"},"Real-time tracking",-1))])])]),_:1}),e(L,{cols:"12",md:"4",class:"d-flex justify-center justify-md-end mt-3 mt-md-0"},{default:t(()=>[e(z,{color:"primary",variant:"elevated","prepend-icon":"mdi-share-variant",size:"large",class:"px-6",onClick:a[0]||(a[0]=n=>l.$emit("show-share"))},{default:t(()=>a[6]||(a[6]=[U(" Share My Tip Link ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["elevation"])}}},We=R(Re,[["__scopeId","data-v-d82ddc97"]]),fe=ve("tipsBalance",()=>{const h=C(null),l=C(!1),a=C(null),{$axios:r}=Q(),n=async()=>{l.value=!0,a.value=null;try{const i=await r.get("/api/user/tips/balance");h.value=i.data.data}catch(i){console.error("Error fetching balance:",i),a.value=i instanceof Error?i.message:"Failed to fetch balance"}finally{l.value=!1}};return{balance:h,isLoading:l,error:a,fetchBalance:n,updateBalanceAfterTransfer:async i=>{h.value&&(h.value={...h.value,balance:String(Number(h.value.balance)-i),total_withdrawn:String(Number(h.value.total_withdrawn)+i),last_withdrawal_at:new Date().toISOString()},await n())}}}),He={class:"text-h6"},Oe={class:"text-caption"},Pe={class:"text-h6"},Ye={class:"text-caption"},qe="/api/user/tips/transfer",Ge=j({__name:"TipsBalanceCard",setup(h){const{formatRelativeDate:l}=ue(),a=fe(),r=C(!1),n=()=>{r.value=!0},u=i=>{a.updateBalanceAfterTransfer(i)};return(i,s)=>{const f=we,k=Te;return d(),S(W,{elevation:"10",class:"mb-4"},{default:t(()=>{var T,$,F;return[e(te,{class:"d-flex justify-space-between align-center"},{default:t(()=>[s[1]||(s[1]=o("span",null,"Balance",-1)),e(ce,{color:"primary",variant:"elevated"},{default:t(()=>{var m,_;return[U(y(((_=(m=c(a).balance)==null?void 0:m.balance)==null?void 0:_.formatted)||"0"),1)]}),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(D,null,{default:t(()=>[e(L,{cols:"6"},{default:t(()=>{var m,_,v;return[s[2]||(s[2]=o("div",{class:"text-subtitle-2"},"Total Earned",-1)),o("div",He,y(((_=(m=c(a).balance)==null?void 0:m.total_earned)==null?void 0:_.formatted)||"0"),1),o("div",Oe," Last earned: "+y(c(l)((v=c(a).balance)==null?void 0:v.last_earning_at)),1)]}),_:1}),e(L,{cols:"6"},{default:t(()=>{var m,_,v;return[s[3]||(s[3]=o("div",{class:"text-subtitle-2"},"Total Withdrawn",-1)),o("div",Pe,y(((_=(m=c(a).balance)==null?void 0:m.total_withdrawn)==null?void 0:_.formatted)||"0"),1),o("div",Ye," Last withdrawal: "+y(c(l)((v=c(a).balance)==null?void 0:v.last_withdrawal_at)),1)]}),_:1})]),_:1}),e(D,{class:"mt-2"},{default:t(()=>[e(L,{cols:"12"},{default:t(()=>{var m,_,v;return[(m=c(a).balance)!=null&&m.currency?(d(),S(f,{key:0,title:"Available Balance",amount:Number(((v=(_=c(a).balance)==null?void 0:_.balance)==null?void 0:v.amount)||0),"currency-symbol":c(a).balance.currency.symbol,"currency-code":c(a).balance.currency.code,icon:"mdi-wallet",variant:"primary"},{footer:t(({variant:g})=>{var I,E;return[e(z,{variant:"tonal",color:g==="primary"?"white":"primary",size:"small",onClick:n,disabled:!Number((E=(I=c(a).balance)==null?void 0:I.balance)==null?void 0:E.amount)},{default:t(()=>s[4]||(s[4]=[U(" Transfer to Wallet ")])),_:2},1032,["color","disabled"])]}),_:1},8,["amount","currency-symbol","currency-code"])):M("",!0)]}),_:1})]),_:1})]),_:1}),(T=c(a).balance)!=null&&T.currency?(d(),S(k,{key:0,modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=m=>r.value=m),"transfer-endpoint":qe,"available-balance":Number(((F=($=c(a).balance)==null?void 0:$.balance)==null?void 0:F.amount)||0),"currency-symbol":c(a).balance.currency.symbol,"currency-code":c(a).balance.currency.code,onTransferSuccess:u},null,8,["modelValue","available-balance","currency-symbol","currency-code"])):M("",!0)]}),_:1})}}}),Xe={class:"text-h6"},Je={key:0,class:"text-body-2"},Ke={class:"text-h6"},Qe={key:0,class:"text-body-2"},Ze=j({__name:"TipsSummaryCard",props:{summary:{}},setup(h){return(l,a)=>(d(),S(W,{elevation:"10",class:"mb-4"},{default:t(()=>[e(te,null,{default:t(()=>a[0]||(a[0]=[U("Tips Summary")])),_:1}),e(Y,null,{default:t(()=>[e(D,null,{default:t(()=>[e(L,{cols:"6"},{default:t(()=>[e(W,{variant:"outlined",class:"pa-4"},{default:t(()=>{var r,n,u;return[a[1]||(a[1]=o("div",{class:"text-subtitle-2"},"Sent Tips",-1)),o("div",Xe,y(((r=l.summary)==null?void 0:r.sent.total_count)||0),1),(u=(n=l.summary)==null?void 0:n.sent.by_currency)!=null&&u.length?(d(),B("div",Je,[(d(!0),B(O,null,P(l.summary.sent.by_currency,i=>{var s,f;return d(),B("div",{key:(s=i.currency)==null?void 0:s.id},y(((f=i.total_amount)==null?void 0:f.formatted)||"0"),1)}),128))])):M("",!0)]}),_:1})]),_:1}),e(L,{cols:"6"},{default:t(()=>[e(W,{variant:"outlined",class:"pa-4"},{default:t(()=>{var r,n,u;return[a[2]||(a[2]=o("div",{class:"text-subtitle-2"},"Received Tips",-1)),o("div",Ke,y(((r=l.summary)==null?void 0:r.received.total_count)||0),1),(u=(n=l.summary)==null?void 0:n.received.by_currency)!=null&&u.length?(d(),B("div",Qe,[(d(!0),B(O,null,P(l.summary.received.by_currency,i=>{var s,f;return d(),B("div",{key:(s=i.currency)==null?void 0:s.id},y(((f=i.total_amount)==null?void 0:f.formatted)||"0"),1)}),128))])):M("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),et={class:"d-flex align-center"},tt={class:"flex-grow-1"},at={class:"d-flex align-center justify-space-between mb-2"},st={class:"d-flex align-center"},ot={class:"text-h6 font-weight-medium me-2"},rt={class:"text-caption text-medium-emphasis"},nt={class:"transaction-details"},lt={class:"d-flex align-center justify-space-between mb-2"},it={class:"amount-section"},ut={class:"d-flex align-center"},ct={class:"text-caption text-medium-emphasis"},dt={key:0,class:"fee-breakdown"},pt={class:"d-flex justify-space-between text-caption"},mt={class:"d-flex justify-space-between text-caption"},ft={class:"text-error"},_t={class:"d-flex justify-space-between text-caption font-weight-medium"},vt=j({__name:"TipListItem",props:{tip:{},currentUserId:{}},setup(h){const{formatRelativeDate:l}=ue(),a=h,r=w(()=>a.tip.record_type==="sent"),n=s=>s.tipper.id===s.recipient.id?r.value?"Self":s.recipient.display_name||s.recipient.username:r.value?s.recipient.display_name||s.recipient.username:s.tipper.display_name||s.tipper.username,u=s=>s.tipper.id===s.recipient.id||r.value?s.recipient.username:s.tipper.username,i=s=>s.tipper.id===s.recipient.id||r.value?s.recipient.profile_photo:s.tipper.profile_photo;return(s,f)=>(d(),S(W,{class:"tip-card",elevation:"1",hover:""},{default:t(()=>[e(Y,{class:"pa-4"},{default:t(()=>[o("div",et,[e(Se,{username:u(s.tip),profile_photo:i(s.tip),size:48,disableLink:!1,class:"me-3"},null,8,["username","profile_photo"]),o("div",tt,[o("div",at,[o("div",st,[o("span",ot,y(n(s.tip)),1),e(ce,{color:s.tip.status==="completed"?"success":"warning",size:"small",variant:"tonal"},{default:t(()=>[U(y(s.tip.status),1)]),_:1},8,["color"])]),o("span",rt,y(c(l)(s.tip.created_at)),1)]),o("div",nt,[o("div",lt,[o("div",it,[o("div",ut,[e(N,{color:r.value?"error":"success",icon:r.value?"mdi-arrow-up-right":"mdi-arrow-down-left",size:"20",class:"me-2"},null,8,["color","icon"]),o("span",{class:ye(["text-h6 font-weight-bold",r.value?"text-error":"text-success"])},y(r.value?s.tip.gross_amount.formatted:s.tip.net_amount.formatted),3)]),o("div",ct,y(r.value?"Sent":"Received"),1)])]),r.value?(d(),B("div",dt,[e(ke,{class:"my-2"}),o("div",pt,[f[0]||(f[0]=o("span",null,"Gross Amount:",-1)),o("span",null,y(s.tip.gross_amount.formatted),1)]),o("div",mt,[f[1]||(f[1]=o("span",null,"Service Fee:",-1)),o("span",ft,"-"+y(s.tip.app_service_fee.formatted),1)]),o("div",_t,[f[2]||(f[2]=o("span",null,"Net Amount:",-1)),o("span",null,y(s.tip.net_amount.formatted),1)])])):M("",!0)])])])]),_:1})]),_:1}))}}),yt=R(vt,[["__scopeId","data-v-37cc562d"]]),ht=j({__name:"TipsList",props:{items:{},filters:{},selectedFilter:{},isLoading:{type:Boolean},currentUserId:{},hasMore:{type:Boolean}},emits:["update:selectedFilter"],setup(h){return(l,a)=>{const r=yt,n=Ve;return d(),S(n,{title:"Tips History"},{action:t(()=>[e($e,{"model-value":l.selectedFilter,"onUpdate:modelValue":a[0]||(a[0]=u=>l.$emit("update:selectedFilter",u)),items:l.filters,"item-title":"text","item-value":"value",density:"compact",variant:"outlined","hide-details":"",class:"filter-select"},null,8,["model-value","items"])]),content:t(()=>[l.isLoading&&!l.items.length?(d(),S(oe,{key:0,class:"pa-6 text-center"},{default:t(()=>[e(se,{indeterminate:"",class:"mb-4"}),a[1]||(a[1]=o("div",{class:"text-body-2 text-grey-darken-1"},"Loading tips...",-1))]),_:1})):l.items.length?(d(),S(Ce,{key:1},{default:t(()=>[(d(!0),B(O,null,P(l.items,u=>(d(),S(r,{key:u.id,tip:u,"current-user-id":l.currentUserId},null,8,["tip","current-user-id"]))),128)),l.isLoading?(d(),S(re,{key:0,class:"pa-4"},{default:t(()=>[e(ne,{class:"text-center"},{default:t(()=>[e(se,{indeterminate:""})]),_:1})]),_:1})):l.hasMore?M("",!0):(d(),S(re,{key:1,class:"pa-4"},{default:t(()=>[e(ne,{class:"text-center text-grey"},{default:t(()=>a[2]||(a[2]=[U(" No more tips to load ")])),_:1})]),_:1}))]),_:1})):(d(),S(oe,{key:2,class:"pa-6 text-center"},{default:t(()=>[e(N,{icon:"mdi-cash-multiple-off",size:"64",color:"grey-lighten-1",class:"mb-4"}),a[3]||(a[3]=o("div",{class:"text-h6 text-grey"},"No Tips Found",-1)),a[4]||(a[4]=o("div",{class:"text-body-2 text-grey-darken-1"}," There are no tips to display yet. ",-1))]),_:1}))]),_:1})}}}),_e=R(ht,[["__scopeId","data-v-68371467"]]);var gt={};const bt={class:"share-content"},xt={class:"url-container pa-3"},wt={class:"url-preview mb-3"},Tt={class:"url-text"},St={class:"share-platforms"},kt={class:"platforms-grid"},Vt={class:"btn-text"},$t={key:0,class:"share-stats mt-3 text-center"},Ct={class:"text-caption text-medium-emphasis"},Ut=j({__name:"TipUrlShareDialog",props:{modelValue:Boolean,entityType:{type:String,required:!0,validator:h=>["user","project"].includes(h)},entity:{type:Object,required:!0}},emits:["update:modelValue"],setup(h,{expose:l,emit:a}){const r=h,n=a,u=Be(),{sharePlatforms:i,shareTo:s,copyLink:f,isSharing:k}=Le(),T=C(!1),$=C(""),F=C(null),m=C(!1),_=C(!1),v=w({get:()=>r.modelValue,set:p=>n("update:modelValue",p)}),g=w(()=>r.entityType==="user"?r.entity.username:r.entity.access_uuid),I=w(()=>`${gt.FRONTEND_URL||"https://talastage.com"}/tip/${r.entityType}/${g.value}`),E=w(()=>r.entityType==="project"?"🎬 Check out my latest project! Your support means the world to me:":"🎭 Support my talent and creative journey! Every tip helps me grow:"),b=w(()=>r.entityType==="project"?"🎬 Hey! I just launched my new project and would love your support! You can help me by tipping here:":"🎭 Hey! You can support my talent by clicking this link - every tip helps me pursue my passion:"),x=w(()=>T.value?{color:"primary",icon:"mdi-loading mdi-spin",text:"Copying..."}:_.value?{color:"success",icon:"mdi-check-circle",text:"Copied!"}:{color:"primary",icon:"mdi-content-copy",text:"Copy Link"}),q=w(()=>{const p=["WhatsApp","X","Facebook","LinkedIn","Telegram","Email"];return[...i].sort((V,K)=>{const A=p.indexOf(V.name),ae=p.indexOf(K.name);return A-ae})}),G=async()=>{if(!T.value)try{T.value=!0,await f(I.value),_.value=!0,u.success("Link copied to clipboard!")}catch{u.error("Failed to copy link. Please try again."),_.value=!1}finally{T.value=!1,_.value&&setTimeout(()=>{_.value=!1},2e3)}},X=async p=>{if(!(k.value||$.value)){$.value=p.name;try{const V=p.name==="WhatsApp"?b.value:E.value;await s(p.name,I.value,V,r.entityType,g.value),await H()}catch(V){console.error("Share error:",V),u.error(`Unable to share on ${p.name}. Please try again.`)}finally{setTimeout(()=>{$.value=""},1e3)}}},H=async()=>{if(!m.value)try{m.value=!0;const p=await fetch(`/api/share/${r.entityType}/${g.value}/stats`);if(!p.ok)throw new Error("Failed to fetch share stats");F.value=await p.json()}catch(p){console.error("Failed to fetch share stats:",p),F.value=null}finally{m.value=!1}},J=()=>{k.value||$.value||(v.value=!1)};return Z(()=>v.value,async p=>{p&&(await H(),_.value=!1,$.value="")}),he(()=>{$.value="",_.value=!1}),l({refresh:H}),(p,V)=>{const K=Ue;return d(),S(K,{modelValue:v.value,"onUpdate:modelValue":V[0]||(V[0]=A=>v.value=A),title:"Share Tip Link","max-width":"500px",persistent:c(k)},{actions:t(()=>[e(z,{color:"primary",variant:"tonal",block:"",disabled:c(k),onClick:J},{default:t(()=>V[4]||(V[4]=[U(" Done ")])),_:1},8,["disabled"])]),default:t(()=>[o("div",bt,[V[3]||(V[3]=o("div",{class:"text-center mb-4"},[o("h3",{class:"text-h6 mb-2"},"Share Your Tip Link"),o("p",{class:"text-body-2 text-medium-emphasis"}," Share with your fans to receive tips and support ")],-1)),e(W,{variant:"outlined",class:"url-card mb-4"},{default:t(()=>[o("div",xt,[o("div",wt,[V[1]||(V[1]=o("div",{class:"text-caption text-medium-emphasis mb-1"},"Your Tip URL",-1)),o("div",Tt,y(I.value),1)]),e(z,{loading:T.value,color:x.value.color,disabled:c(k),variant:"tonal",block:"",onClick:G},{default:t(()=>[e(N,{icon:x.value.icon,class:"mr-2"},null,8,["icon"]),U(" "+y(x.value.text),1)]),_:1},8,["loading","color","disabled"])])]),_:1}),o("div",St,[V[2]||(V[2]=o("h4",{class:"text-subtitle-1 mb-3 text-center"},"Share on Social Media",-1)),o("div",kt,[(d(!0),B(O,null,P(q.value,A=>(d(),S(z,{key:A.name,color:A.color,loading:c(k)&&$.value===A.name,disabled:c(k),class:"share-btn",variant:"elevated",onClick:ae=>X(A)},{default:t(()=>[e(N,{icon:A.icon,size:"20"},null,8,["icon"]),o("span",Vt,y(A.name),1)]),_:2},1032,["color","loading","disabled","onClick"]))),128))]),F.value?(d(),B("div",$t,[o("div",Ct," Shared "+y(F.value.total)+" times ",1)])):M("",!0)])])]),_:1},8,["modelValue","persistent"])}}}),Lt=R(Ut,[["__scopeId","data-v-0c206850"]]),Bt=j({__name:"UserWithTalentTips",setup(h){const l=ie(),a=fe(),r=w(()=>l.user),n=[{text:"All",value:"all"},{text:"Sent",value:"sent"},{text:"Received",value:"received"}],u=C("all"),i=C(!1),{$axios:s}=Q(),f=C(null),k=w({get:()=>!!m.value,set:b=>{b||(m.value=null)}}),T=async b=>{try{return(await s.get("/api/user/tips",{params:{page:b,per_page:15,type:u.value}})).data.data}catch(x){throw console.error("Failed to load tips:",x),x instanceof Error?x:new Error("Failed to load tips")}},{items:$,isLoading:F,error:m,hasMore:_,reset:v,refresh:g}=de(T,{threshold:200,throttle:300}),I=async()=>{try{const b=await s.get("/api/user/tips/summary");f.value=b.data}catch(b){console.error("Error fetching summary:",b)}},E=()=>{var b;return(b=r.value)==null?void 0:b.id};return Z(u,()=>{v(),g()}),ee(()=>{a.fetchBalance(),I()}),(b,x)=>{const q=We,G=Ge,X=Ze,H=_e,J=Lt;return d(),S(me,null,{default:t(()=>[e(D,{class:"mb-4"},{default:t(()=>[e(L,{cols:"12"},{default:t(()=>[e(q,{onShowShare:x[0]||(x[0]=p=>i.value=!0)})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(L,{cols:"12",md:"6"},{default:t(()=>[e(G)]),_:1}),e(L,{cols:"12",md:"6"},{default:t(()=>[e(X,{summary:f.value},null,8,["summary"])]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(L,{cols:"12"},{default:t(()=>[e(H,{items:c($),filters:n,"selected-filter":u.value,"onUpdate:selectedFilter":x[1]||(x[1]=p=>u.value=p),"is-loading":c(F),"current-user-id":E(),"has-more":c(_)},null,8,["items","selected-filter","is-loading","current-user-id","has-more"])]),_:1})]),_:1}),e(pe,{modelValue:k.value,"onUpdate:modelValue":x[3]||(x[3]=p=>k.value=p),color:"error",timeout:5e3},{actions:t(()=>[e(z,{color:"white",variant:"text",onClick:x[2]||(x[2]=p=>m.value=null)},{default:t(()=>x[5]||(x[5]=[U(" Close ")])),_:1})]),default:t(()=>{var p;return[U(y((p=c(m))==null?void 0:p.message)+" ",1)]}),_:1},8,["modelValue"]),e(J,{modelValue:i.value,"onUpdate:modelValue":x[4]||(x[4]=p=>i.value=p),"entity-type":"user",entity:r.value},null,8,["modelValue","entity"])]),_:1})}}}),Ft=R(Bt,[["__scopeId","data-v-4a5c002b"]]),It={class:"user-tip-search"},At={class:"search-container"},Dt=j({__name:"UserTipSearch",setup(h){const l=C(!1),a=C(null);function r(u){a.value=u,l.value=!0}function n(u){console.log(`Transaction completed with amount: ${u}`)}return(u,i)=>{const s=Fe,f=le,k=Ie;return d(),B("div",It,[e(f,{elevation:10,class:"pa-6"},{default:t(()=>[i[3]||(i[3]=o("h2",{class:"text-h5 font-weight-bold mb-4"},"Support Creators",-1)),i[4]||(i[4]=o("p",{class:"text-body-1 mb-6"}," Looking for someone to support? Use the search below to find and give tips to talented creators on the platform. ",-1)),o("div",At,[i[2]||(i[2]=o("h3",{class:"text-subtitle-1 font-weight-medium mb-4"}," Find a Creator to Support ",-1)),e(s,{onUserSelected:r,placeholder:"Search users"},{"user-action":t(({selectUser:T})=>[e(z,{color:"primary",variant:"tonal",size:"small",onClick:$=>T()},{default:t(()=>i[1]||(i[1]=[U(" Support ")])),_:2},1032,["onClick"])]),_:1})])]),_:1}),e(k,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=T=>l.value=T),entity:a.value,"entity-type":"user",onTransactionComplete:n},null,8,["modelValue","entity"])])}}}),jt=R(Dt,[["__scopeId","data-v-6cffaaa5"]]),Et=j({__name:"UserWithoutTalentTips",setup(h){const l=ie(),a=w(()=>l.user),r=[{text:"All",value:"all"},{text:"Sent",value:"sent"}],n=C("all"),{$axios:u}=Q(),i=w({get:()=>!!T.value,set:v=>{v||(T.value=null)}}),s=async v=>{try{return(await u.get("/api/user/tips",{params:{page:v,per_page:15,type:n.value}})).data.data}catch(g){throw console.error("Failed to load tips:",g),g instanceof Error?g:new Error("Failed to load tips")}},{items:f,isLoading:k,error:T,hasMore:$,reset:F,refresh:m}=de(s,{threshold:200,throttle:300}),_=()=>{var v;return(v=a.value)==null?void 0:v.id};return Z(n,()=>{F(),m()}),ee(()=>{m()}),(v,g)=>{const I=jt,E=_e;return d(),S(me,null,{default:t(()=>[e(D,{class:"mb-4"},{default:t(()=>[e(L,{cols:"12"},{default:t(()=>[e(I)]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(L,{cols:"12"},{default:t(()=>[e(E,{items:c(f),filters:r,"selected-filter":n.value,"onUpdate:selectedFilter":g[0]||(g[0]=b=>n.value=b),"is-loading":c(k),"current-user-id":_(),"has-more":c($)},null,8,["items","selected-filter","is-loading","current-user-id","has-more"])]),_:1})]),_:1}),e(pe,{modelValue:i.value,"onUpdate:modelValue":g[2]||(g[2]=b=>i.value=b),color:"error",timeout:5e3},{actions:t(()=>[e(z,{color:"white",variant:"text",onClick:g[1]||(g[1]=b=>T.value=null)},{default:t(()=>g[3]||(g[3]=[U(" Close ")])),_:1})]),default:t(()=>{var b;return[U(y((b=c(T))==null?void 0:b.message)+" ",1)]}),_:1},8,["modelValue"])]),_:1})}}}),Nt=R(Et,[["__scopeId","data-v-05e1f244"]]),Oa=j({__name:"index",setup(h){const l=Ae(),{hasTalent:a}=je();ee(async()=>{await l.fetchTalaStageApp()});const r=w(()=>l.talastageApp);return De({title:w(()=>{var n;return((n=r.value)==null?void 0:n.name)||"TalaStage"}),description:w(()=>{var n;return((n=r.value)==null?void 0:n.seo_description)||"Connecting talents across the globe with opportunities to shine and thrive ✨"}),keywords:w(()=>{var n;return((n=r.value)==null?void 0:n.meta_keywords)||""}),image:w(()=>{var n,u;return((n=r.value)==null?void 0:n.thumbnail_url)||((u=r.value)==null?void 0:u.logo_url)||"https://talastage.com/app-logo.png"}),url:w(()=>{var n;return((n=r.value)==null?void 0:n.canonical_url)||"https://talastage.com"}),type:"website",siteName:w(()=>{var n;return((n=r.value)==null?void 0:n.name)||"TalaStage"}),twitter:{card:"summary_large_image",site:"@talastage"},script:w(()=>{var u;const n=(u=r.value)==null?void 0:u.schema_markup;return n?[{type:"application/ld+json",innerHTML:n}]:[]}),link:w(()=>{var n;return[{rel:"icon",type:"image/png",href:((n=r.value)==null?void 0:n.favicon_url)||"/favicon.png"}]})}),(n,u)=>{const i=Ft,s=Nt;return d(),B("div",null,[c(a)?(d(),S(i,{key:0})):(d(),S(s,{key:1}))])}}});export{Oa as default};

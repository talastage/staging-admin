import{_ as h}from"./CLKcOYKN.js";import{n as y,u as k,k as S,i as x,j as a,l as I,o as n,m as u,b as t,p as d,V as P,a as q,A as V,_ as w}from"./CGQimWOm.js";import"./sCKccXa7.js";import"./DMLzsDc7.js";import"./GXZRJwQ4.js";/* empty css        */import"./xvVMJZi9.js";import"./BSH7BhKc.js";import"./BkTuXOR_.js";import"./CMsVONS5.js";import"./C-73ZGdz.js";import"./2hEmiBig.js";import"./BFmCCZJK.js";import"./Dg4qVXYX.js";import"./CjukEv2V.js";import"./C-GTDzx5.js";import"./BvtSni_j.js";import"./BRveoiXI.js";import"./tTgLLTve.js";import"./Dn0bXcU5.js";import"./CW50LM9V.js";import"./DJ0NdY24.js";import"./IpAEdaYr.js";import"./P_q-BwEt.js";import"./C9TGCd7W.js";import"./DbQnG3uQ.js";import"./ClFbrGXS.js";import"./D0h0WEJV.js";import"./DsvAftJq.js";import"./DjbnUXUR.js";import"./CiXMVmI4.js";const B={class:"social-complete-container"},E={class:"content-wrapper"},N={class:"text-center header-section"},R={key:1,class:"text-center loading-section"},b=y({__name:"complete",setup(A){const e=k(),c=S(),_=x(),l=a(null),i=a(null),p=a(""),v=async o=>{try{await _.handleRegistrationSuccess({user:o.user,token:o.token})}catch(r){console.error("Registration completion error:",r),m("Failed to complete registration")}},m=o=>{console.error("Social registration error:",o),c.push("/login?error=registration_failed")};return I(()=>{try{const o=e.query.social_auth,r=e.query.user_id,s=e.query.provider,f=e.query.first_name,g=e.query.last_name;if(o==="register"||o==="incomplete")l.value=parseInt(r),p.value=s,i.value={first_name:f||"",last_name:g||"",provider:s};else throw new Error("Invalid social authentication data")}catch(o){console.error("Social complete page error:",o),c.push("/login?error=invalid_social_data")}}),(o,r)=>{const s=h;return n(),u("div",B,[t("div",E,[t("div",N,[d(P,{icon:"mdi-account-plus",color:"primary",size:"48",class:"mb-3"}),r[0]||(r[0]=t("h2",{class:"page-title"},"Complete Your Profile",-1)),r[1]||(r[1]=t("p",{class:"page-subtitle"}," Please provide additional information to complete your registration. ",-1))]),i.value?(n(),q(s,{key:0,"user-id":l.value,"social-data":i.value,provider:p.value,onSuccess:v,onError:m,class:"form-section"},null,8,["user-id","social-data","provider"])):(n(),u("div",R,[d(V,{indeterminate:"",color:"primary",size:"32"}),r[2]||(r[2]=t("p",{class:"loading-text"},"Loading...",-1))]))])])}}}),mo=w(b,[["__scopeId","data-v-7aeed246"]]);export{mo as default};

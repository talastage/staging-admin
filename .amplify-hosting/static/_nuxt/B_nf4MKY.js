import{_ as E}from"./DL649WMo.js";import{j as x,n as U,u as B,g as M,l as P,o as b,m as W,x as V,a as h,w as s,p as t,b as o,s as y,v as f,V as j,q,y as C,_ as G,c}from"./CGQimWOm.js";import{u as H}from"./BCoct7aH.js";import{u as J}from"./B3G4pkyN.js";import{b as A,a as I,c as K}from"./BkTuXOR_.js";import{V as i}from"./f5lwX8SZ.js";import{V as $}from"./CRY4crBU.js";import{V as g}from"./CS8xUUzH.js";import{V as L}from"./BvtSni_j.js";import{V as O}from"./P_q-BwEt.js";import{a as Q}from"./DsvAftJq.js";import{V as X}from"./BSH7BhKc.js";import{V as Y}from"./GXZRJwQ4.js";import{u as Z}from"./BW5EWlXk.js";import{u as tt}from"./D78L5r-E.js";import"./xvVMJZi9.js";/* empty css        */import"./2hEmiBig.js";function et(w=500){const v=x(!1),_=x(null);return{loading:v,startLoading:()=>{v.value=!0,_.value=Date.now()},stopLoading:async()=>{if(_.value){const e=Date.now()-_.value;e<w&&await new Promise(a=>setTimeout(a,w-e))}v.value=!1,_.value=null}}}const at={class:"deposit-status-container"},st={class:"mb-4"},ot={class:"mb-4"},lt={class:"mb-4"},nt={class:"d-flex align-center"},rt={class:"text-h5 mb-4"},it={class:"text-body-1 mb-4"},ct={class:"text-body-1"},ut={class:"text-caption text-medium-emphasis ml-2"},dt={class:"d-flex align-center mb-4"},mt={class:"text-body-1"},pt={class:"text-body-1 mb-2"},ft={class:"text-body-1"},vt=U({__name:"WalletDepositDetailPage",setup(w){const v=B(),{$axios:_}=M(),{formatRelativeDate:n,formatLocalDateTime:d}=H(),{currencyFormatter:e}=J(),{loading:a,startLoading:u,stopLoading:p}=et(),r=x(null),D=x(null),S=x(!1),k=async()=>{try{u();const{data:m}=await _.get(`/api/deposits/${v.params.reference}`);r.value=m.deposit}catch(m){D.value="Unable to fetch deposit details. Please try again later.",console.error("Error fetching deposit:",m)}finally{await p()}},T=m=>({pending:"warning",processing:"info",completed:"success",failed:"error",cancelled:"error",refunded:"error"})[m]||"grey",R=m=>({pending:"mdi-clock-outline",processing:"mdi-progress-clock",completed:"mdi-check-circle",failed:"mdi-alert-circle",cancelled:"mdi-cancel",refunded:"mdi-cash-refund"})[m]||"mdi-help-circle",F=m=>m.charAt(0).toUpperCase()+m.slice(1),z=async()=>{if(!S.value)try{S.value=!0,await k()}finally{S.value=!1}};return P(()=>{k()}),(m,l)=>{const N=E;return b(),W("div",at,[V(a)?(b(),h(N,{key:0},{default:s(()=>[t(A,{class:"d-flex align-center pb-2"},{default:s(()=>[t(i,{type:"avatar",size:"32",class:"mr-2"}),t(i,{type:"text",width:"150"})]),_:1}),t(I,null,{default:s(()=>[t($,null,{default:s(()=>[t(g,{cols:"12",sm:"6"},{default:s(()=>[o("div",st,[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"heading",class:"mb-4"})]),o("div",null,[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"chip",width:"100"})])]),_:1}),t(g,{cols:"12",sm:"6"},{default:s(()=>[o("div",ot,[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"text",width:"200"})]),o("div",null,[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"text",width:"180"})])]),_:1})]),_:1}),t(L,{class:"my-4"}),o("div",lt,[t(i,{type:"text",width:"120",class:"mb-3"}),o("div",nt,[t(i,{type:"image",width:"40",height:"40",class:"mr-3"}),t(i,{type:"text",width:"150"})])]),o("div",null,[t(i,{type:"text",width:"120",class:"mb-3"}),t($,null,{default:s(()=>[t(g,{cols:"12",sm:"6"},{default:s(()=>[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"text",width:"180"})]),_:1}),t(g,{cols:"12",sm:"6"},{default:s(()=>[t(i,{type:"text",width:"80",class:"mb-2"}),t(i,{type:"text",width:"180"})]),_:1})]),_:1})])]),_:1})]),_:1})):D.value?(b(),h(O,{key:1,type:"error",class:"mb-4"},{default:s(()=>[y(f(D.value),1)]),_:1})):r.value?(b(),h(N,{key:2},{default:s(()=>[t(A,{class:"d-flex align-center pb-2"},{default:s(()=>[t(j,{color:T(r.value.status),size:"32",class:"mr-2"},{default:s(()=>[y(f(R(r.value.status)),1)]),_:1},8,["color"]),l[0]||(l[0]=y(" Deposit Status "))]),_:1}),t(I,null,{default:s(()=>[t($,null,{default:s(()=>[t(g,{cols:"12",sm:"6"},{default:s(()=>[l[1]||(l[1]=o("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Amount",-1)),o("div",rt,f(V(e)(r.value.amount,r.value.currency.symbol,r.value.currency.code)),1),l[2]||(l[2]=o("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Status",-1)),t(Q,{color:T(r.value.status),"text-color":"white"},{default:s(()=>[y(f(F(r.value.status)),1)]),_:1},8,["color"])]),_:1}),t(g,{cols:"12",sm:"6"},{default:s(()=>[l[3]||(l[3]=o("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Reference",-1)),o("div",it,f(r.value.reference),1),l[4]||(l[4]=o("div",{class:"text-subtitle-1 font-weight-bold mb-2"},"Date",-1)),o("div",ct,[y(f(V(d)(r.value.created_at))+" ",1),o("span",ut," ("+f(V(n)(r.value.created_at))+") ",1)])]),_:1})]),_:1}),t(L,{class:"my-4"}),l[7]||(l[7]=o("div",{class:"text-subtitle-1 font-weight-bold mb-3"}," Payment Method ",-1)),o("div",dt,[t(X,{src:r.value.payment_details.payment_method.logo_url,alt:r.value.payment_details.payment_method.name,width:"40",height:"40",class:"mr-3"},null,8,["src","alt"]),o("div",mt,f(r.value.payment_details.payment_method.name),1)]),l[8]||(l[8]=o("div",{class:"text-subtitle-1 font-weight-bold mb-3"}," Payment Details ",-1)),t($,null,{default:s(()=>[t(g,{cols:"12",sm:"6"},{default:s(()=>[l[5]||(l[5]=o("div",{class:"text-caption text-medium-emphasis"},"Account Name",-1)),o("div",pt,f(r.value.payment_details.account_name||"N/A"),1)]),_:1}),t(g,{cols:"12",sm:"6"},{default:s(()=>[l[6]||(l[6]=o("div",{class:"text-caption text-medium-emphasis"}," Account Number ",-1)),o("div",ft,f(r.value.payment_details.account_number||"N/A"),1)]),_:1})]),_:1})]),_:1}),r.value.status==="pending"?(b(),h(K,{key:0,class:"pt-0"},{default:s(()=>[t(Y),t(q,{color:"primary",onClick:z,loading:S.value},{default:s(()=>l[9]||(l[9]=[y(" Check Status ")])),_:1},8,["loading"])]),_:1})):C("",!0)]),_:1})):C("",!0)])}}}),_t=G(vt,[["__scopeId","data-v-f488c0b2"]]),gt=U({__name:"deposit-[reference]",setup(w){const v=Z(),_=B();P(async()=>{await v.fetchTalaStageApp()});const n=c(()=>v.talastageApp),d=c(()=>_.params.reference);return tt({title:c(()=>{var a;const e=((a=n.value)==null?void 0:a.name)||"TalaStage";return`Deposit Status - ${d.value} - ${e}`}),description:c(()=>{var a;const e=((a=n.value)==null?void 0:a.name)||"TalaStage";return`Track the status of your deposit with reference ID ${d.value} on ${e}. Get updates on your transaction.`}),keywords:c(()=>{var e;return`deposit status, transaction status, wallet, payment tracking, ${d.value}, ${((e=n.value)==null?void 0:e.name)||"TalaStage"}`}),image:c(()=>{var e;return((e=n.value)==null?void 0:e.logo_url)||"/default-social-image.png"}),type:"website",siteName:c(()=>{var e;return((e=n.value)==null?void 0:e.name)||"TalaStage"}),url:c(()=>{var a;return`${((a=n.value)==null?void 0:a.canonical_url)||"https://talastage.com"}/wallet/deposit/${d.value}`}),canonical:c(()=>{var a;return`${((a=n.value)==null?void 0:a.canonical_url)||"https://talastage.com"}/wallet/deposit/${d.value}`}),openGraph:c(()=>{var e,a;return{title:c(()=>{var p;const u=((p=n.value)==null?void 0:p.name)||"TalaStage";return`Deposit Status - ${d.value} - ${u}`}).value,description:c(()=>{var p;const u=((p=n.value)==null?void 0:p.name)||"TalaStage";return`Track the status of your deposit with reference ID ${d.value} on ${u}. Get updates on your transaction.`}).value,url:c(()=>{var p;return`${((p=n.value)==null?void 0:p.canonical_url)||"https://talastage.com"}/wallet/deposit/${d.value}`}).value,image:((e=n.value)==null?void 0:e.logo_url)||"/default-social-image.png",siteName:((a=n.value)==null?void 0:a.name)||"TalaStage",type:"website"}}),twitter:c(()=>{var e;return{card:"summary_large_image",title:c(()=>{var u;const a=((u=n.value)==null?void 0:u.name)||"TalaStage";return`Deposit Status - ${d.value} - ${a}`}).value,description:c(()=>{var u;const a=((u=n.value)==null?void 0:u.name)||"TalaStage";return`Track the status of your deposit with reference ID ${d.value} on ${a}. Get updates on your transaction.`}).value,image:((e=n.value)==null?void 0:e.logo_url)||"/default-social-image.png"}}),link:c(()=>{var e;return[{rel:"icon",href:((e=n.value)==null?void 0:e.favicon_url)||"/favicon.ico"}]})}),(e,a)=>{const u=_t;return b(),h(u)}}}),Pt=G(gt,[["__scopeId","data-v-a7d9e1b5"]]);export{Pt as default};

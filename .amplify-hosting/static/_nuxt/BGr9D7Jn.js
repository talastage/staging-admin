import{n as l,u as d,k as h,i as p,j as _,l as m,g as f,o as v,m as g,b as o,p as n,V as k,v as y,J as x,_ as S}from"./CGQimWOm.js";const w={class:"social-success-container"},V={class:"content-wrapper text-center"},A={class:"success-message"},B={class:"progress-container"},I=l({__name:"success",setup(N){const t=d(),c=h(),r=p(),a=_("");return m(async()=>{try{const e=t.query.token,s=t.query.provider,i=t.query.social_auth;if(a.value=s||"social provider",i==="success"&&e){r.state.token=e;const{$axios:u}=f();u.defaults.headers.common.Authorization=`Bearer ${e}`,localStorage.setItem("token",e),await r.fetchUser(),setTimeout(()=>{c.push("/")},2e3)}else throw new Error("Invalid authentication data")}catch(e){console.error("Social auth success error:",e),c.push("/login?error=social_auth_failed")}}),(e,s)=>(v(),g("div",w,[o("div",V,[n(k,{icon:"mdi-check-circle",color:"success",size:"48",class:"mb-3"}),s[0]||(s[0]=o("h2",{class:"success-title"},"Login Successful!",-1)),o("p",A," You have been successfully logged in with "+y(a.value)+". Redirecting to home... ",1),o("div",B,[n(x,{indeterminate:"",color:"primary",height:"3",rounded:""})])])]))}}),q=S(I,[["__scopeId","data-v-a6ddc2c8"]]);export{q as default};
